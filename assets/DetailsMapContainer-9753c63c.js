import{d as g,h as M,p as O,t as S,f as D,o as u,j as k,l as h,c as C,m as N}from"./index-4a1235ec.js";async function v(d){const r=g();function c(a){let e=[];o==="works"?e=s(n.links):o==="sdgs"?e=i(n.id):e=p(n.name),l.value=e,a()}function s(a){const e=a.filter(t=>o==="sdgs"?t.id!==n.id.toString():t.id!==n.name).map(t=>t.type==="sdg"?{type:"sdg",data:r.homeMapGraph.sdgs.find(f=>f.id.toString()===t.id)}:{type:"field",data:r.homeMapGraph.fields.find(f=>f.name===t.id)});return JSON.stringify(e)}function i(a){const e=r.sdgWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function p(a){const e=r.fieldWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function m(){const a=JSON.parse(l.value);o==="works"?a.forEach(e=>{e.type==="sdg"?e.data.children=JSON.parse(i(e.data.id)):e.data.children=JSON.parse(p(e.data.name))}):a.forEach(e=>{e.children=JSON.parse(s(e.links))}),l.value=a}function _(){return{type:o,data:n,children:l.value}}const o=d.type,n=d.root,l=M(null);return c(m),_()}const G={__name:"DetailsMapContainer",props:["inputObj"],setup(d){const r=d,c=O(()=>S(()=>import("./DetailsMap-861ba03b.js"),["assets/DetailsMap-861ba03b.js","assets/MapView-0602b364.js","assets/index-4a1235ec.js","assets/index-e8f51a17.css","assets/MapView-d9e54ddf.css","assets/DetailsMap-c265d635.css"])),s=g();return D(async()=>{const i=await v(r.inputObj);s.setDetailsMapGraph(i)}),(i,p)=>(u(),k("div",null,[h(s).detailsMapGraph?(u(),C(h(c),{key:0,sizes:r.inputObj.sizes},null,8,["sizes"])):N("",!0)]))}},w=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{w as D,v as c};
