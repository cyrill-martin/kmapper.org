import{am as g,e as M,au as O,ax as S,l as D,o as f,ao as k,aq as h,c as C,ar as N}from"./index-052bb65a.js";async function v(d){const r=g();function c(a){let e=[];i==="works"?e=s(n.links):i==="sdgs"?e=o(n.id):e=p(n.name),l.value=e,a()}function s(a){const e=a.filter(t=>i==="sdgs"?t.id!==n.id.toString():t.id!==n.name).map(t=>t.type==="sdg"?{type:"sdg",data:r.homeMapGraph.sdgs.find(u=>u.id.toString()===t.id)}:{type:"field",data:r.homeMapGraph.fields.find(u=>u.name===t.id)});return JSON.stringify(e)}function o(a){const e=r.sdgWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function p(a){const e=r.fieldWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function m(){const a=JSON.parse(l.value);i==="works"?a.forEach(e=>{e.type==="sdg"?e.data.children=JSON.parse(o(e.data.id)):e.data.children=JSON.parse(p(e.data.name))}):a.forEach(e=>{e.children=JSON.parse(s(e.links))}),l.value=a}function _(){return{type:i,data:n,children:l.value}}const i=d.type,n=d.root,l=M(null);return c(m),_()}const G={__name:"DetailsMapContainer",props:["inputObj"],setup(d){const r=d,c=O(()=>S(()=>import("./DetailsMap-c6a6253e.js"),["assets/DetailsMap-c6a6253e.js","assets/MapView-9fa7f266.js","assets/index-052bb65a.js","assets/index-ede224c2.css","assets/MapView-b93ad6d3.css","assets/DetailsMap-d6b3c176.css"])),s=g();return D(async()=>{const o=await v(r.inputObj);s.setDetailsMapGraph(o)}),(o,p)=>(f(),k("div",null,[h(s).detailsMapGraph?(f(),C(h(c),{key:0,sizes:r.inputObj.sizes},null,8,["sizes"])):N("",!0)]))}},J=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{J as D,v as c};
