import{ag as g,e as M,an as O,ao as S,v as D,o as f,ai as k,ak as h,c as C,al as N}from"./index-17d6f614.js";async function v(d){const r=g();function c(a){let e=[];o==="works"?e=s(n.links):o==="sdgs"?e=i(n.id):e=p(n.name),l.value=e,a()}function s(a){const e=a.filter(t=>o==="sdgs"?t.id!==n.id.toString():t.id!==n.name).map(t=>t.type==="sdg"?{type:"sdg",data:r.homeMapGraph.sdgs.find(u=>u.id.toString()===t.id)}:{type:"field",data:r.homeMapGraph.fields.find(u=>u.name===t.id)});return JSON.stringify(e)}function i(a){const e=r.sdgWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function p(a){const e=r.fieldWorkNodes[a].works.filter(t=>t!==n.id).map(t=>r.homeMapGraph.works[t]);return JSON.stringify(e)}function m(){const a=JSON.parse(l.value);o==="works"?a.forEach(e=>{e.type==="sdg"?e.data.children=JSON.parse(i(e.data.id)):e.data.children=JSON.parse(p(e.data.name))}):a.forEach(e=>{e.children=JSON.parse(s(e.links))}),l.value=a}function _(){return{type:o,data:n,children:l.value}}const o=d.type,n=d.root,l=M(null);return c(m),_()}const G={__name:"DetailsMapContainer",props:["inputObj"],setup(d){const r=d,c=O(()=>S(()=>import("./DetailsMap-f2af9aa6.js"),["assets/DetailsMap-f2af9aa6.js","assets/MapView-e4aaf8f6.js","assets/index-17d6f614.js","assets/index-8c1173b2.css","assets/MapView-2f82a8da.css"])),s=g();return D(async()=>{const i=await v(r.inputObj);s.setDetailsMapGraph(i)}),(i,p)=>(f(),k("div",null,[h(s).detailsMapGraph?(f(),C(h(c),{key:0,sizes:r.inputObj.sizes},null,8,["sizes"])):N("",!0)]))}},J=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{J as D,v as c};
