import{d as Er,f as ka,e as A,g as Zt,h as Te,i as Sa,j as Je,k as ot,l as Ye,m as oo,n as Ge,p as R,q as kt,s as je,u as xt,b as xs,F as Ft,C as $a,t as be,v as Ze,x as Ot,y as Cs,z as ke,A as v,T as _s,B as io,D as sr,E as Ct,G as ks,H as Ss,I as yn,J as hn,K as ao,V as Ko,L as $s,M as Ms,N as xn,O as Uo,P as Ma,Q as cr,R as dr,S as zs,U as Ps,W as lo,X as Ts,Y as Bt,Z as za,$ as so,a0 as Fs,a1 as rn,a2 as Pa,a3 as Rr,a4 as Xo,a5 as Os,a6 as qo,a7 as Yo,a8 as jn,a9 as Bs,aa as Zo,ab as As,ac as Is,ad as Es,ae as Rs,af as Ns,ag as Ls,ah as Ds,ai as it,aj as W,ak as X,al as te,am as Ke,an as Me,ao as co,ap as Hs,aq as ce,ar as at,as as yt,at as Gt,au as Ta,av as rt,aw as on,ax as Gs,ay as ne,az as dt,aA as Wt,aB as Tt,aC as Ne,aD as Fa,aE as Oa,aF as Xn,aG as Ws,aH as Lt,aI as qn,aJ as wr,aK as Jo,aL as js,aM as Cn,aN as Ba,aO as Vs,aP as _e,aQ as Ce,aR as Qo,aS as uo,aT as Ks,aU as Us,aV as Aa,aW as Ia,aX as Xs,aY as Ea,aZ as qs,a_ as Ys,a$ as ei,b0 as Zs,b1 as ti,b2 as ni,b3 as Js,b4 as Qs,b5 as ec,b6 as Ra,b7 as tc,b8 as nc,b9 as Na,o as ft,ba as Fn,bb as Jt,w as Yn,bc as He,c as _n,bd as kn,be as ur,bf as fo,bg as rc,a as ho,bh as oc,bi as ic}from"./index-8d96ebc9.js";let Zn=[];const La=new WeakMap;function ac(){Zn.forEach(e=>e(...La.get(e))),Zn=[]}function Da(e,...t){La.set(e,t),!Zn.includes(e)&&Zn.push(e)===1&&requestAnimationFrame(ac)}function Qt(e,t){let{target:n}=e;for(;n;){if(n.dataset&&n.dataset[t]!==void 0)return!0;n=n.parentElement}return!1}function Sn(e,t=[],n){const r={};return t.forEach(o=>{r[o]=e[o]}),Object.assign(r,n)}function fr(e){return Object.keys(e)}function ri(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw Error(`${e} has no smaller size.`)}function lc(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Nr(e,t="default",n=void 0){const r=e[t];if(!r)return Er("getFirstSlotVNode",`slot[${t}] is empty`),null;const o=ka(r(n));return o.length===1?o[0]:(Er("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function sc(e){return t=>{t?e.value=t.$el:e.value=null}}function bn(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(r=>{r&&r(n)})}}let yr;function cc(){return yr===void 0&&(yr=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),yr}const Ha=new WeakSet;function dc(e){Ha.add(e)}function uc(e){return!Ha.has(e)}function fc(e){const t=A(!!e.value);if(t.value)return Zt(t);const n=Te(e,r=>{r&&(t.value=!0,n())});return Zt(t)}function Ga(){return Sa()!==null}const po=typeof window<"u";let qt,wn;const hc=()=>{var e,t;qt=po?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,wn=!1,qt!==void 0?qt.then(()=>{wn=!0}):wn=!0};hc();function pc(e){if(wn)return;let t=!1;Je(()=>{wn||qt==null||qt.then(()=>{t||e()})}),ot(()=>{t=!0})}const pn=A(null);function oi(e){if(e.clientX>0||e.clientY>0)pn.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:n,top:r,width:o,height:i}=t.getBoundingClientRect();n>0||r>0?pn.value={x:n+o/2,y:r+i/2}:pn.value={x:0,y:0}}else pn.value=null}}let En=0,ii=!0;function gc(){if(!po)return Zt(A(null));En===0&&Ye("click",document,oi,!0);const e=()=>{En+=1};return ii&&(ii=Ga())?(oo(e),ot(()=>{En-=1,En===0&&Ge("click",document,oi,!0)})):e(),Zt(pn)}const vc=A(void 0);let Rn=0;function ai(){vc.value=Date.now()}let li=!0;function mc(e){if(!po)return Zt(A(!1));const t=A(!1);let n=null;function r(){n!==null&&window.clearTimeout(n)}function o(){r(),t.value=!0,n=window.setTimeout(()=>{t.value=!1},e)}Rn===0&&Ye("click",window,ai,!0);const i=()=>{Rn+=1,Ye("click",window,o,!0)};return li&&(li=Ga())?(oo(i),ot(()=>{Rn-=1,Rn===0&&Ge("click",window,ai,!0),Ge("click",window,o,!0),r()})):i(),Zt(t)}function go(e,t){return R(()=>{for(const n of t)if(e[n]!==void 0)return e[n];return e[t[t.length-1]]})}const vo=kt("n-internal-select-menu"),Wa=kt("n-internal-select-menu-body"),mo=kt("n-modal-body"),ja=kt("n-modal"),bo=kt("n-drawer-body"),wo=kt("n-popover-body"),Va="__disabled__";function pt(e){const t=je(mo,null),n=je(bo,null),r=je(wo,null),o=je(Wa,null),i=A();if(typeof document<"u"){i.value=document.fullscreenElement;const a=()=>{i.value=document.fullscreenElement};Je(()=>{Ye("fullscreenchange",document,a)}),ot(()=>{Ge("fullscreenchange",document,a)})}return xt(()=>{var a;const{to:l}=e;return l!==void 0?l===!1?Va:l===!0?i.value||"body":l:t!=null&&t.value?(a=t.value.$el)!==null&&a!==void 0?a:t.value:n!=null&&n.value?n.value:r!=null&&r.value?r.value:o!=null&&o.value?o.value:l??(i.value||"body")})}pt.tdkey=Va;pt.propTo={type:[String,Object,Boolean],default:void 0};function Lr(e,t,n="default"){const r=t[n];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${n}] is empty.`);return r()}function Dr(e,t=!0,n=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(xs(String(r)));return}if(Array.isArray(r)){Dr(r,t,n);return}if(r.type===Ft){if(r.children===null)return;Array.isArray(r.children)&&Dr(r.children,t,n)}else r.type!==$a&&n.push(r)}}),n}function si(e,t,n="default"){const r=t[n];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${n}] is empty.`);const o=Dr(r());if(o.length===1)return o[0];throw new Error(`[vueuc/${e}]: slot[${n}] should have exactly one child.`)}let $t=null;function Ka(){if($t===null&&($t=document.getElementById("v-binder-view-measurer"),$t===null)){$t=document.createElement("div"),$t.id="v-binder-view-measurer";const{style:e}=$t;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild($t)}return $t.getBoundingClientRect()}function bc(e,t){const n=Ka();return{top:t,left:e,height:0,width:0,right:n.width-e,bottom:n.height-t}}function xr(e){const t=e.getBoundingClientRect(),n=Ka();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function wc(e){return e.nodeType===9?null:e.parentNode}function Ua(e){if(e===null)return null;const t=wc(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:n,overflowX:r,overflowY:o}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(n+o+r))return t}return Ua(t)}const yc=be({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;Ze("VBinder",(t=Sa())===null||t===void 0?void 0:t.proxy);const n=je("VBinder",null),r=A(null),o=b=>{r.value=b,n&&e.syncTargetWithParent&&n.setTargetRef(b)};let i=[];const a=()=>{let b=r.value;for(;b=Ua(b),b!==null;)i.push(b);for(const x of i)Ye("scroll",x,f,!0)},l=()=>{for(const b of i)Ge("scroll",b,f,!0);i=[]},s=new Set,c=b=>{s.size===0&&a(),s.has(b)||s.add(b)},d=b=>{s.has(b)&&s.delete(b),s.size===0&&l()},f=()=>{Da(u)},u=()=>{s.forEach(b=>b())},h=new Set,p=b=>{h.size===0&&Ye("resize",window,m),h.has(b)||h.add(b)},g=b=>{h.has(b)&&h.delete(b),h.size===0&&Ge("resize",window,m)},m=()=>{h.forEach(b=>b())};return ot(()=>{Ge("resize",window,m),l()}),{targetRef:r,setTargetRef:o,addScrollListener:c,removeScrollListener:d,addResizeListener:p,removeResizeListener:g}},render(){return Lr("binder",this.$slots)}}),Xa=yc,qa=be({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=je("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?Ot(si("follower",this.$slots),[[t]]):si("follower",this.$slots)}}),jt="@@mmoContext",xc={mounted(e,{value:t}){e[jt]={handler:void 0},typeof t=="function"&&(e[jt].handler=t,Ye("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[jt];typeof t=="function"?n.handler?n.handler!==t&&(Ge("mousemoveoutside",e,n.handler),n.handler=t,Ye("mousemoveoutside",e,t)):(e[jt].handler=t,Ye("mousemoveoutside",e,t)):n.handler&&(Ge("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[jt];t&&Ge("mousemoveoutside",e,t),e[jt].handler=void 0}},Cc=xc,Vt="@@coContext",_c={mounted(e,{value:t,modifiers:n}){e[Vt]={handler:void 0},typeof t=="function"&&(e[Vt].handler=t,Ye("clickoutside",e,t,{capture:n.capture}))},updated(e,{value:t,modifiers:n}){const r=e[Vt];typeof t=="function"?r.handler?r.handler!==t&&(Ge("clickoutside",e,r.handler,{capture:n.capture}),r.handler=t,Ye("clickoutside",e,t,{capture:n.capture})):(e[Vt].handler=t,Ye("clickoutside",e,t,{capture:n.capture})):r.handler&&(Ge("clickoutside",e,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:n}=e[Vt];n&&Ge("clickoutside",e,n,{capture:t.capture}),e[Vt].handler=void 0}},$n=_c;function kc(e,t){console.error(`[vdirs/${e}]: ${t}`)}class Sc{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,n){const{elementZIndex:r}=this;if(n!==void 0){t.style.zIndex=`${n}`,r.delete(t);return}const{nextZIndex:o}=this;r.has(t)&&r.get(t)+1===this.nextZIndex||(t.style.zIndex=`${o}`,r.set(t,o),this.nextZIndex=o+1,this.squashState())}unregister(t,n){const{elementZIndex:r}=this;r.has(t)?r.delete(t):n===void 0&&kc("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((n,r)=>n[1]-r[1]),this.nextZIndex=2e3,t.forEach(n=>{const r=n[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const Cr=new Sc,Kt="@@ziContext",$c={mounted(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n;e[Kt]={enabled:!!o,initialized:!1},o&&(Cr.ensureZIndex(e,r),e[Kt].initialized=!0)},updated(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n,i=e[Kt].enabled;o&&!i&&(Cr.ensureZIndex(e,r),e[Kt].initialized=!0),e[Kt].enabled=!!o},unmounted(e,t){if(!e[Kt].initialized)return;const{value:n={}}=t,{zIndex:r}=n;Cr.unregister(e,r)}},yo=$c,{c:Pt}=Cs(),xo="vueuc-style";function ci(e){return e&-e}class Mc{constructor(t,n){this.l=t,this.min=n;const r=new Array(t+1);for(let o=0;o<t+1;++o)r[o]=0;this.ft=r}add(t,n){if(n===0)return;const{l:r,ft:o}=this;for(t+=1;t<=r;)o[t]+=n,t+=ci(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:r,l:o}=this;if(t>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=t*r;for(;t>0;)i+=n[t],t-=ci(t);return i}getBound(t){let n=0,r=this.l;for(;r>n;){const o=Math.floor((n+r)/2),i=this.sum(o);if(i>t){r=o;continue}else if(i<t){if(n===o)return this.sum(n+1)<=t?n+1:o;n=o}else return o}return n}}function di(e){return typeof e=="string"?document.querySelector(e):e()}const Ya=be({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:fc(ke(e,"show")),mergedTo:R(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?Lr("lazy-teleport",this.$slots):v(_s,{disabled:this.disabled,to:this.mergedTo},Lr("lazy-teleport",this.$slots)):null}}),Nn={top:"bottom",bottom:"top",left:"right",right:"left"},ui={start:"end",center:"center",end:"start"},_r={top:"height",bottom:"height",left:"width",right:"width"},zc={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Pc={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Tc={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},fi={top:!0,bottom:!1,left:!0,right:!1},hi={top:"end",bottom:"start",left:"end",right:"start"};function Fc(e,t,n,r,o,i){if(!o||i)return{placement:e,top:0,left:0};const[a,l]=e.split("-");let s=l??"center",c={top:0,left:0};const d=(h,p,g)=>{let m=0,b=0;const x=n[h]-t[p]-t[h];return x>0&&r&&(g?b=fi[p]?x:-x:m=fi[p]?x:-x),{left:m,top:b}},f=a==="left"||a==="right";if(s!=="center"){const h=Tc[e],p=Nn[h],g=_r[h];if(n[g]>t[g]){if(t[h]+t[g]<n[g]){const m=(n[g]-t[g])/2;t[h]<m||t[p]<m?t[h]<t[p]?(s=ui[l],c=d(g,p,f)):c=d(g,h,f):s="center"}}else n[g]<t[g]&&t[p]<0&&t[h]>t[p]&&(s=ui[l])}else{const h=a==="bottom"||a==="top"?"left":"top",p=Nn[h],g=_r[h],m=(n[g]-t[g])/2;(t[h]<m||t[p]<m)&&(t[h]>t[p]?(s=hi[h],c=d(g,h,f)):(s=hi[p],c=d(g,p,f)))}let u=a;return t[a]<n[_r[a]]&&t[a]<t[Nn[a]]&&(u=Nn[a]),{placement:s!=="center"?`${u}-${s}`:u,left:c.left,top:c.top}}function Oc(e,t){return t?Pc[e]:zc[e]}function Bc(e,t,n,r,o,i){if(i)switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateX(-50%)"}}}const Ac=Pt([Pt(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Pt(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Pt("> *",{pointerEvents:"all"})])]),Za=be({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=je("VBinder"),n=xt(()=>e.enabled!==void 0?e.enabled:e.show),r=A(null),o=A(null),i=()=>{const{syncTrigger:u}=e;u.includes("scroll")&&t.addScrollListener(s),u.includes("resize")&&t.addResizeListener(s)},a=()=>{t.removeScrollListener(s),t.removeResizeListener(s)};Je(()=>{n.value&&(s(),i())});const l=io();Ac.mount({id:"vueuc/binder",head:!0,anchorMetaName:xo,ssr:l}),ot(()=>{a()}),pc(()=>{n.value&&s()});const s=()=>{if(!n.value)return;const u=r.value;if(u===null)return;const h=t.targetRef,{x:p,y:g,overlap:m}=e,b=p!==void 0&&g!==void 0?bc(p,g):xr(h);u.style.setProperty("--v-target-width",`${Math.round(b.width)}px`),u.style.setProperty("--v-target-height",`${Math.round(b.height)}px`);const{width:x,minWidth:$,placement:k,internalShift:y,flip:S}=e;u.setAttribute("v-placement",k),m?u.setAttribute("v-overlap",""):u.removeAttribute("v-overlap");const{style:P}=u;x==="target"?P.width=`${b.width}px`:x!==void 0?P.width=x:P.width="",$==="target"?P.minWidth=`${b.width}px`:$!==void 0?P.minWidth=$:P.minWidth="";const j=xr(u),q=xr(o.value),{left:N,top:E,placement:H}=Fc(k,b,j,y,S,m),G=Oc(H,m),{left:re,top:I,transform:U}=Bc(H,q,b,E,N,m);u.setAttribute("v-placement",H),u.style.setProperty("--v-offset-left",`${Math.round(N)}px`),u.style.setProperty("--v-offset-top",`${Math.round(E)}px`),u.style.transform=`translateX(${re}) translateY(${I}) ${U}`,u.style.setProperty("--v-transform-origin",G),u.style.transformOrigin=G};Te(n,u=>{u?(i(),c()):a()});const c=()=>{Ct().then(s).catch(u=>console.error(u))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(u=>{Te(ke(e,u),s)}),["teleportDisabled"].forEach(u=>{Te(ke(e,u),c)}),Te(ke(e,"syncTrigger"),u=>{u.includes("resize")?t.addResizeListener(s):t.removeResizeListener(s),u.includes("scroll")?t.addScrollListener(s):t.removeScrollListener(s)});const d=sr(),f=xt(()=>{const{to:u}=e;if(u!==void 0)return u;d.value});return{VBinder:t,mergedEnabled:n,offsetContainerRef:o,followerRef:r,mergedTo:f,syncPosition:s}},render(){return v(Ya,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const n=v("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[v("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?Ot(n,[[yo,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});let Ln;function Ic(){return typeof document>"u"?!1:(Ln===void 0&&("matchMedia"in window?Ln=window.matchMedia("(pointer:coarse)").matches:Ln=!1),Ln)}let kr;function pi(){return typeof document>"u"?1:(kr===void 0&&(kr="chrome"in window?window.devicePixelRatio:1),kr)}const Ec=Pt(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Pt("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Pt("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Rc=be({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=io();Ec.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:xo,ssr:t}),Je(()=>{const{defaultScrollIndex:E,defaultScrollKey:H}=e;E!=null?p({index:E}):H!=null&&p({key:H})});let n=!1,r=!1;ks(()=>{if(n=!1,!r){r=!0;return}p({top:f.value,left:d})}),Ss(()=>{n=!0,r||(r=!0)});const o=R(()=>{const E=new Map,{keyField:H}=e;return e.items.forEach((G,re)=>{E.set(G[H],re)}),E}),i=A(null),a=A(void 0),l=new Map,s=R(()=>{const{items:E,itemSize:H,keyField:G}=e,re=new Mc(E.length,H);return E.forEach((I,U)=>{const Z=I[G],oe=l.get(Z);oe!==void 0&&re.add(U,oe)}),re}),c=A(0);let d=0;const f=A(0),u=xt(()=>Math.max(s.value.getBound(f.value-yn(e.paddingTop))-1,0)),h=R(()=>{const{value:E}=a;if(E===void 0)return[];const{items:H,itemSize:G}=e,re=u.value,I=Math.min(re+Math.ceil(E/G+1),H.length-1),U=[];for(let Z=re;Z<=I;++Z)U.push(H[Z]);return U}),p=(E,H)=>{if(typeof E=="number"){x(E,H,"auto");return}const{left:G,top:re,index:I,key:U,position:Z,behavior:oe,debounce:Y=!0}=E;if(G!==void 0||re!==void 0)x(G,re,oe);else if(I!==void 0)b(I,oe,Y);else if(U!==void 0){const D=o.value.get(U);D!==void 0&&b(D,oe,Y)}else Z==="bottom"?x(0,Number.MAX_SAFE_INTEGER,oe):Z==="top"&&x(0,0,oe)};let g,m=null;function b(E,H,G){const{value:re}=s,I=re.sum(E)+yn(e.paddingTop);if(!G)i.value.scrollTo({left:0,top:I,behavior:H});else{g=E,m!==null&&window.clearTimeout(m),m=window.setTimeout(()=>{g=void 0,m=null},16);const{scrollTop:U,offsetHeight:Z}=i.value;if(I>U){const oe=re.get(E);I+oe<=U+Z||i.value.scrollTo({left:0,top:I+oe-Z,behavior:H})}else i.value.scrollTo({left:0,top:I,behavior:H})}}function x(E,H,G){i.value.scrollTo({left:E,top:H,behavior:G})}function $(E,H){var G,re,I;if(n||e.ignoreItemResize||N(H.target))return;const{value:U}=s,Z=o.value.get(E),oe=U.get(Z),Y=(I=(re=(G=H.borderBoxSize)===null||G===void 0?void 0:G[0])===null||re===void 0?void 0:re.blockSize)!==null&&I!==void 0?I:H.contentRect.height;if(Y===oe)return;Y-e.itemSize===0?l.delete(E):l.set(E,Y-e.itemSize);const he=Y-oe;if(he===0)return;U.add(Z,he);const T=i.value;if(T!=null){if(g===void 0){const L=U.sum(Z);T.scrollTop>L&&T.scrollBy(0,he)}else if(Z<g)T.scrollBy(0,he);else if(Z===g){const L=U.sum(Z);Y+L>T.scrollTop+T.offsetHeight&&T.scrollBy(0,he)}q()}c.value++}const k=!Ic();let y=!1;function S(E){var H;(H=e.onScroll)===null||H===void 0||H.call(e,E),(!k||!y)&&q()}function P(E){var H;if((H=e.onWheel)===null||H===void 0||H.call(e,E),k){const G=i.value;if(G!=null){if(E.deltaX===0&&(G.scrollTop===0&&E.deltaY<=0||G.scrollTop+G.offsetHeight>=G.scrollHeight&&E.deltaY>=0))return;E.preventDefault(),G.scrollTop+=E.deltaY/pi(),G.scrollLeft+=E.deltaX/pi(),q(),y=!0,Da(()=>{y=!1})}}}function j(E){if(n||N(E.target)||E.contentRect.height===a.value)return;a.value=E.contentRect.height;const{onResize:H}=e;H!==void 0&&H(E)}function q(){const{value:E}=i;E!=null&&(f.value=E.scrollTop,d=E.scrollLeft)}function N(E){let H=E;for(;H!==null;){if(H.style.display==="none")return!0;H=H.parentElement}return!1}return{listHeight:a,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:R(()=>{const{itemResizable:E}=e,H=hn(s.value.sum());return c.value,[e.itemsStyle,{boxSizing:"content-box",height:E?"":H,minHeight:E?H:"",paddingTop:hn(e.paddingTop),paddingBottom:hn(e.paddingBottom)}]}),visibleItemsStyle:R(()=>(c.value,{transform:`translateY(${hn(s.value.sum(u.value))})`})),viewportItems:h,listElRef:i,itemsElRef:A(null),scrollTo:p,handleListResize:j,handleListScroll:S,handleListWheel:P,handleItemResize:$}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:r}=this;return v(Ko,{onResize:this.handleListResize},{default:()=>{var o,i;return v("div",ao(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?v("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[v(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(a=>{const l=a[t],s=n.get(l),c=this.$slots.default({item:a,index:s})[0];return e?v(Ko,{key:l,onResize:d=>this.handleItemResize(l,d)},{default:()=>c}):(c.key=l,c)})})]):(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)])}})}}),vt="v-hidden",Nc=Pt("[v-hidden]",{display:"none!important"}),gi=be({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const n=A(null),r=A(null);function o(a){const{value:l}=n,{getCounter:s,getTail:c}=e;let d;if(s!==void 0?d=s():d=r.value,!l||!d)return;d.hasAttribute(vt)&&d.removeAttribute(vt);const{children:f}=l;if(a.showAllItemsBeforeCalculate)for(const $ of f)$.hasAttribute(vt)&&$.removeAttribute(vt);const u=l.offsetWidth,h=[],p=t.tail?c==null?void 0:c():null;let g=p?p.offsetWidth:0,m=!1;const b=l.children.length-(t.tail?1:0);for(let $=0;$<b-1;++$){if($<0)continue;const k=f[$];if(m){k.hasAttribute(vt)||k.setAttribute(vt,"");continue}else k.hasAttribute(vt)&&k.removeAttribute(vt);const y=k.offsetWidth;if(g+=y,h[$]=y,g>u){const{updateCounter:S}=e;for(let P=$;P>=0;--P){const j=b-1-P;S!==void 0?S(j):d.textContent=`${j}`;const q=d.offsetWidth;if(g-=h[P],g+q<=u||P===0){m=!0,$=P-1,p&&($===-1?(p.style.maxWidth=`${u-q}px`,p.style.boxSizing="border-box"):p.style.maxWidth="");const{onUpdateCount:N}=e;N&&N(j);break}}}}const{onUpdateOverflow:x}=e;m?x!==void 0&&x(!0):(x!==void 0&&x(!1),d.setAttribute(vt,""))}const i=io();return Nc.mount({id:"vueuc/overflow",head:!0,anchorMetaName:xo,ssr:i}),Je(()=>o({showAllItemsBeforeCalculate:!1})),{selfRef:n,counterRef:r,sync:o}},render(){const{$slots:e}=this;return Ct(()=>this.sync({showAllItemsBeforeCalculate:!1})),v("div",{class:"v-overflow",ref:"selfRef"},[$s(e,"default"),e.counter?e.counter():v("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Ja(e){return e instanceof HTMLElement}function Qa(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Ja(n)&&(tl(n)||Qa(n)))return!0}return!1}function el(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Ja(n)&&(tl(n)||el(n)))return!0}return!1}function tl(e){if(!Lc(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function Lc(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let an=[];const nl=be({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Ms(),n=A(null),r=A(null);let o=!1,i=!1;const a=typeof document>"u"?null:document.activeElement;function l(){return an[an.length-1]===t}function s(m){var b;m.code==="Escape"&&l()&&((b=e.onEsc)===null||b===void 0||b.call(e,m))}Je(()=>{Te(()=>e.active,m=>{m?(f(),Ye("keydown",document,s)):(Ge("keydown",document,s),o&&u())},{immediate:!0})}),ot(()=>{Ge("keydown",document,s),o&&u()});function c(m){if(!i&&l()){const b=d();if(b===null||b.contains(xn(m)))return;h("first")}}function d(){const m=n.value;if(m===null)return null;let b=m;for(;b=b.nextSibling,!(b===null||b instanceof Element&&b.tagName==="DIV"););return b}function f(){var m;if(!e.disabled){if(an.push(t),e.autoFocus){const{initialFocusTo:b}=e;b===void 0?h("first"):(m=di(b))===null||m===void 0||m.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",c,!0)}}function u(){var m;if(e.disabled||(document.removeEventListener("focus",c,!0),an=an.filter(x=>x!==t),l()))return;const{finalFocusTo:b}=e;b!==void 0?(m=di(b))===null||m===void 0||m.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&a instanceof HTMLElement&&(i=!0,a.focus({preventScroll:!0}),i=!1)}function h(m){if(l()&&e.active){const b=n.value,x=r.value;if(b!==null&&x!==null){const $=d();if($==null||$===x){i=!0,b.focus({preventScroll:!0}),i=!1;return}i=!0;const k=m==="first"?Qa($):el($);i=!1,k||(i=!0,b.focus({preventScroll:!0}),i=!1)}}}function p(m){if(i)return;const b=d();b!==null&&(m.relatedTarget!==null&&b.contains(m.relatedTarget)?h("last"):h("first"))}function g(m){i||(m.relatedTarget!==null&&m.relatedTarget===n.value?h("last"):h("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:p,handleEndFocus:g}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:n}=this;return v(Ft,null,[v("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),e(),v("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});function rl(e,t){t&&(Je(()=>{const{value:n}=e;n&&Uo.registerHandler(n,t)}),ot(()=>{const{value:n}=e;n&&Uo.unregisterHandler(n)}))}let Ut=0,vi="",mi="",bi="",wi="";const yi=A("0px");function Dc(e){if(typeof document>"u")return;const t=document.documentElement;let n,r=!1;const o=()=>{t.style.marginRight=vi,t.style.overflow=mi,t.style.overflowX=bi,t.style.overflowY=wi,yi.value="0px"};Je(()=>{n=Te(e,i=>{if(i){if(!Ut){const a=window.innerWidth-t.offsetWidth;a>0&&(vi=t.style.marginRight,t.style.marginRight=`${a}px`,yi.value=`${a}px`),mi=t.style.overflow,bi=t.style.overflowX,wi=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}r=!0,Ut++}else Ut--,Ut||o(),r=!1},{immediate:!0})}),ot(()=>{n==null||n(),r&&(Ut--,Ut||o(),r=!1)})}const Co=A(!1),xi=()=>{Co.value=!0},Ci=()=>{Co.value=!1};let ln=0;const Hc=()=>(Ma&&(oo(()=>{ln||(window.addEventListener("compositionstart",xi),window.addEventListener("compositionend",Ci)),ln++}),ot(()=>{ln<=1?(window.removeEventListener("compositionstart",xi),window.removeEventListener("compositionend",Ci),ln=0):ln--})),Co);var Gc=cr(dr,"WeakMap");const Hr=Gc;var Wc=zs(Object.keys,Object);const jc=Wc;var Vc=Object.prototype,Kc=Vc.hasOwnProperty;function Uc(e){if(!Ps(e))return jc(e);var t=[];for(var n in Object(e))Kc.call(e,n)&&n!="constructor"&&t.push(n);return t}function _o(e){return lo(e)?Ts(e):Uc(e)}var Xc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qc=/^\w*$/;function ko(e,t){if(Bt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||za(e)?!0:qc.test(e)||!Xc.test(e)||t!=null&&e in Object(t)}var Yc="Expected a function";function So(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Yc);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(So.Cache||so),n}So.Cache=so;var Zc=500;function Jc(e){var t=So(e,function(r){return n.size===Zc&&n.clear(),r}),n=t.cache;return t}var Qc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ed=/\\(\\)?/g,td=Jc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qc,function(n,r,o,i){t.push(o?i.replace(ed,"$1"):r||n)}),t});const nd=td;function ol(e,t){return Bt(e)?e:ko(e,t)?[e]:nd(Fs(e))}var rd=1/0;function hr(e){if(typeof e=="string"||za(e))return e;var t=e+"";return t=="0"&&1/e==-rd?"-0":t}function il(e,t){t=ol(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[hr(t[n++])];return n&&n==r?e:void 0}function od(e,t,n){var r=e==null?void 0:il(e,t);return r===void 0?n:r}function id(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ad(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function ld(){return[]}var sd=Object.prototype,cd=sd.propertyIsEnumerable,_i=Object.getOwnPropertySymbols,dd=_i?function(e){return e==null?[]:(e=Object(e),ad(_i(e),function(t){return cd.call(e,t)}))}:ld;const ud=dd;function fd(e,t,n){var r=t(e);return Bt(e)?r:id(r,n(e))}function ki(e){return fd(e,_o,ud)}var hd=cr(dr,"DataView");const Gr=hd;var pd=cr(dr,"Promise");const Wr=pd;var gd=cr(dr,"Set");const jr=gd;var Si="[object Map]",vd="[object Object]",$i="[object Promise]",Mi="[object Set]",zi="[object WeakMap]",Pi="[object DataView]",md=rn(Gr),bd=rn(Rr),wd=rn(Wr),yd=rn(jr),xd=rn(Hr),Et=Pa;(Gr&&Et(new Gr(new ArrayBuffer(1)))!=Pi||Rr&&Et(new Rr)!=Si||Wr&&Et(Wr.resolve())!=$i||jr&&Et(new jr)!=Mi||Hr&&Et(new Hr)!=zi)&&(Et=function(e){var t=Pa(e),n=t==vd?e.constructor:void 0,r=n?rn(n):"";if(r)switch(r){case md:return Pi;case bd:return Si;case wd:return $i;case yd:return Mi;case xd:return zi}return t});const Ti=Et;var Cd="__lodash_hash_undefined__";function _d(e){return this.__data__.set(e,Cd),this}function kd(e){return this.__data__.has(e)}function Jn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new so;++t<n;)this.add(e[t])}Jn.prototype.add=Jn.prototype.push=_d;Jn.prototype.has=kd;function Sd(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $d(e,t){return e.has(t)}var Md=1,zd=2;function al(e,t,n,r,o,i){var a=n&Md,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,u=!0,h=n&zd?new Jn:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var p=e[f],g=t[f];if(r)var m=a?r(g,p,f,t,e,i):r(p,g,f,e,t,i);if(m!==void 0){if(m)continue;u=!1;break}if(h){if(!Sd(t,function(b,x){if(!$d(h,x)&&(p===b||o(p,b,n,r,i)))return h.push(x)})){u=!1;break}}else if(!(p===g||o(p,g,n,r,i))){u=!1;break}}return i.delete(e),i.delete(t),u}function Pd(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Td(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Fd=1,Od=2,Bd="[object Boolean]",Ad="[object Date]",Id="[object Error]",Ed="[object Map]",Rd="[object Number]",Nd="[object RegExp]",Ld="[object Set]",Dd="[object String]",Hd="[object Symbol]",Gd="[object ArrayBuffer]",Wd="[object DataView]",Fi=Xo?Xo.prototype:void 0,Sr=Fi?Fi.valueOf:void 0;function jd(e,t,n,r,o,i,a){switch(n){case Wd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Gd:return!(e.byteLength!=t.byteLength||!i(new qo(e),new qo(t)));case Bd:case Ad:case Rd:return Os(+e,+t);case Id:return e.name==t.name&&e.message==t.message;case Nd:case Dd:return e==t+"";case Ed:var l=Pd;case Ld:var s=r&Fd;if(l||(l=Td),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=Od,a.set(e,t);var d=al(l(e),l(t),r,o,i,a);return a.delete(e),d;case Hd:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}var Vd=1,Kd=Object.prototype,Ud=Kd.hasOwnProperty;function Xd(e,t,n,r,o,i){var a=n&Vd,l=ki(e),s=l.length,c=ki(t),d=c.length;if(s!=d&&!a)return!1;for(var f=s;f--;){var u=l[f];if(!(a?u in t:Ud.call(t,u)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var m=a;++f<s;){u=l[f];var b=e[u],x=t[u];if(r)var $=a?r(x,b,u,t,e,i):r(b,x,u,e,t,i);if(!($===void 0?b===x||o(b,x,n,r,i):$)){g=!1;break}m||(m=u=="constructor")}if(g&&!m){var k=e.constructor,y=t.constructor;k!=y&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof y=="function"&&y instanceof y)&&(g=!1)}return i.delete(e),i.delete(t),g}var qd=1,Oi="[object Arguments]",Bi="[object Array]",Dn="[object Object]",Yd=Object.prototype,Ai=Yd.hasOwnProperty;function Zd(e,t,n,r,o,i){var a=Bt(e),l=Bt(t),s=a?Bi:Ti(e),c=l?Bi:Ti(t);s=s==Oi?Dn:s,c=c==Oi?Dn:c;var d=s==Dn,f=c==Dn,u=s==c;if(u&&Yo(e)){if(!Yo(t))return!1;a=!0,d=!1}if(u&&!d)return i||(i=new jn),a||Bs(e)?al(e,t,n,r,o,i):jd(e,t,s,n,r,o,i);if(!(n&qd)){var h=d&&Ai.call(e,"__wrapped__"),p=f&&Ai.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return i||(i=new jn),o(g,m,n,r,i)}}return u?(i||(i=new jn),Xd(e,t,n,r,o,i)):!1}function $o(e,t,n,r,o){return e===t?!0:e==null||t==null||!Zo(e)&&!Zo(t)?e!==e&&t!==t:Zd(e,t,n,r,$o,o)}var Jd=1,Qd=2;function eu(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){l=n[o];var s=l[0],c=e[s],d=l[1];if(a&&l[2]){if(c===void 0&&!(s in e))return!1}else{var f=new jn;if(r)var u=r(c,d,s,e,t,f);if(!(u===void 0?$o(d,c,Jd|Qd,r,f):u))return!1}}return!0}function ll(e){return e===e&&!As(e)}function tu(e){for(var t=_o(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ll(o)]}return t}function sl(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function nu(e){var t=tu(e);return t.length==1&&t[0][2]?sl(t[0][0],t[0][1]):function(n){return n===e||eu(n,e,t)}}function ru(e,t){return e!=null&&t in Object(e)}function ou(e,t,n){t=ol(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=hr(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Is(o)&&Es(a,o)&&(Bt(e)||Rs(e)))}function iu(e,t){return e!=null&&ou(e,t,ru)}var au=1,lu=2;function su(e,t){return ko(e)&&ll(t)?sl(hr(e),t):function(n){var r=od(n,e);return r===void 0&&r===t?iu(n,e):$o(t,r,au|lu)}}function cu(e){return function(t){return t==null?void 0:t[e]}}function du(e){return function(t){return il(t,e)}}function uu(e){return ko(e)?cu(hr(e)):du(e)}function fu(e){return typeof e=="function"?e:e==null?Ns:typeof e=="object"?Bt(e)?su(e[0],e[1]):nu(e):uu(e)}function hu(e,t){return e&&Ls(e,t,_o)}function pu(e,t){return function(n,r){if(n==null)return n;if(!lo(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var gu=pu(hu);const vu=gu;function mu(e,t){var n=-1,r=lo(e)?Array(e.length):[];return vu(e,function(o,i,a){r[++n]=t(o,i,a)}),r}function bu(e,t){var n=Bt(e)?Ds:mu;return n(e,fu(t))}const Ii=be({name:"Backward",render(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),wu=be({name:"Checkmark",render(){return v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},v("g",{fill:"none"},v("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),yu=be({name:"Empty",render(){return v("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),v("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Ei=be({name:"FastBackward",render(){return v("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),Ri=be({name:"FastForward",render(){return v("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),Ni=be({name:"Forward",render(){return v("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),Li=be({name:"More",render(){return v("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},v("g",{fill:"currentColor","fill-rule":"nonzero"},v("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),xu=be({props:{onFocus:Function,onBlur:Function},setup(e){return()=>v("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Di(e){return Array.isArray(e)?e:[e]}const Vr={STOP:"STOP"};function cl(e,t){const n=t(e);e.children!==void 0&&n!==Vr.STOP&&e.children.forEach(r=>cl(r,t))}function Cu(e,t={}){const{preserveGroup:n=!1}=t,r=[],o=n?a=>{a.isLeaf||(r.push(a.key),i(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),i(a.children))};function i(a){a.forEach(o)}return i(e),r}function _u(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function ku(e){return e.children}function Su(e){return e.key}function $u(){return!1}function Mu(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function zu(e){return e.disabled===!0}function Pu(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function $r(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function Mr(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function Tu(e,t){const n=new Set(e);return t.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function Fu(e,t){const n=new Set(e);return t.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function Ou(e){return(e==null?void 0:e.type)==="group"}function Bu(e){const t=new Map;return e.forEach((n,r)=>{t.set(n.key,r)}),n=>{var r;return(r=t.get(n))!==null&&r!==void 0?r:null}}class Au extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Iu(e,t,n,r){return Qn(t.concat(e),n,r,!1)}function Eu(e,t){const n=new Set;return e.forEach(r=>{const o=t.treeNodeMap.get(r);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||n.has(i.key));)n.add(i.key),i=i.parent}}),n}function Ru(e,t,n,r){const o=Qn(t,n,r,!1),i=Qn(e,n,r,!0),a=Eu(e,n),l=[];return o.forEach(s=>{(i.has(s)||a.has(s))&&l.push(s)}),l.forEach(s=>o.delete(s)),o}function zr(e,t){const{checkedKeys:n,keysToCheck:r,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:l,checkStrategy:s,allowNotLoaded:c}=e;if(!a)return r!==void 0?{checkedKeys:Tu(n,r),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:Fu(n,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:d}=t;let f;o!==void 0?f=Ru(o,n,t,c):r!==void 0?f=Iu(r,n,t,c):f=Qn(n,t,c,!1);const u=s==="parent",h=s==="child"||l,p=f,g=new Set,m=Math.max.apply(null,Array.from(d.keys()));for(let b=m;b>=0;b-=1){const x=b===0,$=d.get(b);for(const k of $){if(k.isLeaf)continue;const{key:y,shallowLoaded:S}=k;if(h&&S&&k.children.forEach(N=>{!N.disabled&&!N.isLeaf&&N.shallowLoaded&&p.has(N.key)&&p.delete(N.key)}),k.disabled||!S)continue;let P=!0,j=!1,q=!0;for(const N of k.children){const E=N.key;if(!N.disabled){if(q&&(q=!1),p.has(E))j=!0;else if(g.has(E)){j=!0,P=!1;break}else if(P=!1,j)break}}P&&!q?(u&&k.children.forEach(N=>{!N.disabled&&p.has(N.key)&&p.delete(N.key)}),p.add(y)):j&&g.add(y),x&&h&&p.has(y)&&p.delete(y)}}return{checkedKeys:Array.from(p),indeterminateKeys:Array.from(g)}}function Qn(e,t,n,r){const{treeNodeMap:o,getChildren:i}=t,a=new Set,l=new Set(e);return e.forEach(s=>{const c=o.get(s);c!==void 0&&cl(c,d=>{if(d.disabled)return Vr.STOP;const{key:f}=d;if(!a.has(f)&&(a.add(f),l.add(f),Pu(d.rawNode,i))){if(r)return Vr.STOP;if(!n)throw new Au}})}),l}function Nu(e,{includeGroup:t=!1,includeSelf:n=!0},r){var o;const i=r.treeNodeMap;let a=e==null?null:(o=i.get(e))!==null&&o!==void 0?o:null;const l={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return l.treeNode=null,l;for(;a;)!a.ignored&&(t||!a.isGroup)&&l.treeNodePath.push(a),a=a.parent;return l.treeNodePath.reverse(),n||l.treeNodePath.pop(),l.keyPath=l.treeNodePath.map(s=>s.key),l}function Lu(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function Du(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o+1)%r]:o===n.length-1?null:n[o+1]}function Hi(e,t,{loop:n=!1,includeDisabled:r=!1}={}){const o=t==="prev"?Hu:Du,i={reverse:t==="prev"};let a=!1,l=null;function s(c){if(c!==null){if(c===e){if(!a)a=!0;else if(!e.disabled&&!e.isGroup){l=e;return}}else if((!c.disabled||r)&&!c.ignored&&!c.isGroup){l=c;return}if(c.isGroup){const d=Mo(c,i);d!==null?l=d:s(o(c,n))}else{const d=o(c,!1);if(d!==null)s(d);else{const f=Gu(c);f!=null&&f.isGroup?s(o(f,n)):n&&s(o(c,!0))}}}}return s(e),l}function Hu(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o-1+r)%r]:o===0?null:n[o-1]}function Gu(e){return e.parent}function Mo(e,t={}){const{reverse:n=!1}=t,{children:r}=e;if(r){const{length:o}=r,i=n?o-1:0,a=n?-1:o,l=n?-1:1;for(let s=i;s!==a;s+=l){const c=r[s];if(!c.disabled&&!c.ignored)if(c.isGroup){const d=Mo(c,t);if(d!==null)return d}else return c}}return null}const Wu={getChild(){return this.ignored?null:Mo(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Hi(this,"next",e)},getPrev(e={}){return Hi(this,"prev",e)}};function ju(e,t){const n=t?new Set(t):void 0,r=[];function o(i){i.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||n===void 0||n.has(a.key))&&o(a.children)})}return o(e),r}function Vu(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function dl(e,t,n,r,o,i=null,a=0){const l=[];return e.forEach((s,c)=>{var d;const f=Object.create(r);if(f.rawNode=s,f.siblings=l,f.level=a,f.index=c,f.isFirstChild=c===0,f.isLastChild=c+1===e.length,f.parent=i,!f.ignored){const u=o(s);Array.isArray(u)&&(f.children=dl(u,t,n,r,o,f,a+1))}l.push(f),t.set(f.key,f),n.has(a)||n.set(a,[]),(d=n.get(a))===null||d===void 0||d.push(f)}),l}function ul(e,t={}){var n;const r=new Map,o=new Map,{getDisabled:i=zu,getIgnored:a=$u,getIsGroup:l=Ou,getKey:s=Su}=t,c=(n=t.getChildren)!==null&&n!==void 0?n:ku,d=t.ignoreEmptyChildren?k=>{const y=c(k);return Array.isArray(y)?y.length?y:null:y}:c,f=Object.assign({get key(){return s(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return l(this.rawNode)},get isLeaf(){return _u(this.rawNode,d)},get shallowLoaded(){return Mu(this.rawNode,d)},get ignored(){return a(this.rawNode)},contains(k){return Vu(this,k)}},Wu),u=dl(e,r,o,f,d);function h(k){if(k==null)return null;const y=r.get(k);return y&&!y.isGroup&&!y.ignored?y:null}function p(k){if(k==null)return null;const y=r.get(k);return y&&!y.ignored?y:null}function g(k,y){const S=p(k);return S?S.getPrev(y):null}function m(k,y){const S=p(k);return S?S.getNext(y):null}function b(k){const y=p(k);return y?y.getParent():null}function x(k){const y=p(k);return y?y.getChild():null}const $={treeNodes:u,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:d,getFlattenedNodes(k){return ju(u,k)},getNode:h,getPrev:g,getNext:m,getParent:b,getChild:x,getFirstAvailableNode(){return Lu(u)},getPath(k,y={}){return Nu(k,y,$)},getCheckedKeys(k,y={}){const{cascade:S=!0,leafOnly:P=!1,checkStrategy:j="all",allowNotLoaded:q=!1}=y;return zr({checkedKeys:$r(k),indeterminateKeys:Mr(k),cascade:S,leafOnly:P,checkStrategy:j,allowNotLoaded:q},$)},check(k,y,S={}){const{cascade:P=!0,leafOnly:j=!1,checkStrategy:q="all",allowNotLoaded:N=!1}=S;return zr({checkedKeys:$r(y),indeterminateKeys:Mr(y),keysToCheck:k==null?[]:Di(k),cascade:P,leafOnly:j,checkStrategy:q,allowNotLoaded:N},$)},uncheck(k,y,S={}){const{cascade:P=!0,leafOnly:j=!1,checkStrategy:q="all",allowNotLoaded:N=!1}=S;return zr({checkedKeys:$r(y),indeterminateKeys:Mr(y),keysToUncheck:k==null?[]:Di(k),cascade:P,leafOnly:j,checkStrategy:q,allowNotLoaded:N},$)},getNonLeafKeys(k={}){return Cu(u,k)}};return $}const Ku={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},Uu=e=>{const{textColorDisabled:t,iconColor:n,textColor2:r,fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:l}=e;return Object.assign(Object.assign({},Ku),{fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:l,textColor:t,iconColor:n,extraTextColor:r})},Xu={name:"Empty",common:it,self:Uu},fl=Xu,qu=W("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[X("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[te("+",[X("description",`
 margin-top: 8px;
 `)])]),X("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),X("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Yu=Object.assign(Object.assign({},Me.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Zu=be({name:"Empty",props:Yu,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Ke(e),r=Me("Empty","-empty",qu,fl,e,t),{localeRef:o}=co("Empty"),i=je(Hs,null),a=R(()=>{var d,f,u;return(d=e.description)!==null&&d!==void 0?d:(u=(f=i==null?void 0:i.mergedComponentPropsRef.value)===null||f===void 0?void 0:f.Empty)===null||u===void 0?void 0:u.description}),l=R(()=>{var d,f;return((f=(d=i==null?void 0:i.mergedComponentPropsRef.value)===null||d===void 0?void 0:d.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>v(yu,null))}),s=R(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:f},self:{[ce("iconSize",d)]:u,[ce("fontSize",d)]:h,textColor:p,iconColor:g,extraTextColor:m}}=r.value;return{"--n-icon-size":u,"--n-font-size":h,"--n-bezier":f,"--n-text-color":p,"--n-icon-color":g,"--n-extra-text-color":m}}),c=n?at("empty",R(()=>{let d="";const{size:f}=e;return d+=f[0],d}),s,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:l,localizedDescription:R(()=>a.value||o.value.description),cssVars:n?void 0:s,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),v("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?v("div",{class:`${t}-empty__icon`},e.icon?e.icon():v(yt,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?v("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?v("div",{class:`${t}-empty__extra`},e.extra()):null)}}),Ju={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},Qu=e=>{const{borderRadius:t,popoverColor:n,textColor3:r,dividerColor:o,textColor2:i,primaryColorPressed:a,textColorDisabled:l,primaryColor:s,opacityDisabled:c,hoverColor:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,fontSizeHuge:p,heightSmall:g,heightMedium:m,heightLarge:b,heightHuge:x}=e;return Object.assign(Object.assign({},Ju),{optionFontSizeSmall:f,optionFontSizeMedium:u,optionFontSizeLarge:h,optionFontSizeHuge:p,optionHeightSmall:g,optionHeightMedium:m,optionHeightLarge:b,optionHeightHuge:x,borderRadius:t,color:n,groupHeaderTextColor:r,actionDividerColor:o,optionTextColor:i,optionTextColorPressed:a,optionTextColorDisabled:l,optionTextColorActive:s,optionOpacityDisabled:c,optionCheckColor:s,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:i,loadingColor:s})},ef=Gt({name:"InternalSelectMenu",common:it,peers:{Scrollbar:Ta,Empty:fl},self:Qu}),zo=ef;function tf(e,t){return v(on,{name:"fade-in-scale-up-transition"},{default:()=>e?v(yt,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>v(wu)}):null})}const Gi=be({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:r,valueSetRef:o,renderLabelRef:i,renderOptionRef:a,labelFieldRef:l,valueFieldRef:s,showCheckmarkRef:c,nodePropsRef:d,handleOptionClick:f,handleOptionMouseEnter:u}=je(vo),h=xt(()=>{const{value:b}=n;return b?e.tmNode.key===b.key:!1});function p(b){const{tmNode:x}=e;x.disabled||f(b,x)}function g(b){const{tmNode:x}=e;x.disabled||u(b,x)}function m(b){const{tmNode:x}=e,{value:$}=h;x.disabled||$||u(b,x)}return{multiple:r,isGrouped:xt(()=>{const{tmNode:b}=e,{parent:x}=b;return x&&x.rawNode.type==="group"}),showCheckmark:c,nodeProps:d,isPending:h,isSelected:xt(()=>{const{value:b}=t,{value:x}=r;if(b===null)return!1;const $=e.tmNode.rawNode[s.value];if(x){const{value:k}=o;return k.has($)}else return b===$}),labelField:l,renderLabel:i,renderOption:a,handleMouseMove:m,handleMouseEnter:g,handleClick:p}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:r,isGrouped:o,showCheckmark:i,nodeProps:a,renderOption:l,renderLabel:s,handleClick:c,handleMouseEnter:d,handleMouseMove:f}=this,u=tf(n,e),h=s?[s(t,n),i&&u]:[rt(t[this.labelField],t,n),i&&u],p=a==null?void 0:a(t),g=v("div",Object.assign({},p,{class:[`${e}-base-select-option`,t.class,p==null?void 0:p.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:r,[`${e}-base-select-option--show-checkmark`]:i}],style:[(p==null?void 0:p.style)||"",t.style||""],onClick:bn([c,p==null?void 0:p.onClick]),onMouseenter:bn([d,p==null?void 0:p.onMouseenter]),onMousemove:bn([f,p==null?void 0:p.onMousemove])}),v("div",{class:`${e}-base-select-option__content`},h));return t.render?t.render({node:g,option:t,selected:n}):l?l({node:g,option:t,selected:n}):g}}),Wi=be({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:r}=je(vo);return{labelField:n,nodeProps:r,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:r,tmNode:{rawNode:o}}=this,i=r==null?void 0:r(o),a=t?t(o,!1):rt(o[this.labelField],o,!1),l=v("div",Object.assign({},i,{class:[`${e}-base-select-group-header`,i==null?void 0:i.class]}),a);return o.render?o.render({node:l,option:o}):n?n({node:l,option:o,selected:!1}):l}}),{cubicBezierEaseIn:ji,cubicBezierEaseOut:Vi}=Gs;function Po({transformOrigin:e="inherit",duration:t=".2s",enterScale:n=".9",originalTransform:r="",originalTransition:o=""}={}){return[te("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${ji}, transform ${t} ${ji} ${o&&","+o}`}),te("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${Vi}, transform ${t} ${Vi} ${o&&","+o}`}),te("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${n})`}),te("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const nf=W("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[W("scrollbar",`
 max-height: var(--n-height);
 `),W("virtual-list",`
 max-height: var(--n-height);
 `),W("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[X("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),W("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),W("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),X("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),X("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),X("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),X("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),W("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),W("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ne("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),te("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),te("&:active",`
 color: var(--n-option-text-color-pressed);
 `),ne("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),ne("pending",[te("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),ne("selected",`
 color: var(--n-option-text-color-active);
 `,[te("&::before",`
 background-color: var(--n-option-color-active);
 `),ne("pending",[te("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),ne("disabled",`
 cursor: not-allowed;
 `,[dt("selected",`
 color: var(--n-option-text-color-disabled);
 `),ne("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),X("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Po({enterScale:"0.5"})])])]),hl=be({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Me.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=Ke(e),r=Wt("InternalSelectMenu",n,t),o=Me("InternalSelectMenu","-internal-select-menu",nf,zo,e,ke(e,"clsPrefix")),i=A(null),a=A(null),l=A(null),s=R(()=>e.treeMate.getFlattenedNodes()),c=R(()=>Bu(s.value)),d=A(null);function f(){const{treeMate:T}=e;let L=null;const{value:Q}=e;Q===null?L=T.getFirstAvailableNode():(e.multiple?L=T.getNode((Q||[])[(Q||[]).length-1]):L=T.getNode(Q),(!L||L.disabled)&&(L=T.getFirstAvailableNode())),re(L||null)}function u(){const{value:T}=d;T&&!e.treeMate.getNode(T.key)&&(d.value=null)}let h;Te(()=>e.show,T=>{T?h=Te(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?f():u(),Ct(I)):u()},{immediate:!0}):h==null||h()},{immediate:!0}),ot(()=>{h==null||h()});const p=R(()=>yn(o.value.self[ce("optionHeight",e.size)])),g=R(()=>Tt(o.value.self[ce("padding",e.size)])),m=R(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),b=R(()=>{const T=s.value;return T&&T.length===0});function x(T){const{onToggle:L}=e;L&&L(T)}function $(T){const{onScroll:L}=e;L&&L(T)}function k(T){var L;(L=l.value)===null||L===void 0||L.sync(),$(T)}function y(){var T;(T=l.value)===null||T===void 0||T.sync()}function S(){const{value:T}=d;return T||null}function P(T,L){L.disabled||re(L,!1)}function j(T,L){L.disabled||x(L)}function q(T){var L;Qt(T,"action")||(L=e.onKeyup)===null||L===void 0||L.call(e,T)}function N(T){var L;Qt(T,"action")||(L=e.onKeydown)===null||L===void 0||L.call(e,T)}function E(T){var L;(L=e.onMousedown)===null||L===void 0||L.call(e,T),!e.focusable&&T.preventDefault()}function H(){const{value:T}=d;T&&re(T.getNext({loop:!0}),!0)}function G(){const{value:T}=d;T&&re(T.getPrev({loop:!0}),!0)}function re(T,L=!1){d.value=T,L&&I()}function I(){var T,L;const Q=d.value;if(!Q)return;const de=c.value(Q.key);de!==null&&(e.virtualScroll?(T=a.value)===null||T===void 0||T.scrollTo({index:de}):(L=l.value)===null||L===void 0||L.scrollTo({index:de,elSize:p.value}))}function U(T){var L,Q;!((L=i.value)===null||L===void 0)&&L.contains(T.target)&&((Q=e.onFocus)===null||Q===void 0||Q.call(e,T))}function Z(T){var L,Q;!((L=i.value)===null||L===void 0)&&L.contains(T.relatedTarget)||(Q=e.onBlur)===null||Q===void 0||Q.call(e,T)}Ze(vo,{handleOptionMouseEnter:P,handleOptionClick:j,valueSetRef:m,pendingTmNodeRef:d,nodePropsRef:ke(e,"nodeProps"),showCheckmarkRef:ke(e,"showCheckmark"),multipleRef:ke(e,"multiple"),valueRef:ke(e,"value"),renderLabelRef:ke(e,"renderLabel"),renderOptionRef:ke(e,"renderOption"),labelFieldRef:ke(e,"labelField"),valueFieldRef:ke(e,"valueField")}),Ze(Wa,i),Je(()=>{const{value:T}=l;T&&T.sync()});const oe=R(()=>{const{size:T}=e,{common:{cubicBezierEaseInOut:L},self:{height:Q,borderRadius:de,color:ye,groupHeaderTextColor:Se,actionDividerColor:we,optionTextColorPressed:B,optionTextColor:ie,optionTextColorDisabled:xe,optionTextColorActive:ze,optionOpacityDisabled:Oe,optionCheckColor:Ue,actionTextColor:Ie,optionColorPending:Re,optionColorActive:Fe,loadingColor:Be,loadingSize:Qe,optionColorActivePending:Le,[ce("optionFontSize",T)]:Xe,[ce("optionHeight",T)]:qe,[ce("optionPadding",T)]:z}}=o.value;return{"--n-height":Q,"--n-action-divider-color":we,"--n-action-text-color":Ie,"--n-bezier":L,"--n-border-radius":de,"--n-color":ye,"--n-option-font-size":Xe,"--n-group-header-text-color":Se,"--n-option-check-color":Ue,"--n-option-color-pending":Re,"--n-option-color-active":Fe,"--n-option-color-active-pending":Le,"--n-option-height":qe,"--n-option-opacity-disabled":Oe,"--n-option-text-color":ie,"--n-option-text-color-active":ze,"--n-option-text-color-disabled":xe,"--n-option-text-color-pressed":B,"--n-option-padding":z,"--n-option-padding-left":Tt(z,"left"),"--n-option-padding-right":Tt(z,"right"),"--n-loading-color":Be,"--n-loading-size":Qe}}),{inlineThemeDisabled:Y}=e,D=Y?at("internal-select-menu",R(()=>e.size[0]),oe,e):void 0,he={selfRef:i,next:H,prev:G,getPendingTmNode:S};return rl(i,e.onResize),Object.assign({mergedTheme:o,mergedClsPrefix:t,rtlEnabled:r,virtualListRef:a,scrollbarRef:l,itemSize:p,padding:g,flattenedNodes:s,empty:b,virtualListContainer(){const{value:T}=a;return T==null?void 0:T.listElRef},virtualListContent(){const{value:T}=a;return T==null?void 0:T.itemsElRef},doScroll:$,handleFocusin:U,handleFocusout:Z,handleKeyUp:q,handleKeyDown:N,handleMouseDown:E,handleVirtualListResize:y,handleVirtualListScroll:k,cssVars:Y?void 0:oe,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender},he)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:r,themeClass:o,onRender:i}=this;return i==null||i(),v("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Ne(e.header,a=>a&&v("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},a)),this.loading?v("div",{class:`${n}-base-select-menu__loading`},v(Fa,{clsPrefix:n,strokeWidth:20})):this.empty?v("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},Xn(e.empty,()=>[v(Zu,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty})])):v(Oa,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?v(Rc,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:a})=>a.isGroup?v(Wi,{key:a.key,clsPrefix:n,tmNode:a}):a.ignored?null:v(Gi,{clsPrefix:n,key:a.key,tmNode:a})}):v("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(a=>a.isGroup?v(Wi,{key:a.key,clsPrefix:n,tmNode:a}):v(Gi,{clsPrefix:n,key:a.key,tmNode:a})))}),Ne(e.action,a=>a&&[v("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},a),v(xu,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),rf={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},of=e=>{const{boxShadow2:t,popoverColor:n,textColor2:r,borderRadius:o,fontSize:i,dividerColor:a}=e;return Object.assign(Object.assign({},rf),{fontSize:i,borderRadius:o,color:n,dividerColor:a,textColor:r,boxShadow:t})},af={name:"Popover",common:it,self:of},To=af,Pr={top:"bottom",bottom:"top",left:"right",right:"left"},Ae="var(--n-arrow-height) * 1.414",lf=te([W("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[te(">",[W("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),dt("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[dt("scrollable",[dt("show-header-or-footer","padding: var(--n-padding);")])]),X("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),X("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ne("scrollable, show-header-or-footer",[X("content",`
 padding: var(--n-padding);
 `)])]),W("popover-shared",`
 transform-origin: inherit;
 `,[W("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[W("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${Ae});
 height: calc(${Ae});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),te("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),te("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),te("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),te("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),nt("top-start",`
 top: calc(${Ae} / -2);
 left: calc(${mt("top-start")} - var(--v-offset-left));
 `),nt("top",`
 top: calc(${Ae} / -2);
 transform: translateX(calc(${Ae} / -2)) rotate(45deg);
 left: 50%;
 `),nt("top-end",`
 top: calc(${Ae} / -2);
 right: calc(${mt("top-end")} + var(--v-offset-left));
 `),nt("bottom-start",`
 bottom: calc(${Ae} / -2);
 left: calc(${mt("bottom-start")} - var(--v-offset-left));
 `),nt("bottom",`
 bottom: calc(${Ae} / -2);
 transform: translateX(calc(${Ae} / -2)) rotate(45deg);
 left: 50%;
 `),nt("bottom-end",`
 bottom: calc(${Ae} / -2);
 right: calc(${mt("bottom-end")} + var(--v-offset-left));
 `),nt("left-start",`
 left: calc(${Ae} / -2);
 top: calc(${mt("left-start")} - var(--v-offset-top));
 `),nt("left",`
 left: calc(${Ae} / -2);
 transform: translateY(calc(${Ae} / -2)) rotate(45deg);
 top: 50%;
 `),nt("left-end",`
 left: calc(${Ae} / -2);
 bottom: calc(${mt("left-end")} + var(--v-offset-top));
 `),nt("right-start",`
 right: calc(${Ae} / -2);
 top: calc(${mt("right-start")} - var(--v-offset-top));
 `),nt("right",`
 right: calc(${Ae} / -2);
 transform: translateY(calc(${Ae} / -2)) rotate(45deg);
 top: 50%;
 `),nt("right-end",`
 right: calc(${Ae} / -2);
 bottom: calc(${mt("right-end")} + var(--v-offset-top));
 `),...bu({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const n=["right","left"].includes(t),r=n?"width":"height";return e.map(o=>{const i=o.split("-")[1]==="end",l=`calc((${`var(--v-target-${r}, 0px)`} - ${Ae}) / 2)`,s=mt(o);return te(`[v-placement="${o}"] >`,[W("popover-shared",[ne("center-arrow",[W("popover-arrow",`${t}: calc(max(${l}, ${s}) ${i?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function mt(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function nt(e,t){const n=e.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return te(`[v-placement="${e}"] >`,[W("popover-shared",`
 margin-${Pr[n]}: var(--n-space);
 `,[ne("show-arrow",`
 margin-${Pr[n]}: var(--n-space-arrow);
 `),ne("overlap",`
 margin: 0;
 `),Ws("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${Pr[n]}: auto;
 ${r}
 `,[W("popover-arrow",t)])])])}const pl=Object.assign(Object.assign({},Me.props),{to:pt.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),sf=({arrowClass:e,arrowStyle:t,arrowWrapperClass:n,arrowWrapperStyle:r,clsPrefix:o})=>v("div",{key:"__popover-arrow__",style:r,class:[`${o}-popover-arrow-wrapper`,n]},v("div",{class:[`${o}-popover-arrow`,e],style:t})),cf=be({name:"PopoverBody",inheritAttrs:!1,props:pl,setup(e,{slots:t,attrs:n}){const{namespaceRef:r,mergedClsPrefixRef:o,inlineThemeDisabled:i}=Ke(e),a=Me("Popover","-popover",lf,To,e,o),l=A(null),s=je("NPopover"),c=A(null),d=A(e.show),f=A(!1);Lt(()=>{const{show:P}=e;P&&!cc()&&!e.internalDeactivateImmediately&&(f.value=!0)});const u=R(()=>{const{trigger:P,onClickoutside:j}=e,q=[],{positionManuallyRef:{value:N}}=s;return N||(P==="click"&&!j&&q.push([$n,k,void 0,{capture:!0}]),P==="hover"&&q.push([Cc,$])),j&&q.push([$n,k,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&f.value)&&q.push([qn,e.show]),q}),h=R(()=>{const P=e.width==="trigger"?void 0:wr(e.width),j=[];P&&j.push({width:P});const{maxWidth:q,minWidth:N}=e;return q&&j.push({maxWidth:wr(q)}),N&&j.push({maxWidth:wr(N)}),i||j.push(p.value),j}),p=R(()=>{const{common:{cubicBezierEaseInOut:P,cubicBezierEaseIn:j,cubicBezierEaseOut:q},self:{space:N,spaceArrow:E,padding:H,fontSize:G,textColor:re,dividerColor:I,color:U,boxShadow:Z,borderRadius:oe,arrowHeight:Y,arrowOffset:D,arrowOffsetVertical:he}}=a.value;return{"--n-box-shadow":Z,"--n-bezier":P,"--n-bezier-ease-in":j,"--n-bezier-ease-out":q,"--n-font-size":G,"--n-text-color":re,"--n-color":U,"--n-divider-color":I,"--n-border-radius":oe,"--n-arrow-height":Y,"--n-arrow-offset":D,"--n-arrow-offset-vertical":he,"--n-padding":H,"--n-space":N,"--n-space-arrow":E}}),g=i?at("popover",void 0,p,e):void 0;s.setBodyInstance({syncPosition:m}),ot(()=>{s.setBodyInstance(null)}),Te(ke(e,"show"),P=>{e.animated||(P?d.value=!0:d.value=!1)});function m(){var P;(P=l.value)===null||P===void 0||P.syncPosition()}function b(P){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&s.handleMouseEnter(P)}function x(P){e.trigger==="hover"&&e.keepAliveOnHover&&s.handleMouseLeave(P)}function $(P){e.trigger==="hover"&&!y().contains(xn(P))&&s.handleMouseMoveOutside(P)}function k(P){(e.trigger==="click"&&!y().contains(xn(P))||e.onClickoutside)&&s.handleClickOutside(P)}function y(){return s.getTriggerElement()}Ze(wo,c),Ze(bo,null),Ze(mo,null);function S(){if(g==null||g.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&f.value))return null;let j;const q=s.internalRenderBodyRef.value,{value:N}=o;if(q)j=q([`${N}-popover-shared`,g==null?void 0:g.themeClass.value,e.overlap&&`${N}-popover-shared--overlap`,e.showArrow&&`${N}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${N}-popover-shared--center-arrow`],c,h.value,b,x);else{const{value:E}=s.extraClassRef,{internalTrapFocus:H}=e,G=!Jo(t.header)||!Jo(t.footer),re=()=>{var I,U;const Z=G?v(Ft,null,Ne(t.header,D=>D?v("div",{class:[`${N}-popover__header`,e.headerClass],style:e.headerStyle},D):null),Ne(t.default,D=>D?v("div",{class:[`${N}-popover__content`,e.contentClass],style:e.contentStyle},t):null),Ne(t.footer,D=>D?v("div",{class:[`${N}-popover__footer`,e.footerClass],style:e.footerStyle},D):null)):e.scrollable?(I=t.default)===null||I===void 0?void 0:I.call(t):v("div",{class:[`${N}-popover__content`,e.contentClass],style:e.contentStyle},t),oe=e.scrollable?v(js,{contentClass:G?void 0:`${N}-popover__content ${(U=e.contentClass)!==null&&U!==void 0?U:""}`,contentStyle:G?void 0:e.contentStyle},{default:()=>Z}):Z,Y=e.showArrow?sf({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:N}):null;return[oe,Y]};j=v("div",ao({class:[`${N}-popover`,`${N}-popover-shared`,g==null?void 0:g.themeClass.value,E.map(I=>`${N}-${I}`),{[`${N}-popover--scrollable`]:e.scrollable,[`${N}-popover--show-header-or-footer`]:G,[`${N}-popover--raw`]:e.raw,[`${N}-popover-shared--overlap`]:e.overlap,[`${N}-popover-shared--show-arrow`]:e.showArrow,[`${N}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:c,style:h.value,onKeydown:s.handleKeydown,onMouseenter:b,onMouseleave:x},n),H?v(nl,{active:e.show,autoFocus:!0},{default:re}):re())}return Ot(j,u.value)}return{displayed:f,namespace:r,isMounted:s.isMountedRef,zIndex:s.zIndexRef,followerRef:l,adjustedTo:pt(e),followerEnabled:d,renderContentNode:S}},render(){return v(Za,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===pt.tdkey},{default:()=>this.animated?v(on,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),df=Object.keys(pl),uf={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function ff(e,t,n){uf[t].forEach(r=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[r],i=n[r];o?e.props[r]=(...a)=>{o(...a),i(...a)}:e.props[r]=i})}const Kr={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:pt.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},hf=Object.assign(Object.assign(Object.assign({},Me.props),Kr),{internalOnAfterLeave:Function,internalRenderBody:Function}),gl=be({name:"Popover",inheritAttrs:!1,props:hf,__popover__:!0,setup(e){const t=sr(),n=A(null),r=R(()=>e.show),o=A(e.defaultShow),i=Cn(r,o),a=xt(()=>e.disabled?!1:i.value),l=()=>{if(e.disabled)return!0;const{getDisabled:I}=e;return!!(I!=null&&I())},s=()=>l()?!1:i.value,c=go(e,["arrow","showArrow"]),d=R(()=>e.overlap?!1:c.value);let f=null;const u=A(null),h=A(null),p=xt(()=>e.x!==void 0&&e.y!==void 0);function g(I){const{"onUpdate:show":U,onUpdateShow:Z,onShow:oe,onHide:Y}=e;o.value=I,U&&_e(U,I),Z&&_e(Z,I),I&&oe&&_e(oe,!0),I&&Y&&_e(Y,!1)}function m(){f&&f.syncPosition()}function b(){const{value:I}=u;I&&(window.clearTimeout(I),u.value=null)}function x(){const{value:I}=h;I&&(window.clearTimeout(I),h.value=null)}function $(){const I=l();if(e.trigger==="focus"&&!I){if(s())return;g(!0)}}function k(){const I=l();if(e.trigger==="focus"&&!I){if(!s())return;g(!1)}}function y(){const I=l();if(e.trigger==="hover"&&!I){if(x(),u.value!==null||s())return;const U=()=>{g(!0),u.value=null},{delay:Z}=e;Z===0?U():u.value=window.setTimeout(U,Z)}}function S(){const I=l();if(e.trigger==="hover"&&!I){if(b(),h.value!==null||!s())return;const U=()=>{g(!1),h.value=null},{duration:Z}=e;Z===0?U():h.value=window.setTimeout(U,Z)}}function P(){S()}function j(I){var U;s()&&(e.trigger==="click"&&(b(),x(),g(!1)),(U=e.onClickoutside)===null||U===void 0||U.call(e,I))}function q(){if(e.trigger==="click"&&!l()){b(),x();const I=!s();g(I)}}function N(I){e.internalTrapFocus&&I.key==="Escape"&&(b(),x(),g(!1))}function E(I){o.value=I}function H(){var I;return(I=n.value)===null||I===void 0?void 0:I.targetRef}function G(I){f=I}return Ze("NPopover",{getTriggerElement:H,handleKeydown:N,handleMouseEnter:y,handleMouseLeave:S,handleClickOutside:j,handleMouseMoveOutside:P,setBodyInstance:G,positionManuallyRef:p,isMountedRef:t,zIndexRef:ke(e,"zIndex"),extraClassRef:ke(e,"internalExtraClass"),internalRenderBodyRef:ke(e,"internalRenderBody")}),Lt(()=>{i.value&&l()&&g(!1)}),{binderInstRef:n,positionManually:p,mergedShowConsideringDisabledProp:a,uncontrolledShow:o,mergedShowArrow:d,getMergedShow:s,setShow:E,handleClick:q,handleMouseEnter:y,handleMouseLeave:S,handleFocus:$,handleBlur:k,syncPosition:m}},render(){var e;const{positionManually:t,$slots:n}=this;let r,o=!1;if(!t&&(n.activator?r=Nr(n,"activator"):r=Nr(n,"trigger"),r)){r=Ba(r),r=r.type===Vs?v("span",[r]):r;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=r.type)===null||e===void 0)&&e.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[i,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:a}=this,l=[i,...a],s={onBlur:c=>{l.forEach(d=>{d.onBlur(c)})},onFocus:c=>{l.forEach(d=>{d.onFocus(c)})},onClick:c=>{l.forEach(d=>{d.onClick(c)})},onMouseenter:c=>{l.forEach(d=>{d.onMouseenter(c)})},onMouseleave:c=>{l.forEach(d=>{d.onMouseleave(c)})}};ff(r,a?"nested":t?"manual":this.trigger,s)}}return v(Xa,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?Ot(v("div",{style:{position:"fixed",inset:0}}),[[yo,{enabled:i,zIndex:this.zIndex}]]):null,t?null:v(qa,null,{default:()=>r}),v(cf,Sn(this.$props,df,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var a,l;return(l=(a=this.$slots).default)===null||l===void 0?void 0:l.call(a)},header:()=>{var a,l;return(l=(a=this.$slots).header)===null||l===void 0?void 0:l.call(a)},footer:()=>{var a,l;return(l=(a=this.$slots).footer)===null||l===void 0?void 0:l.call(a)}})]}})}}),pf={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"},gf=e=>{const{textColor2:t,primaryColorHover:n,primaryColorPressed:r,primaryColor:o,infoColor:i,successColor:a,warningColor:l,errorColor:s,baseColor:c,borderColor:d,opacityDisabled:f,tagColor:u,closeIconColor:h,closeIconColorHover:p,closeIconColorPressed:g,borderRadiusSmall:m,fontSizeMini:b,fontSizeTiny:x,fontSizeSmall:$,fontSizeMedium:k,heightMini:y,heightTiny:S,heightSmall:P,heightMedium:j,closeColorHover:q,closeColorPressed:N,buttonColor2Hover:E,buttonColor2Pressed:H,fontWeightStrong:G}=e;return Object.assign(Object.assign({},pf),{closeBorderRadius:m,heightTiny:y,heightSmall:S,heightMedium:P,heightLarge:j,borderRadius:m,opacityDisabled:f,fontSizeTiny:b,fontSizeSmall:x,fontSizeMedium:$,fontSizeLarge:k,fontWeightStrong:G,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:E,colorPressedCheckable:H,colorChecked:o,colorCheckedHover:n,colorCheckedPressed:r,border:`1px solid ${d}`,textColor:t,color:u,colorBordered:"rgb(250, 250, 252)",closeIconColor:h,closeIconColorHover:p,closeIconColorPressed:g,closeColorHover:q,closeColorPressed:N,borderPrimary:`1px solid ${Ce(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:Ce(o,{alpha:.12}),colorBorderedPrimary:Ce(o,{alpha:.1}),closeIconColorPrimary:o,closeIconColorHoverPrimary:o,closeIconColorPressedPrimary:o,closeColorHoverPrimary:Ce(o,{alpha:.12}),closeColorPressedPrimary:Ce(o,{alpha:.18}),borderInfo:`1px solid ${Ce(i,{alpha:.3})}`,textColorInfo:i,colorInfo:Ce(i,{alpha:.12}),colorBorderedInfo:Ce(i,{alpha:.1}),closeIconColorInfo:i,closeIconColorHoverInfo:i,closeIconColorPressedInfo:i,closeColorHoverInfo:Ce(i,{alpha:.12}),closeColorPressedInfo:Ce(i,{alpha:.18}),borderSuccess:`1px solid ${Ce(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:Ce(a,{alpha:.12}),colorBorderedSuccess:Ce(a,{alpha:.1}),closeIconColorSuccess:a,closeIconColorHoverSuccess:a,closeIconColorPressedSuccess:a,closeColorHoverSuccess:Ce(a,{alpha:.12}),closeColorPressedSuccess:Ce(a,{alpha:.18}),borderWarning:`1px solid ${Ce(l,{alpha:.35})}`,textColorWarning:l,colorWarning:Ce(l,{alpha:.15}),colorBorderedWarning:Ce(l,{alpha:.12}),closeIconColorWarning:l,closeIconColorHoverWarning:l,closeIconColorPressedWarning:l,closeColorHoverWarning:Ce(l,{alpha:.12}),closeColorPressedWarning:Ce(l,{alpha:.18}),borderError:`1px solid ${Ce(s,{alpha:.23})}`,textColorError:s,colorError:Ce(s,{alpha:.1}),colorBorderedError:Ce(s,{alpha:.08}),closeIconColorError:s,closeIconColorHoverError:s,closeIconColorPressedError:s,closeColorHoverError:Ce(s,{alpha:.12}),closeColorPressedError:Ce(s,{alpha:.18})})},vf={name:"Tag",common:it,self:gf},mf=vf,bf={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},wf=W("tag",`
 --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[ne("strong",`
 font-weight: var(--n-font-weight-strong);
 `),X("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),X("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),X("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),X("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),ne("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[X("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),X("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),ne("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),ne("icon, avatar",[ne("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),ne("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),ne("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[dt("disabled",[te("&:hover","background-color: var(--n-color-hover-checkable);",[dt("checked","color: var(--n-text-color-hover-checkable);")]),te("&:active","background-color: var(--n-color-pressed-checkable);",[dt("checked","color: var(--n-text-color-pressed-checkable);")])]),ne("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[dt("disabled",[te("&:hover","background-color: var(--n-color-checked-hover);"),te("&:active","background-color: var(--n-color-checked-pressed);")])])])]),yf=Object.assign(Object.assign(Object.assign({},Me.props),bf),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),xf=kt("n-tag"),Tr=be({name:"Tag",props:yf,setup(e){const t=A(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Ke(e),a=Me("Tag","-tag",wf,mf,e,r);Ze(xf,{roundRef:ke(e,"round")});function l(h){if(!e.disabled&&e.checkable){const{checked:p,onCheckedChange:g,onUpdateChecked:m,"onUpdate:checked":b}=e;m&&m(!p),b&&b(!p),g&&g(!p)}}function s(h){if(e.triggerClickOnClose||h.stopPropagation(),!e.disabled){const{onClose:p}=e;p&&_e(p,h)}}const c={setTextContent(h){const{value:p}=t;p&&(p.textContent=h)}},d=Wt("Tag",i,r),f=R(()=>{const{type:h,size:p,color:{color:g,textColor:m}={}}=e,{common:{cubicBezierEaseInOut:b},self:{padding:x,closeMargin:$,borderRadius:k,opacityDisabled:y,textColorCheckable:S,textColorHoverCheckable:P,textColorPressedCheckable:j,textColorChecked:q,colorCheckable:N,colorHoverCheckable:E,colorPressedCheckable:H,colorChecked:G,colorCheckedHover:re,colorCheckedPressed:I,closeBorderRadius:U,fontWeightStrong:Z,[ce("colorBordered",h)]:oe,[ce("closeSize",p)]:Y,[ce("closeIconSize",p)]:D,[ce("fontSize",p)]:he,[ce("height",p)]:T,[ce("color",h)]:L,[ce("textColor",h)]:Q,[ce("border",h)]:de,[ce("closeIconColor",h)]:ye,[ce("closeIconColorHover",h)]:Se,[ce("closeIconColorPressed",h)]:we,[ce("closeColorHover",h)]:B,[ce("closeColorPressed",h)]:ie}}=a.value,xe=Tt($);return{"--n-font-weight-strong":Z,"--n-avatar-size-override":`calc(${T} - 8px)`,"--n-bezier":b,"--n-border-radius":k,"--n-border":de,"--n-close-icon-size":D,"--n-close-color-pressed":ie,"--n-close-color-hover":B,"--n-close-border-radius":U,"--n-close-icon-color":ye,"--n-close-icon-color-hover":Se,"--n-close-icon-color-pressed":we,"--n-close-icon-color-disabled":ye,"--n-close-margin-top":xe.top,"--n-close-margin-right":xe.right,"--n-close-margin-bottom":xe.bottom,"--n-close-margin-left":xe.left,"--n-close-size":Y,"--n-color":g||(n.value?oe:L),"--n-color-checkable":N,"--n-color-checked":G,"--n-color-checked-hover":re,"--n-color-checked-pressed":I,"--n-color-hover-checkable":E,"--n-color-pressed-checkable":H,"--n-font-size":he,"--n-height":T,"--n-opacity-disabled":y,"--n-padding":x,"--n-text-color":m||Q,"--n-text-color-checkable":S,"--n-text-color-checked":q,"--n-text-color-hover-checkable":P,"--n-text-color-pressed-checkable":j}}),u=o?at("tag",R(()=>{let h="";const{type:p,size:g,color:{color:m,textColor:b}={}}=e;return h+=p[0],h+=g[0],m&&(h+=`a${Qo(m)}`),b&&(h+=`b${Qo(b)}`),n.value&&(h+="c"),h}),f,e):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:d,mergedClsPrefix:r,contentRef:t,mergedBordered:n,handleClick:l,handleCloseClick:s,cssVars:o?void 0:f,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender})},render(){var e,t;const{mergedClsPrefix:n,rtlEnabled:r,closable:o,color:{borderColor:i}={},round:a,onRender:l,$slots:s}=this;l==null||l();const c=Ne(s.avatar,f=>f&&v("div",{class:`${n}-tag__avatar`},f)),d=Ne(s.icon,f=>f&&v("div",{class:`${n}-tag__icon`},f));return v("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:a,[`${n}-tag--avatar`]:c,[`${n}-tag--icon`]:d,[`${n}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},d||c,v("span",{class:`${n}-tag__content`,ref:"contentRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)),!this.checkable&&o?v(uo,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?v("div",{class:`${n}-tag__border`,style:{borderColor:i}}):null)}}),Cf={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},_f=e=>{const{borderRadius:t,textColor2:n,textColorDisabled:r,inputColor:o,inputColorDisabled:i,primaryColor:a,primaryColorHover:l,warningColor:s,warningColorHover:c,errorColor:d,errorColorHover:f,borderColor:u,iconColor:h,iconColorDisabled:p,clearColor:g,clearColorHover:m,clearColorPressed:b,placeholderColor:x,placeholderColorDisabled:$,fontSizeTiny:k,fontSizeSmall:y,fontSizeMedium:S,fontSizeLarge:P,heightTiny:j,heightSmall:q,heightMedium:N,heightLarge:E}=e;return Object.assign(Object.assign({},Cf),{fontSizeTiny:k,fontSizeSmall:y,fontSizeMedium:S,fontSizeLarge:P,heightTiny:j,heightSmall:q,heightMedium:N,heightLarge:E,borderRadius:t,textColor:n,textColorDisabled:r,placeholderColor:x,placeholderColorDisabled:$,color:o,colorDisabled:i,colorActive:o,border:`1px solid ${u}`,borderHover:`1px solid ${l}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${l}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${Ce(a,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${Ce(a,{alpha:.2})}`,caretColor:a,arrowColor:h,arrowColorDisabled:p,loadingColor:a,borderWarning:`1px solid ${s}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${s}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${Ce(s,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${Ce(s,{alpha:.2})}`,colorActiveWarning:o,caretColorWarning:s,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${f}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${f}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${Ce(d,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${Ce(d,{alpha:.2})}`,colorActiveError:o,caretColorError:d,clearColor:g,clearColorHover:m,clearColorPressed:b})},kf=Gt({name:"InternalSelection",common:it,peers:{Popover:To},self:_f}),vl=kf,Sf=te([W("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[W("base-loading",`
 color: var(--n-loading-color);
 `),W("base-selection-tags","min-height: var(--n-height);"),X("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),X("state-border",`
 z-index: 1;
 border-color: #0000;
 `),W("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[X("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),W("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[X("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),W("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[X("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),W("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),W("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[W("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[X("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),X("render-label",`
 color: var(--n-text-color);
 `)]),dt("disabled",[te("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),ne("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),ne("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),W("base-selection-label","background-color: var(--n-color-active);"),W("base-selection-tags","background-color: var(--n-color-active);")])]),ne("disabled","cursor: not-allowed;",[X("arrow",`
 color: var(--n-arrow-color-disabled);
 `),W("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[W("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),X("render-label",`
 color: var(--n-text-color-disabled);
 `)]),W("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),W("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),W("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[X("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),X("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>ne(`${e}-status`,[X("state-border",`border: var(--n-border-${e});`),dt("disabled",[te("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),ne("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),W("base-selection-label",`background-color: var(--n-color-active-${e});`),W("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),ne("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),W("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),W("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[te("&:last-child","padding-right: 0;"),W("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[X("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),$f=be({name:"InternalSelection",props:Object.assign(Object.assign({},Me.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=Ke(e),r=Wt("InternalSelection",n,t),o=A(null),i=A(null),a=A(null),l=A(null),s=A(null),c=A(null),d=A(null),f=A(null),u=A(null),h=A(null),p=A(!1),g=A(!1),m=A(!1),b=Me("InternalSelection","-internal-selection",Sf,vl,e,ke(e,"clsPrefix")),x=R(()=>e.clearable&&!e.disabled&&(m.value||e.active)),$=R(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):rt(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),k=R(()=>{const w=e.selectedOption;if(w)return w[e.labelField]}),y=R(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function S(){var w;const{value:M}=o;if(M){const{value:ee}=i;ee&&(ee.style.width=`${M.offsetWidth}px`,e.maxTagCount!=="responsive"&&((w=u.value)===null||w===void 0||w.sync({showAllItemsBeforeCalculate:!1})))}}function P(){const{value:w}=h;w&&(w.style.display="none")}function j(){const{value:w}=h;w&&(w.style.display="inline-block")}Te(ke(e,"active"),w=>{w||P()}),Te(ke(e,"pattern"),()=>{e.multiple&&Ct(S)});function q(w){const{onFocus:M}=e;M&&M(w)}function N(w){const{onBlur:M}=e;M&&M(w)}function E(w){const{onDeleteOption:M}=e;M&&M(w)}function H(w){const{onClear:M}=e;M&&M(w)}function G(w){const{onPatternInput:M}=e;M&&M(w)}function re(w){var M;(!w.relatedTarget||!(!((M=a.value)===null||M===void 0)&&M.contains(w.relatedTarget)))&&q(w)}function I(w){var M;!((M=a.value)===null||M===void 0)&&M.contains(w.relatedTarget)||N(w)}function U(w){H(w)}function Z(){m.value=!0}function oe(){m.value=!1}function Y(w){!e.active||!e.filterable||w.target!==i.value&&w.preventDefault()}function D(w){E(w)}function he(w){if(w.key==="Backspace"&&!T.value&&!e.pattern.length){const{selectedOptions:M}=e;M!=null&&M.length&&D(M[M.length-1])}}const T=A(!1);let L=null;function Q(w){const{value:M}=o;if(M){const ee=w.target.value;M.textContent=ee,S()}e.ignoreComposition&&T.value?L=w:G(w)}function de(){T.value=!0}function ye(){T.value=!1,e.ignoreComposition&&G(L),L=null}function Se(w){var M;g.value=!0,(M=e.onPatternFocus)===null||M===void 0||M.call(e,w)}function we(w){var M;g.value=!1,(M=e.onPatternBlur)===null||M===void 0||M.call(e,w)}function B(){var w,M;if(e.filterable)g.value=!1,(w=c.value)===null||w===void 0||w.blur(),(M=i.value)===null||M===void 0||M.blur();else if(e.multiple){const{value:ee}=l;ee==null||ee.blur()}else{const{value:ee}=s;ee==null||ee.blur()}}function ie(){var w,M,ee;e.filterable?(g.value=!1,(w=c.value)===null||w===void 0||w.focus()):e.multiple?(M=l.value)===null||M===void 0||M.focus():(ee=s.value)===null||ee===void 0||ee.focus()}function xe(){const{value:w}=i;w&&(j(),w.focus())}function ze(){const{value:w}=i;w&&w.blur()}function Oe(w){const{value:M}=d;M&&M.setTextContent(`+${w}`)}function Ue(){const{value:w}=f;return w}function Ie(){return i.value}let Re=null;function Fe(){Re!==null&&window.clearTimeout(Re)}function Be(){e.active||(Fe(),Re=window.setTimeout(()=>{y.value&&(p.value=!0)},100))}function Qe(){Fe()}function Le(w){w||(Fe(),p.value=!1)}Te(y,w=>{w||(p.value=!1)}),Je(()=>{Lt(()=>{const w=c.value;w&&(e.disabled?w.removeAttribute("tabindex"):w.tabIndex=g.value?-1:0)})}),rl(a,e.onResize);const{inlineThemeDisabled:Xe}=e,qe=R(()=>{const{size:w}=e,{common:{cubicBezierEaseInOut:M},self:{borderRadius:ee,color:ae,placeholderColor:J,textColor:ue,paddingSingle:fe,paddingMultiple:pe,caretColor:Ee,colorDisabled:et,textColorDisabled:St,placeholderColorDisabled:tt,colorActive:_,boxShadowFocus:V,boxShadowActive:le,boxShadowHover:ge,border:C,borderFocus:F,borderHover:O,borderActive:K,arrowColor:ve,arrowColorDisabled:$e,loadingColor:De,colorActiveWarning:lt,boxShadowFocusWarning:At,boxShadowActiveWarning:st,boxShadowHoverWarning:It,borderWarning:mr,borderFocusWarning:br,borderHoverWarning:os,borderActiveWarning:is,colorActiveError:as,boxShadowFocusError:ls,boxShadowActiveError:ss,boxShadowHoverError:cs,borderError:ds,borderFocusError:us,borderHoverError:fs,borderActiveError:hs,clearColor:ps,clearColorHover:gs,clearColorPressed:vs,clearSize:ms,arrowSize:bs,[ce("height",w)]:ws,[ce("fontSize",w)]:ys}}=b.value,An=Tt(fe),In=Tt(pe);return{"--n-bezier":M,"--n-border":C,"--n-border-active":K,"--n-border-focus":F,"--n-border-hover":O,"--n-border-radius":ee,"--n-box-shadow-active":le,"--n-box-shadow-focus":V,"--n-box-shadow-hover":ge,"--n-caret-color":Ee,"--n-color":ae,"--n-color-active":_,"--n-color-disabled":et,"--n-font-size":ys,"--n-height":ws,"--n-padding-single-top":An.top,"--n-padding-multiple-top":In.top,"--n-padding-single-right":An.right,"--n-padding-multiple-right":In.right,"--n-padding-single-left":An.left,"--n-padding-multiple-left":In.left,"--n-padding-single-bottom":An.bottom,"--n-padding-multiple-bottom":In.bottom,"--n-placeholder-color":J,"--n-placeholder-color-disabled":tt,"--n-text-color":ue,"--n-text-color-disabled":St,"--n-arrow-color":ve,"--n-arrow-color-disabled":$e,"--n-loading-color":De,"--n-color-active-warning":lt,"--n-box-shadow-focus-warning":At,"--n-box-shadow-active-warning":st,"--n-box-shadow-hover-warning":It,"--n-border-warning":mr,"--n-border-focus-warning":br,"--n-border-hover-warning":os,"--n-border-active-warning":is,"--n-color-active-error":as,"--n-box-shadow-focus-error":ls,"--n-box-shadow-active-error":ss,"--n-box-shadow-hover-error":cs,"--n-border-error":ds,"--n-border-focus-error":us,"--n-border-hover-error":fs,"--n-border-active-error":hs,"--n-clear-size":ms,"--n-clear-color":ps,"--n-clear-color-hover":gs,"--n-clear-color-pressed":vs,"--n-arrow-size":bs}}),z=Xe?at("internal-selection",R(()=>e.size[0]),qe,e):void 0;return{mergedTheme:b,mergedClearable:x,mergedClsPrefix:t,rtlEnabled:r,patternInputFocused:g,filterablePlaceholder:$,label:k,selected:y,showTagsPanel:p,isComposing:T,counterRef:d,counterWrapperRef:f,patternInputMirrorRef:o,patternInputRef:i,selfRef:a,multipleElRef:l,singleElRef:s,patternInputWrapperRef:c,overflowRef:u,inputTagElRef:h,handleMouseDown:Y,handleFocusin:re,handleClear:U,handleMouseEnter:Z,handleMouseLeave:oe,handleDeleteOption:D,handlePatternKeyDown:he,handlePatternInputInput:Q,handlePatternInputBlur:we,handlePatternInputFocus:Se,handleMouseEnterCounter:Be,handleMouseLeaveCounter:Qe,handleFocusout:I,handleCompositionEnd:ye,handleCompositionStart:de,onPopoverUpdateShow:Le,focus:ie,focusInput:xe,blur:B,blurInput:ze,updateCounter:Oe,getCounter:Ue,getTail:Ie,renderLabel:e.renderLabel,cssVars:Xe?void 0:qe,themeClass:z==null?void 0:z.themeClass,onRender:z==null?void 0:z.onRender}},render(){const{status:e,multiple:t,size:n,disabled:r,filterable:o,maxTagCount:i,bordered:a,clsPrefix:l,ellipsisTagPopoverProps:s,onRender:c,renderTag:d,renderLabel:f}=this;c==null||c();const u=i==="responsive",h=typeof i=="number",p=u||h,g=v(Us,null,{default:()=>v(Ks,{clsPrefix:l,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var b,x;return(x=(b=this.$slots).arrow)===null||x===void 0?void 0:x.call(b)}})});let m;if(t){const{labelField:b}=this,x=G=>v("div",{class:`${l}-base-selection-tag-wrapper`,key:G.value},d?d({option:G,handleClose:()=>{this.handleDeleteOption(G)}}):v(Tr,{size:n,closable:!G.disabled,disabled:r,onClose:()=>{this.handleDeleteOption(G)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>f?f(G,!0):rt(G[b],G,!0)})),$=()=>(h?this.selectedOptions.slice(0,i):this.selectedOptions).map(x),k=o?v("div",{class:`${l}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},v("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${l}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),v("span",{ref:"patternInputMirrorRef",class:`${l}-base-selection-input-tag__mirror`},this.pattern)):null,y=u?()=>v("div",{class:`${l}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},v(Tr,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let S;if(h){const G=this.selectedOptions.length-i;G>0&&(S=v("div",{class:`${l}-base-selection-tag-wrapper`,key:"__counter__"},v(Tr,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${G}`})))}const P=u?o?v(gi,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:$,counter:y,tail:()=>k}):v(gi,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:$,counter:y}):h&&S?$().concat(S):$(),j=p?()=>v("div",{class:`${l}-base-selection-popover`},u?$():this.selectedOptions.map(x)):void 0,q=p?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},s):null,E=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?v("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`},v("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)):null,H=o?v("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-tags`},P,u?null:k,g):v("div",{ref:"multipleElRef",class:`${l}-base-selection-tags`,tabindex:r?void 0:0},P,g);m=v(Ft,null,p?v(gl,Object.assign({},q,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>H,default:j}):H,E)}else if(o){const b=this.pattern||this.isComposing,x=this.active?!b:!this.selected,$=this.active?!1:this.selected;m=v("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-label`},v("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${l}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),$?v("div",{class:`${l}-base-selection-label__render-label ${l}-base-selection-overlay`,key:"input"},v("div",{class:`${l}-base-selection-overlay__wrapper`},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):rt(this.label,this.selectedOption,!0))):null,x?v("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},v("div",{class:`${l}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,g)}else m=v("div",{ref:"singleElRef",class:`${l}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?v("div",{class:`${l}-base-selection-input`,title:lc(this.label),key:"input"},v("div",{class:`${l}-base-selection-input__content`},d?d({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):rt(this.label,this.selectedOption,!0))):v("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},v("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)),g);return v("div",{ref:"selfRef",class:[`${l}-base-selection`,this.rtlEnabled&&`${l}-base-selection--rtl`,this.themeClass,e&&`${l}-base-selection--${e}-status`,{[`${l}-base-selection--active`]:this.active,[`${l}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${l}-base-selection--disabled`]:this.disabled,[`${l}-base-selection--multiple`]:this.multiple,[`${l}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},m,a?v("div",{class:`${l}-base-selection__border`}):null,a?v("div",{class:`${l}-base-selection__state-border`}):null)}});function er(e){return e.type==="group"}function ml(e){return e.type==="ignored"}function Fr(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function bl(e,t){return{getIsGroup:er,getIgnored:ml,getKey(r){return er(r)?r.name||r.key||"key-required":r[e]},getChildren(r){return r[t]}}}function Mf(e,t,n,r){if(!t)return e;function o(i){if(!Array.isArray(i))return[];const a=[];for(const l of i)if(er(l)){const s=o(l[r]);s.length&&a.push(Object.assign({},l,{[r]:s}))}else{if(ml(l))continue;t(n,l)&&a.push(l)}return a}return o(e)}function zf(e,t,n){const r=new Map;return e.forEach(o=>{er(o)?o[n].forEach(i=>{r.set(i[t],i)}):r.set(o[t],o)}),r}const Pf={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Tf=e=>{const{primaryColor:t,borderRadius:n,lineHeight:r,fontSize:o,cardColor:i,textColor2:a,textColor1:l,dividerColor:s,fontWeightStrong:c,closeIconColor:d,closeIconColorHover:f,closeIconColorPressed:u,closeColorHover:h,closeColorPressed:p,modalColor:g,boxShadow1:m,popoverColor:b,actionColor:x}=e;return Object.assign(Object.assign({},Pf),{lineHeight:r,color:i,colorModal:g,colorPopover:b,colorTarget:t,colorEmbedded:x,colorEmbeddedModal:x,colorEmbeddedPopover:x,textColor:a,titleTextColor:l,borderColor:s,actionColor:x,titleFontWeight:c,closeColorHover:h,closeColorPressed:p,closeBorderRadius:n,closeIconColor:d,closeIconColorHover:f,closeIconColorPressed:u,fontSizeSmall:o,fontSizeMedium:o,fontSizeLarge:o,fontSizeHuge:o,boxShadow:m,borderRadius:n})},Ff={name:"Card",common:it,self:Tf},wl=Ff,Of=te([W("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Aa({background:"var(--n-color-modal)"}),ne("hoverable",[te("&:hover","box-shadow: var(--n-box-shadow);")]),ne("content-segmented",[te(">",[X("content",{paddingTop:"var(--n-padding-bottom)"})])]),ne("content-soft-segmented",[te(">",[X("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),ne("footer-segmented",[te(">",[X("footer",{paddingTop:"var(--n-padding-bottom)"})])]),ne("footer-soft-segmented",[te(">",[X("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),te(">",[W("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[X("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),X("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),X("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),X("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),X("content","flex: 1; min-width: 0;"),X("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[te("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),X("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),W("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[te("img",`
 display: block;
 width: 100%;
 `)]),ne("bordered",`
 border: 1px solid var(--n-border-color);
 `,[te("&:target","border-color: var(--n-color-target);")]),ne("action-segmented",[te(">",[X("action",[te("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ne("content-segmented, content-soft-segmented",[te(">",[X("content",{transition:"border-color 0.3s var(--n-bezier)"},[te("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ne("footer-segmented, footer-soft-segmented",[te(">",[X("footer",{transition:"border-color 0.3s var(--n-bezier)"},[te("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ne("embedded",`
 background-color: var(--n-color-embedded);
 `)]),Ia(W("card",`
 background: var(--n-color-modal);
 `,[ne("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),Xs(W("card",`
 background: var(--n-color-popover);
 `,[ne("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),Fo={title:String,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"}},Bf=fr(Fo),Af=Object.assign(Object.assign({},Me.props),Fo),If=be({name:"Card",props:Af,setup(e){const t=()=>{const{onClose:c}=e;c&&_e(c)},{inlineThemeDisabled:n,mergedClsPrefixRef:r,mergedRtlRef:o}=Ke(e),i=Me("Card","-card",Of,wl,e,r),a=Wt("Card",o,r),l=R(()=>{const{size:c}=e,{self:{color:d,colorModal:f,colorTarget:u,textColor:h,titleTextColor:p,titleFontWeight:g,borderColor:m,actionColor:b,borderRadius:x,lineHeight:$,closeIconColor:k,closeIconColorHover:y,closeIconColorPressed:S,closeColorHover:P,closeColorPressed:j,closeBorderRadius:q,closeIconSize:N,closeSize:E,boxShadow:H,colorPopover:G,colorEmbedded:re,colorEmbeddedModal:I,colorEmbeddedPopover:U,[ce("padding",c)]:Z,[ce("fontSize",c)]:oe,[ce("titleFontSize",c)]:Y},common:{cubicBezierEaseInOut:D}}=i.value,{top:he,left:T,bottom:L}=Tt(Z);return{"--n-bezier":D,"--n-border-radius":x,"--n-color":d,"--n-color-modal":f,"--n-color-popover":G,"--n-color-embedded":re,"--n-color-embedded-modal":I,"--n-color-embedded-popover":U,"--n-color-target":u,"--n-text-color":h,"--n-line-height":$,"--n-action-color":b,"--n-title-text-color":p,"--n-title-font-weight":g,"--n-close-icon-color":k,"--n-close-icon-color-hover":y,"--n-close-icon-color-pressed":S,"--n-close-color-hover":P,"--n-close-color-pressed":j,"--n-border-color":m,"--n-box-shadow":H,"--n-padding-top":he,"--n-padding-bottom":L,"--n-padding-left":T,"--n-font-size":oe,"--n-title-font-size":Y,"--n-close-size":E,"--n-close-icon-size":N,"--n-close-border-radius":q}}),s=n?at("card",R(()=>e.size[0]),l,e):void 0;return{rtlEnabled:a,mergedClsPrefix:r,mergedTheme:i,handleCloseClick:t,cssVars:n?void 0:l,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{segmented:e,bordered:t,hoverable:n,mergedClsPrefix:r,rtlEnabled:o,onRender:i,embedded:a,tag:l,$slots:s}=this;return i==null||i(),v(l,{class:[`${r}-card`,this.themeClass,a&&`${r}-card--embedded`,{[`${r}-card--rtl`]:o,[`${r}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${r}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${r}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${r}-card--bordered`]:t,[`${r}-card--hoverable`]:n}],style:this.cssVars,role:this.role},Ne(s.cover,c=>c&&v("div",{class:`${r}-card-cover`,role:"none"},c)),Ne(s.header,c=>c||this.title||this.closable?v("div",{class:[`${r}-card-header`,this.headerClass],style:this.headerStyle},v("div",{class:`${r}-card-header__main`,role:"heading"},c||this.title),Ne(s["header-extra"],d=>d&&v("div",{class:[`${r}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},d)),this.closable?v(uo,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),Ne(s.default,c=>c&&v("div",{class:[`${r}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},c)),Ne(s.footer,c=>c&&[v("div",{class:[`${r}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},c)]),Ne(s.action,c=>c&&v("div",{class:`${r}-card__action`,role:"none"},c)))}});function Ef(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const Rf=Gt({name:"Popselect",common:it,peers:{Popover:To,InternalSelectMenu:zo},self:Ef}),Oo=Rf,yl=kt("n-popselect"),Nf=W("popselect-menu",`
 box-shadow: var(--n-menu-box-shadow);
`),Bo={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},Ki=fr(Bo),Lf=be({name:"PopselectPanel",props:Bo,setup(e){const t=je(yl),{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ke(e),o=Me("Popselect","-pop-select",Nf,Oo,t.props,n),i=R(()=>ul(e.options,bl("value","children")));function a(u,h){const{onUpdateValue:p,"onUpdate:value":g,onChange:m}=e;p&&_e(p,u,h),g&&_e(g,u,h),m&&_e(m,u,h)}function l(u){c(u.key)}function s(u){!Qt(u,"action")&&!Qt(u,"empty")&&u.preventDefault()}function c(u){const{value:{getNode:h}}=i;if(e.multiple)if(Array.isArray(e.value)){const p=[],g=[];let m=!0;e.value.forEach(b=>{if(b===u){m=!1;return}const x=h(b);x&&(p.push(x.key),g.push(x.rawNode))}),m&&(p.push(u),g.push(h(u).rawNode)),a(p,g)}else{const p=h(u);p&&a([u],[p.rawNode])}else if(e.value===u&&e.cancelable)a(null,null);else{const p=h(u);p&&a(u,p.rawNode);const{"onUpdate:show":g,onUpdateShow:m}=t.props;g&&_e(g,!1),m&&_e(m,!1),t.setShow(!1)}Ct(()=>{t.syncPosition()})}Te(ke(e,"options"),()=>{Ct(()=>{t.syncPosition()})});const d=R(()=>{const{self:{menuBoxShadow:u}}=o.value;return{"--n-menu-box-shadow":u}}),f=r?at("select",void 0,d,t.props):void 0;return{mergedTheme:t.mergedThemeRef,mergedClsPrefix:n,treeMate:i,handleToggle:l,handleMenuMousedown:s,cssVars:r?void 0:d,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),v(hl,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var t,n;return((n=(t=this.$slots).header)===null||n===void 0?void 0:n.call(t))||[]},action:()=>{var t,n;return((n=(t=this.$slots).action)===null||n===void 0?void 0:n.call(t))||[]},empty:()=>{var t,n;return((n=(t=this.$slots).empty)===null||n===void 0?void 0:n.call(t))||[]}})}}),Df=Object.assign(Object.assign(Object.assign(Object.assign({},Me.props),Ea(Kr,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},Kr.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),Bo),Hf=be({name:"Popselect",props:Df,inheritAttrs:!1,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=Ke(e),n=Me("Popselect","-popselect",void 0,Oo,e,t),r=A(null);function o(){var l;(l=r.value)===null||l===void 0||l.syncPosition()}function i(l){var s;(s=r.value)===null||s===void 0||s.setShow(l)}return Ze(yl,{props:e,mergedThemeRef:n,syncPosition:o,setShow:i}),Object.assign(Object.assign({},{syncPosition:o,setShow:i}),{popoverInstRef:r,mergedTheme:n})},render(){const{mergedTheme:e}=this,t={theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(n,r,o,i,a)=>{const{$attrs:l}=this;return v(Lf,Object.assign({},l,{class:[l.class,n],style:[l.style,...o]},Sn(this.$props,Ki),{ref:sc(r),onMouseenter:bn([i,l.onMouseenter]),onMouseleave:bn([a,l.onMouseleave])}),{header:()=>{var s,c;return(c=(s=this.$slots).header)===null||c===void 0?void 0:c.call(s)},action:()=>{var s,c;return(c=(s=this.$slots).action)===null||c===void 0?void 0:c.call(s)},empty:()=>{var s,c;return(c=(s=this.$slots).empty)===null||c===void 0?void 0:c.call(s)}})}};return v(gl,Object.assign({},Ea(this.$props,Ki),t,{internalDeactivateImmediately:!0}),{trigger:()=>{var n,r;return(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n)}})}});function Gf(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const Wf=Gt({name:"Select",common:it,peers:{InternalSelection:vl,InternalSelectMenu:zo},self:Gf}),xl=Wf,jf=te([W("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),W("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Po({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Vf=Object.assign(Object.assign({},Me.props),{to:pt.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Kf=be({name:"Select",props:Vf,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:o}=Ke(e),i=Me("Select","-select",jf,xl,e,t),a=A(e.defaultValue),l=ke(e,"value"),s=Cn(l,a),c=A(!1),d=A(""),f=R(()=>{const{valueField:_,childrenField:V}=e,le=bl(_,V);return ul(H.value,le)}),u=R(()=>zf(N.value,e.valueField,e.childrenField)),h=A(!1),p=Cn(ke(e,"show"),h),g=A(null),m=A(null),b=A(null),{localeRef:x}=co("Select"),$=R(()=>{var _;return(_=e.placeholder)!==null&&_!==void 0?_:x.value.placeholder}),k=go(e,["items","options"]),y=[],S=A([]),P=A([]),j=A(new Map),q=R(()=>{const{fallbackOption:_}=e;if(_===void 0){const{labelField:V,valueField:le}=e;return ge=>({[V]:String(ge),[le]:ge})}return _===!1?!1:V=>Object.assign(_(V),{value:V})}),N=R(()=>P.value.concat(S.value).concat(k.value)),E=R(()=>{const{filter:_}=e;if(_)return _;const{labelField:V,valueField:le}=e;return(ge,C)=>{if(!C)return!1;const F=C[V];if(typeof F=="string")return Fr(ge,F);const O=C[le];return typeof O=="string"?Fr(ge,O):typeof O=="number"?Fr(ge,String(O)):!1}}),H=R(()=>{if(e.remote)return k.value;{const{value:_}=N,{value:V}=d;return!V.length||!e.filterable?_:Mf(_,E.value,V,e.childrenField)}});function G(_){const V=e.remote,{value:le}=j,{value:ge}=u,{value:C}=q,F=[];return _.forEach(O=>{if(ge.has(O))F.push(ge.get(O));else if(V&&le.has(O))F.push(le.get(O));else if(C){const K=C(O);K&&F.push(K)}}),F}const re=R(()=>{if(e.multiple){const{value:_}=s;return Array.isArray(_)?G(_):[]}return null}),I=R(()=>{const{value:_}=s;return!e.multiple&&!Array.isArray(_)?_===null?null:G([_])[0]||null:null}),U=qs(e),{mergedSizeRef:Z,mergedDisabledRef:oe,mergedStatusRef:Y}=U;function D(_,V){const{onChange:le,"onUpdate:value":ge,onUpdateValue:C}=e,{nTriggerFormChange:F,nTriggerFormInput:O}=U;le&&_e(le,_,V),C&&_e(C,_,V),ge&&_e(ge,_,V),a.value=_,F(),O()}function he(_){const{onBlur:V}=e,{nTriggerFormBlur:le}=U;V&&_e(V,_),le()}function T(){const{onClear:_}=e;_&&_e(_)}function L(_){const{onFocus:V,showOnFocus:le}=e,{nTriggerFormFocus:ge}=U;V&&_e(V,_),ge(),le&&we()}function Q(_){const{onSearch:V}=e;V&&_e(V,_)}function de(_){const{onScroll:V}=e;V&&_e(V,_)}function ye(){var _;const{remote:V,multiple:le}=e;if(V){const{value:ge}=j;if(le){const{valueField:C}=e;(_=re.value)===null||_===void 0||_.forEach(F=>{ge.set(F[C],F)})}else{const C=I.value;C&&ge.set(C[e.valueField],C)}}}function Se(_){const{onUpdateShow:V,"onUpdate:show":le}=e;V&&_e(V,_),le&&_e(le,_),h.value=_}function we(){oe.value||(Se(!0),h.value=!0,e.filterable&&pe())}function B(){Se(!1)}function ie(){d.value="",P.value=y}const xe=A(!1);function ze(){e.filterable&&(xe.value=!0)}function Oe(){e.filterable&&(xe.value=!1,p.value||ie())}function Ue(){oe.value||(p.value?e.filterable?pe():B():we())}function Ie(_){var V,le;!((le=(V=b.value)===null||V===void 0?void 0:V.selfRef)===null||le===void 0)&&le.contains(_.relatedTarget)||(c.value=!1,he(_),B())}function Re(_){L(_),c.value=!0}function Fe(_){c.value=!0}function Be(_){var V;!((V=g.value)===null||V===void 0)&&V.$el.contains(_.relatedTarget)||(c.value=!1,he(_),B())}function Qe(){var _;(_=g.value)===null||_===void 0||_.focus(),B()}function Le(_){var V;p.value&&(!((V=g.value)===null||V===void 0)&&V.$el.contains(xn(_))||B())}function Xe(_){if(!Array.isArray(_))return[];if(q.value)return Array.from(_);{const{remote:V}=e,{value:le}=u;if(V){const{value:ge}=j;return _.filter(C=>le.has(C)||ge.has(C))}else return _.filter(ge=>le.has(ge))}}function qe(_){z(_.rawNode)}function z(_){if(oe.value)return;const{tag:V,remote:le,clearFilterAfterSelect:ge,valueField:C}=e;if(V&&!le){const{value:F}=P,O=F[0]||null;if(O){const K=S.value;K.length?K.push(O):S.value=[O],P.value=y}}if(le&&j.value.set(_[C],_),e.multiple){const F=Xe(s.value),O=F.findIndex(K=>K===_[C]);if(~O){if(F.splice(O,1),V&&!le){const K=w(_[C]);~K&&(S.value.splice(K,1),ge&&(d.value=""))}}else F.push(_[C]),ge&&(d.value="");D(F,G(F))}else{if(V&&!le){const F=w(_[C]);~F?S.value=[S.value[F]]:S.value=y}fe(),B(),D(_[C],_)}}function w(_){return S.value.findIndex(le=>le[e.valueField]===_)}function M(_){p.value||we();const{value:V}=_.target;d.value=V;const{tag:le,remote:ge}=e;if(Q(V),le&&!ge){if(!V){P.value=y;return}const{onCreate:C}=e,F=C?C(V):{[e.labelField]:V,[e.valueField]:V},{valueField:O,labelField:K}=e;k.value.some(ve=>ve[O]===F[O]||ve[K]===F[K])||S.value.some(ve=>ve[O]===F[O]||ve[K]===F[K])?P.value=y:P.value=[F]}}function ee(_){_.stopPropagation();const{multiple:V}=e;!V&&e.filterable&&B(),T(),V?D([],[]):D(null,null)}function ae(_){!Qt(_,"action")&&!Qt(_,"empty")&&_.preventDefault()}function J(_){de(_)}function ue(_){var V,le,ge,C,F;if(!e.keyboard){_.preventDefault();return}switch(_.key){case" ":if(e.filterable)break;_.preventDefault();case"Enter":if(!(!((V=g.value)===null||V===void 0)&&V.isComposing)){if(p.value){const O=(le=b.value)===null||le===void 0?void 0:le.getPendingTmNode();O?qe(O):e.filterable||(B(),fe())}else if(we(),e.tag&&xe.value){const O=P.value[0];if(O){const K=O[e.valueField],{value:ve}=s;e.multiple&&Array.isArray(ve)&&ve.some($e=>$e===K)||z(O)}}}_.preventDefault();break;case"ArrowUp":if(_.preventDefault(),e.loading)return;p.value&&((ge=b.value)===null||ge===void 0||ge.prev());break;case"ArrowDown":if(_.preventDefault(),e.loading)return;p.value?(C=b.value)===null||C===void 0||C.next():we();break;case"Escape":p.value&&(dc(_),B()),(F=g.value)===null||F===void 0||F.focus();break}}function fe(){var _;(_=g.value)===null||_===void 0||_.focus()}function pe(){var _;(_=g.value)===null||_===void 0||_.focusInput()}function Ee(){var _;p.value&&((_=m.value)===null||_===void 0||_.syncPosition())}ye(),Te(ke(e,"options"),ye);const et={focus:()=>{var _;(_=g.value)===null||_===void 0||_.focus()},focusInput:()=>{var _;(_=g.value)===null||_===void 0||_.focusInput()},blur:()=>{var _;(_=g.value)===null||_===void 0||_.blur()},blurInput:()=>{var _;(_=g.value)===null||_===void 0||_.blurInput()}},St=R(()=>{const{self:{menuBoxShadow:_}}=i.value;return{"--n-menu-box-shadow":_}}),tt=o?at("select",void 0,St,e):void 0;return Object.assign(Object.assign({},et),{mergedStatus:Y,mergedClsPrefix:t,mergedBordered:n,namespace:r,treeMate:f,isMounted:sr(),triggerRef:g,menuRef:b,pattern:d,uncontrolledShow:h,mergedShow:p,adjustedTo:pt(e),uncontrolledValue:a,mergedValue:s,followerRef:m,localizedPlaceholder:$,selectedOption:I,selectedOptions:re,mergedSize:Z,mergedDisabled:oe,focused:c,activeWithoutMenuOpen:xe,inlineThemeDisabled:o,onTriggerInputFocus:ze,onTriggerInputBlur:Oe,handleTriggerOrMenuResize:Ee,handleMenuFocus:Fe,handleMenuBlur:Be,handleMenuTabOut:Qe,handleTriggerClick:Ue,handleToggle:qe,handleDeleteOption:z,handlePatternInput:M,handleClear:ee,handleTriggerBlur:Ie,handleTriggerFocus:Re,handleKeydown:ue,handleMenuAfterLeave:ie,handleMenuClickOutside:Le,handleMenuScroll:J,handleMenuKeydown:ue,handleMenuMousedown:ae,mergedTheme:i,cssVars:o?void 0:St,themeClass:tt==null?void 0:tt.themeClass,onRender:tt==null?void 0:tt.onRender})},render(){return v("div",{class:`${this.mergedClsPrefix}-select`},v(Xa,null,{default:()=>[v(qa,null,{default:()=>v($f,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),v(Za,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===pt.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>v(on,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Ot(v(hl,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,o;return[(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)]},header:()=>{var r,o;return[(o=(r=this.$slots).header)===null||o===void 0?void 0:o.call(r)]},action:()=>{var r,o;return[(o=(r=this.$slots).action)===null||o===void 0?void 0:o.call(r)]}}),this.displayDirective==="show"?[[qn,this.mergedShow],[$n,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[$n,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Uf={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},Xf=e=>{const{textColor2:t,primaryColor:n,primaryColorHover:r,primaryColorPressed:o,inputColorDisabled:i,textColorDisabled:a,borderColor:l,borderRadius:s,fontSizeTiny:c,fontSizeSmall:d,fontSizeMedium:f,heightTiny:u,heightSmall:h,heightMedium:p}=e;return Object.assign(Object.assign({},Uf),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${l}`,buttonBorderHover:`1px solid ${l}`,buttonBorderPressed:`1px solid ${l}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:r,itemTextColorPressed:o,itemTextColorActive:n,itemTextColorDisabled:a,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:i,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${n}`,itemBorderDisabled:`1px solid ${l}`,itemBorderRadius:s,itemSizeSmall:u,itemSizeMedium:h,itemSizeLarge:p,itemFontSizeSmall:c,itemFontSizeMedium:d,itemFontSizeLarge:f,jumperFontSizeSmall:c,jumperFontSizeMedium:d,jumperFontSizeLarge:f,jumperTextColor:t,jumperTextColorDisabled:a})},qf=Gt({name:"Pagination",common:it,peers:{Select:xl,Input:Ys,Popselect:Oo},self:Xf}),Yf=qf,Zf=e=>{var t;if(!e)return 10;const{defaultPageSize:n}=e;if(n!==void 0)return n;const r=(t=e.pageSizes)===null||t===void 0?void 0:t[0];return typeof r=="number"?r:(r==null?void 0:r.value)||10};function Jf(e,t,n,r){let o=!1,i=!1,a=1,l=t;if(t===1)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:l,fastBackwardTo:a,items:[{type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1}]};if(t===2)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:l,fastBackwardTo:a,items:[{type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1},{type:"page",label:2,active:e===2,mayBeFastBackward:!0,mayBeFastForward:!1}]};const s=1,c=t;let d=e,f=e;const u=(n-5)/2;f+=Math.ceil(u),f=Math.min(Math.max(f,s+n-3),c-2),d-=Math.floor(u),d=Math.max(Math.min(d,c-n+3),s+2);let h=!1,p=!1;d>s+2&&(h=!0),f<c-2&&(p=!0);const g=[];g.push({type:"page",label:1,active:e===1,mayBeFastBackward:!1,mayBeFastForward:!1}),h?(o=!0,a=d-1,g.push({type:"fast-backward",active:!1,label:void 0,options:r?Ui(s+1,d-1):null})):c>=s+1&&g.push({type:"page",label:s+1,mayBeFastBackward:!0,mayBeFastForward:!1,active:e===s+1});for(let m=d;m<=f;++m)g.push({type:"page",label:m,mayBeFastBackward:!1,mayBeFastForward:!1,active:e===m});return p?(i=!0,l=f+1,g.push({type:"fast-forward",active:!1,label:void 0,options:r?Ui(f+1,c-1):null})):f===c-2&&g[g.length-1].label!==c-1&&g.push({type:"page",mayBeFastForward:!0,mayBeFastBackward:!1,label:c-1,active:e===c-1}),g[g.length-1].label!==c&&g.push({type:"page",mayBeFastForward:!1,mayBeFastBackward:!1,label:c,active:e===c}),{hasFastBackward:o,hasFastForward:i,fastBackwardTo:a,fastForwardTo:l,items:g}}function Ui(e,t){const n=[];for(let r=e;r<=t;++r)n.push({label:`${r}`,value:r});return n}const Xi=`
 background: var(--n-item-color-hover);
 color: var(--n-item-text-color-hover);
 border: var(--n-item-border-hover);
`,qi=[ne("button",`
 background: var(--n-button-color-hover);
 border: var(--n-button-border-hover);
 color: var(--n-button-icon-color-hover);
 `)],Qf=W("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[W("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),W("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),te("> *:not(:first-child)",`
 margin: var(--n-item-margin);
 `),W("select",`
 width: var(--n-select-width);
 `),te("&.transition-disabled",[W("pagination-item","transition: none!important;")]),W("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumper-font-size);
 `,[W("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),W("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[ne("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 padding: 0;
 `,[W("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),dt("disabled",[ne("hover",Xi,qi),te("&:hover",Xi,qi),te("&:active",`
 background: var(--n-item-color-pressed);
 color: var(--n-item-text-color-pressed);
 border: var(--n-item-border-pressed);
 `,[ne("button",`
 background: var(--n-button-color-pressed);
 border: var(--n-button-border-pressed);
 color: var(--n-button-icon-color-pressed);
 `)]),ne("active",`
 background: var(--n-item-color-active);
 color: var(--n-item-text-color-active);
 border: var(--n-item-border-active);
 `,[te("&:hover",`
 background: var(--n-item-color-active-hover);
 `)])]),ne("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[ne("active, button",`
 background-color: var(--n-item-color-disabled);
 border: var(--n-item-border-disabled);
 `)])]),ne("disabled",`
 cursor: not-allowed;
 `,[W("pagination-quick-jumper",`
 color: var(--n-jumper-text-color-disabled);
 `)]),ne("simple",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[W("pagination-quick-jumper",[W("input",`
 margin: 0;
 `)])])]),eh=Object.assign(Object.assign({},Me.props),{simple:Boolean,page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:Number,pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,size:{type:String,default:"medium"},disabled:Boolean,pageSlot:{type:Number,default:9},selectProps:Object,prev:Function,next:Function,goto:Function,prefix:Function,suffix:Function,label:Function,displayOrder:{type:Array,default:["pages","size-picker","quick-jumper"]},to:pt.propTo,showQuickJumpDropdown:{type:Boolean,default:!0},"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),th=be({name:"Pagination",props:eh,setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ke(e),i=Me("Pagination","-pagination",Qf,Yf,e,n),{localeRef:a}=co("Pagination"),l=A(null),s=A(e.defaultPage),c=A(Zf(e)),d=Cn(ke(e,"page"),s),f=Cn(ke(e,"pageSize"),c),u=R(()=>{const{itemCount:B}=e;if(B!==void 0)return Math.max(1,Math.ceil(B/f.value));const{pageCount:ie}=e;return ie!==void 0?Math.max(ie,1):1}),h=A("");Lt(()=>{e.simple,h.value=String(d.value)});const p=A(!1),g=A(!1),m=A(!1),b=A(!1),x=()=>{e.disabled||(p.value=!0,I())},$=()=>{e.disabled||(p.value=!1,I())},k=()=>{g.value=!0,I()},y=()=>{g.value=!1,I()},S=B=>{U(B)},P=R(()=>Jf(d.value,u.value,e.pageSlot,e.showQuickJumpDropdown));Lt(()=>{P.value.hasFastBackward?P.value.hasFastForward||(p.value=!1,m.value=!1):(g.value=!1,b.value=!1)});const j=R(()=>{const B=a.value.selectionSuffix;return e.pageSizes.map(ie=>typeof ie=="number"?{label:`${ie} / ${B}`,value:ie}:ie)}),q=R(()=>{var B,ie;return((ie=(B=t==null?void 0:t.value)===null||B===void 0?void 0:B.Pagination)===null||ie===void 0?void 0:ie.inputSize)||ri(e.size)}),N=R(()=>{var B,ie;return((ie=(B=t==null?void 0:t.value)===null||B===void 0?void 0:B.Pagination)===null||ie===void 0?void 0:ie.selectSize)||ri(e.size)}),E=R(()=>(d.value-1)*f.value),H=R(()=>{const B=d.value*f.value-1,{itemCount:ie}=e;return ie!==void 0&&B>ie-1?ie-1:B}),G=R(()=>{const{itemCount:B}=e;return B!==void 0?B:(e.pageCount||1)*f.value}),re=Wt("Pagination",o,n),I=()=>{Ct(()=>{var B;const{value:ie}=l;ie&&(ie.classList.add("transition-disabled"),(B=l.value)===null||B===void 0||B.offsetWidth,ie.classList.remove("transition-disabled"))})};function U(B){if(B===d.value)return;const{"onUpdate:page":ie,onUpdatePage:xe,onChange:ze,simple:Oe}=e;ie&&_e(ie,B),xe&&_e(xe,B),ze&&_e(ze,B),s.value=B,Oe&&(h.value=String(B))}function Z(B){if(B===f.value)return;const{"onUpdate:pageSize":ie,onUpdatePageSize:xe,onPageSizeChange:ze}=e;ie&&_e(ie,B),xe&&_e(xe,B),ze&&_e(ze,B),c.value=B,u.value<d.value&&U(u.value)}function oe(){if(e.disabled)return;const B=Math.min(d.value+1,u.value);U(B)}function Y(){if(e.disabled)return;const B=Math.max(d.value-1,1);U(B)}function D(){if(e.disabled)return;const B=Math.min(P.value.fastForwardTo,u.value);U(B)}function he(){if(e.disabled)return;const B=Math.max(P.value.fastBackwardTo,1);U(B)}function T(B){Z(B)}function L(){const B=parseInt(h.value);Number.isNaN(B)||(U(Math.max(1,Math.min(B,u.value))),e.simple||(h.value=""))}function Q(){L()}function de(B){if(!e.disabled)switch(B.type){case"page":U(B.label);break;case"fast-backward":he();break;case"fast-forward":D();break}}function ye(B){h.value=B.replace(/\D+/g,"")}Lt(()=>{d.value,f.value,I()});const Se=R(()=>{const{size:B}=e,{self:{buttonBorder:ie,buttonBorderHover:xe,buttonBorderPressed:ze,buttonIconColor:Oe,buttonIconColorHover:Ue,buttonIconColorPressed:Ie,itemTextColor:Re,itemTextColorHover:Fe,itemTextColorPressed:Be,itemTextColorActive:Qe,itemTextColorDisabled:Le,itemColor:Xe,itemColorHover:qe,itemColorPressed:z,itemColorActive:w,itemColorActiveHover:M,itemColorDisabled:ee,itemBorder:ae,itemBorderHover:J,itemBorderPressed:ue,itemBorderActive:fe,itemBorderDisabled:pe,itemBorderRadius:Ee,jumperTextColor:et,jumperTextColorDisabled:St,buttonColor:tt,buttonColorHover:_,buttonColorPressed:V,[ce("itemPadding",B)]:le,[ce("itemMargin",B)]:ge,[ce("inputWidth",B)]:C,[ce("selectWidth",B)]:F,[ce("inputMargin",B)]:O,[ce("selectMargin",B)]:K,[ce("jumperFontSize",B)]:ve,[ce("prefixMargin",B)]:$e,[ce("suffixMargin",B)]:De,[ce("itemSize",B)]:lt,[ce("buttonIconSize",B)]:At,[ce("itemFontSize",B)]:st,[`${ce("itemMargin",B)}Rtl`]:It,[`${ce("inputMargin",B)}Rtl`]:mr},common:{cubicBezierEaseInOut:br}}=i.value;return{"--n-prefix-margin":$e,"--n-suffix-margin":De,"--n-item-font-size":st,"--n-select-width":F,"--n-select-margin":K,"--n-input-width":C,"--n-input-margin":O,"--n-input-margin-rtl":mr,"--n-item-size":lt,"--n-item-text-color":Re,"--n-item-text-color-disabled":Le,"--n-item-text-color-hover":Fe,"--n-item-text-color-active":Qe,"--n-item-text-color-pressed":Be,"--n-item-color":Xe,"--n-item-color-hover":qe,"--n-item-color-disabled":ee,"--n-item-color-active":w,"--n-item-color-active-hover":M,"--n-item-color-pressed":z,"--n-item-border":ae,"--n-item-border-hover":J,"--n-item-border-disabled":pe,"--n-item-border-active":fe,"--n-item-border-pressed":ue,"--n-item-padding":le,"--n-item-border-radius":Ee,"--n-bezier":br,"--n-jumper-font-size":ve,"--n-jumper-text-color":et,"--n-jumper-text-color-disabled":St,"--n-item-margin":ge,"--n-item-margin-rtl":It,"--n-button-icon-size":At,"--n-button-icon-color":Oe,"--n-button-icon-color-hover":Ue,"--n-button-icon-color-pressed":Ie,"--n-button-color-hover":_,"--n-button-color":tt,"--n-button-color-pressed":V,"--n-button-border":ie,"--n-button-border-hover":xe,"--n-button-border-pressed":ze}}),we=r?at("pagination",R(()=>{let B="";const{size:ie}=e;return B+=ie[0],B}),Se,e):void 0;return{rtlEnabled:re,mergedClsPrefix:n,locale:a,selfRef:l,mergedPage:d,pageItems:R(()=>P.value.items),mergedItemCount:G,jumperValue:h,pageSizeOptions:j,mergedPageSize:f,inputSize:q,selectSize:N,mergedTheme:i,mergedPageCount:u,startIndex:E,endIndex:H,showFastForwardMenu:m,showFastBackwardMenu:b,fastForwardActive:p,fastBackwardActive:g,handleMenuSelect:S,handleFastForwardMouseenter:x,handleFastForwardMouseleave:$,handleFastBackwardMouseenter:k,handleFastBackwardMouseleave:y,handleJumperInput:ye,handleBackwardClick:Y,handleForwardClick:oe,handlePageItemClick:de,handleSizePickerChange:T,handleQuickJumperChange:Q,cssVars:r?void 0:Se,themeClass:we==null?void 0:we.themeClass,onRender:we==null?void 0:we.onRender}},render(){const{$slots:e,mergedClsPrefix:t,disabled:n,cssVars:r,mergedPage:o,mergedPageCount:i,pageItems:a,showSizePicker:l,showQuickJumper:s,mergedTheme:c,locale:d,inputSize:f,selectSize:u,mergedPageSize:h,pageSizeOptions:p,jumperValue:g,simple:m,prev:b,next:x,prefix:$,suffix:k,label:y,goto:S,handleJumperInput:P,handleSizePickerChange:j,handleBackwardClick:q,handlePageItemClick:N,handleForwardClick:E,handleQuickJumperChange:H,onRender:G}=this;G==null||G();const re=e.prefix||$,I=e.suffix||k,U=b||e.prev,Z=x||e.next,oe=y||e.label;return v("div",{ref:"selfRef",class:[`${t}-pagination`,this.themeClass,this.rtlEnabled&&`${t}-pagination--rtl`,n&&`${t}-pagination--disabled`,m&&`${t}-pagination--simple`],style:r},re?v("div",{class:`${t}-pagination-prefix`},re({page:o,pageSize:h,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,this.displayOrder.map(Y=>{switch(Y){case"pages":return v(Ft,null,v("div",{class:[`${t}-pagination-item`,!U&&`${t}-pagination-item--button`,(o<=1||o>i||n)&&`${t}-pagination-item--disabled`],onClick:q},U?U({page:o,pageSize:h,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):v(yt,{clsPrefix:t},{default:()=>this.rtlEnabled?v(Ni,null):v(Ii,null)})),m?v(Ft,null,v("div",{class:`${t}-pagination-quick-jumper`},v(ei,{value:g,onUpdateValue:P,size:f,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:H}))," / ",i):a.map((D,he)=>{let T,L,Q;const{type:de}=D;switch(de){case"page":const Se=D.label;oe?T=oe({type:"page",node:Se,active:D.active}):T=Se;break;case"fast-forward":const we=this.fastForwardActive?v(yt,{clsPrefix:t},{default:()=>this.rtlEnabled?v(Ei,null):v(Ri,null)}):v(yt,{clsPrefix:t},{default:()=>v(Li,null)});oe?T=oe({type:"fast-forward",node:we,active:this.fastForwardActive||this.showFastForwardMenu}):T=we,L=this.handleFastForwardMouseenter,Q=this.handleFastForwardMouseleave;break;case"fast-backward":const B=this.fastBackwardActive?v(yt,{clsPrefix:t},{default:()=>this.rtlEnabled?v(Ri,null):v(Ei,null)}):v(yt,{clsPrefix:t},{default:()=>v(Li,null)});oe?T=oe({type:"fast-backward",node:B,active:this.fastBackwardActive||this.showFastBackwardMenu}):T=B,L=this.handleFastBackwardMouseenter,Q=this.handleFastBackwardMouseleave;break}const ye=v("div",{key:he,class:[`${t}-pagination-item`,D.active&&`${t}-pagination-item--active`,de!=="page"&&(de==="fast-backward"&&this.showFastBackwardMenu||de==="fast-forward"&&this.showFastForwardMenu)&&`${t}-pagination-item--hover`,n&&`${t}-pagination-item--disabled`,de==="page"&&`${t}-pagination-item--clickable`],onClick:()=>{N(D)},onMouseenter:L,onMouseleave:Q},T);if(de==="page"&&!D.mayBeFastBackward&&!D.mayBeFastForward)return ye;{const Se=D.type==="page"?D.mayBeFastBackward?"fast-backward":"fast-forward":D.type;return D.type!=="page"&&!D.options?ye:v(Hf,{to:this.to,key:Se,disabled:n,trigger:"hover",virtualScroll:!0,style:{width:"60px"},theme:c.peers.Popselect,themeOverrides:c.peerOverrides.Popselect,builtinThemeOverrides:{peers:{InternalSelectMenu:{height:"calc(var(--n-option-height) * 4.6)"}}},nodeProps:()=>({style:{justifyContent:"center"}}),show:de==="page"?!1:de==="fast-backward"?this.showFastBackwardMenu:this.showFastForwardMenu,onUpdateShow:we=>{de!=="page"&&(we?de==="fast-backward"?this.showFastBackwardMenu=we:this.showFastForwardMenu=we:(this.showFastBackwardMenu=!1,this.showFastForwardMenu=!1))},options:D.type!=="page"&&D.options?D.options:[],onUpdateValue:this.handleMenuSelect,scrollable:!0,showCheckmark:!1},{default:()=>ye})}}),v("div",{class:[`${t}-pagination-item`,!Z&&`${t}-pagination-item--button`,{[`${t}-pagination-item--disabled`]:o<1||o>=i||n}],onClick:E},Z?Z({page:o,pageSize:h,pageCount:i,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):v(yt,{clsPrefix:t},{default:()=>this.rtlEnabled?v(Ii,null):v(Ni,null)})));case"size-picker":return!m&&l?v(Kf,Object.assign({consistentMenuWidth:!1,placeholder:"",showCheckmark:!1,to:this.to},this.selectProps,{size:u,options:p,value:h,disabled:n,theme:c.peers.Select,themeOverrides:c.peerOverrides.Select,onUpdateValue:j})):null;case"quick-jumper":return!m&&s?v("div",{class:`${t}-pagination-quick-jumper`},S?S():Xn(this.$slots.goto,()=>[d.goto]),v(ei,{value:g,onUpdateValue:P,size:f,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:H})):null;default:return null}}),I?v("div",{class:`${t}-pagination-suffix`},I({page:o,pageSize:h,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),nh={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},rh=e=>{const{textColor1:t,textColor2:n,modalColor:r,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeColorHover:l,closeColorPressed:s,infoColor:c,successColor:d,warningColor:f,errorColor:u,primaryColor:h,dividerColor:p,borderRadius:g,fontWeightStrong:m,lineHeight:b,fontSize:x}=e;return Object.assign(Object.assign({},nh),{fontSize:x,lineHeight:b,border:`1px solid ${p}`,titleTextColor:t,textColor:n,color:r,closeColorHover:l,closeColorPressed:s,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeBorderRadius:g,iconColor:h,iconColorInfo:c,iconColorSuccess:d,iconColorWarning:f,iconColorError:u,borderRadius:g,titleFontWeight:m})},oh=Gt({name:"Dialog",common:it,peers:{Button:Zs},self:rh}),Cl=oh,Ao={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},ih=fr(Ao),ah=te([W("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[X("icon",{color:"var(--n-icon-color)"}),ne("bordered",{border:"var(--n-border)"}),ne("icon-top",[X("close",{margin:"var(--n-close-margin)"}),X("icon",{margin:"var(--n-icon-margin)"}),X("content",{textAlign:"center"}),X("title",{justifyContent:"center"}),X("action",{justifyContent:"center"})]),ne("icon-left",[X("icon",{margin:"var(--n-icon-margin)"}),ne("closable",[X("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),X("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),X("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[ne("last","margin-bottom: 0;")]),X("action",`
 display: flex;
 justify-content: flex-end;
 `,[te("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),X("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),X("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),W("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),Ia(W("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),W("dialog",[Aa(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),lh={default:()=>v(ni,null),info:()=>v(ni,null),success:()=>v(Js,null),warning:()=>v(Qs,null),error:()=>v(ec,null)},sh=be({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},Me.props),Ao),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ke(e),i=Wt("Dialog",o,n),a=R(()=>{var h,p;const{iconPlacement:g}=e;return g||((p=(h=t==null?void 0:t.value)===null||h===void 0?void 0:h.Dialog)===null||p===void 0?void 0:p.iconPlacement)||"left"});function l(h){const{onPositiveClick:p}=e;p&&p(h)}function s(h){const{onNegativeClick:p}=e;p&&p(h)}function c(){const{onClose:h}=e;h&&h()}const d=Me("Dialog","-dialog",ah,Cl,e,n),f=R(()=>{const{type:h}=e,p=a.value,{common:{cubicBezierEaseInOut:g},self:{fontSize:m,lineHeight:b,border:x,titleTextColor:$,textColor:k,color:y,closeBorderRadius:S,closeColorHover:P,closeColorPressed:j,closeIconColor:q,closeIconColorHover:N,closeIconColorPressed:E,closeIconSize:H,borderRadius:G,titleFontWeight:re,titleFontSize:I,padding:U,iconSize:Z,actionSpace:oe,contentMargin:Y,closeSize:D,[p==="top"?"iconMarginIconTop":"iconMargin"]:he,[p==="top"?"closeMarginIconTop":"closeMargin"]:T,[ce("iconColor",h)]:L}}=d.value,Q=Tt(he);return{"--n-font-size":m,"--n-icon-color":L,"--n-bezier":g,"--n-close-margin":T,"--n-icon-margin-top":Q.top,"--n-icon-margin-right":Q.right,"--n-icon-margin-bottom":Q.bottom,"--n-icon-margin-left":Q.left,"--n-icon-size":Z,"--n-close-size":D,"--n-close-icon-size":H,"--n-close-border-radius":S,"--n-close-color-hover":P,"--n-close-color-pressed":j,"--n-close-icon-color":q,"--n-close-icon-color-hover":N,"--n-close-icon-color-pressed":E,"--n-color":y,"--n-text-color":k,"--n-border-radius":G,"--n-padding":U,"--n-line-height":b,"--n-border":x,"--n-content-margin":Y,"--n-title-font-size":I,"--n-title-font-weight":re,"--n-title-text-color":$,"--n-action-space":oe}}),u=r?at("dialog",R(()=>`${e.type[0]}${a.value[0]}`),f,e):void 0;return{mergedClsPrefix:n,rtlEnabled:i,mergedIconPlacement:a,mergedTheme:d,handlePositiveClick:l,handleNegativeClick:s,handleCloseClick:c,cssVars:r?void 0:f,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:n,cssVars:r,closable:o,showIcon:i,title:a,content:l,action:s,negativeText:c,positiveText:d,positiveButtonProps:f,negativeButtonProps:u,handlePositiveClick:h,handleNegativeClick:p,mergedTheme:g,loading:m,type:b,mergedClsPrefix:x}=this;(e=this.onRender)===null||e===void 0||e.call(this);const $=i?v(yt,{clsPrefix:x,class:`${x}-dialog__icon`},{default:()=>Ne(this.$slots.icon,y=>y||(this.icon?rt(this.icon):lh[this.type]()))}):null,k=Ne(this.$slots.action,y=>y||d||c||s?v("div",{class:`${x}-dialog__action`},y||(s?[rt(s)]:[this.negativeText&&v(ti,Object.assign({theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,ghost:!0,size:"small",onClick:p},u),{default:()=>rt(this.negativeText)}),this.positiveText&&v(ti,Object.assign({theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:"small",type:b==="default"?"primary":b,disabled:m,loading:m,onClick:h},f),{default:()=>rt(this.positiveText)})])):null);return v("div",{class:[`${x}-dialog`,this.themeClass,this.closable&&`${x}-dialog--closable`,`${x}-dialog--icon-${n}`,t&&`${x}-dialog--bordered`,this.rtlEnabled&&`${x}-dialog--rtl`],style:r,role:"dialog"},o?Ne(this.$slots.close,y=>{const S=[`${x}-dialog__close`,this.rtlEnabled&&`${x}-dialog--rtl`];return y?v("div",{class:S},y):v(uo,{clsPrefix:x,class:S,onClick:this.handleCloseClick})}):null,i&&n==="top"?v("div",{class:`${x}-dialog-icon-container`},$):null,v("div",{class:`${x}-dialog__title`},i&&n==="left"?$:null,Xn(this.$slots.header,()=>[rt(a)])),v("div",{class:[`${x}-dialog__content`,k?"":`${x}-dialog__content--last`]},Xn(this.$slots.default,()=>[rt(l)])),k)}}),ch=kt("n-dialog-provider"),dh=e=>{const{modalColor:t,textColor2:n,boxShadow3:r}=e;return{color:t,textColor:n,boxShadow:r}},uh=Gt({name:"Modal",common:it,peers:{Scrollbar:Ta,Dialog:Cl,Card:wl},self:dh}),fh=uh,Io=Object.assign(Object.assign({},Fo),Ao),hh=fr(Io),ph=be({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},Io),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=A(null),n=A(null),r=A(e.show),o=A(null),i=A(null);Te(ke(e,"show"),m=>{m&&(r.value=!0)}),Dc(R(()=>e.blockScroll&&r.value));const a=je(ja);function l(){if(a.transformOriginRef.value==="center")return"";const{value:m}=o,{value:b}=i;if(m===null||b===null)return"";if(n.value){const x=n.value.containerScrollTop;return`${m}px ${b+x}px`}return""}function s(m){if(a.transformOriginRef.value==="center")return;const b=a.getMousePosition();if(!b||!n.value)return;const x=n.value.containerScrollTop,{offsetLeft:$,offsetTop:k}=m;if(b){const y=b.y,S=b.x;o.value=-($-S),i.value=-(k-y-x)}m.style.transformOrigin=l()}function c(m){Ct(()=>{s(m)})}function d(m){m.style.transformOrigin=l(),e.onBeforeLeave()}function f(){r.value=!1,o.value=null,i.value=null,e.onAfterLeave()}function u(){const{onClose:m}=e;m&&m()}function h(){e.onNegativeClick()}function p(){e.onPositiveClick()}const g=A(null);return Te(g,m=>{m&&Ct(()=>{const b=m.el;b&&t.value!==b&&(t.value=b)})}),Ze(mo,t),Ze(bo,null),Ze(wo,null),{mergedTheme:a.mergedThemeRef,appear:a.appearRef,isMounted:a.isMountedRef,mergedClsPrefix:a.mergedClsPrefixRef,bodyRef:t,scrollbarRef:n,displayed:r,childNodeRef:g,handlePositiveClick:p,handleNegativeClick:h,handleCloseClick:u,handleAfterLeave:f,handleBeforeLeave:d,handleEnter:c}},render(){const{$slots:e,$attrs:t,handleEnter:n,handleAfterLeave:r,handleBeforeLeave:o,preset:i,mergedClsPrefix:a}=this;let l=null;if(!i){if(l=Nr(e),!l){Er("modal","default slot is empty");return}l=Ba(l),l.props=ao({class:`${a}-modal`},t,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Ot(v("div",{role:"none",class:`${a}-modal-body-wrapper`},v(Oa,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${a}-modal-scroll-content`},{default:()=>{var s;return[(s=this.renderMask)===null||s===void 0?void 0:s.call(this),v(nl,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var c;return v(on,{name:"fade-in-scale-up-transition",appear:(c=this.appear)!==null&&c!==void 0?c:this.isMounted,onEnter:n,onAfterEnter:this.onAfterEnter,onAfterLeave:r,onBeforeLeave:o},{default:()=>{const d=[[qn,this.show]],{onClickoutside:f}=this;return f&&d.push([$n,this.onClickoutside,void 0,{capture:!0}]),Ot(this.preset==="confirm"||this.preset==="dialog"?v(sh,Object.assign({},this.$attrs,{class:[`${a}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Sn(this.$props,ih),{"aria-modal":"true"}),e):this.preset==="card"?v(If,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${a}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Sn(this.$props,Bf),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=l,d)}})}})]}})),[[qn,this.displayDirective==="if"||this.displayed||this.show]]):null}}),gh=te([W("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),W("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[Ra({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),W("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[W("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),W("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Po({duration:".25s",enterScale:".5"})])]),vh=Object.assign(Object.assign(Object.assign(Object.assign({},Me.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),Io),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),mh=be({name:"Modal",inheritAttrs:!1,props:vh,setup(e){const t=A(null),{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:o}=Ke(e),i=Me("Modal","-modal",gh,fh,e,n),a=mc(64),l=gc(),s=sr(),c=e.internalDialog?je(ch,null):null,d=Hc();function f(y){const{onUpdateShow:S,"onUpdate:show":P,onHide:j}=e;S&&_e(S,y),P&&_e(P,y),j&&!y&&j(y)}function u(){const{onClose:y}=e;y?Promise.resolve(y()).then(S=>{S!==!1&&f(!1)}):f(!1)}function h(){const{onPositiveClick:y}=e;y?Promise.resolve(y()).then(S=>{S!==!1&&f(!1)}):f(!1)}function p(){const{onNegativeClick:y}=e;y?Promise.resolve(y()).then(S=>{S!==!1&&f(!1)}):f(!1)}function g(){const{onBeforeLeave:y,onBeforeHide:S}=e;y&&_e(y),S&&S()}function m(){const{onAfterLeave:y,onAfterHide:S}=e;y&&_e(y),S&&S()}function b(y){var S;const{onMaskClick:P}=e;P&&P(y),e.maskClosable&&!((S=t.value)===null||S===void 0)&&S.contains(xn(y))&&f(!1)}function x(y){var S;(S=e.onEsc)===null||S===void 0||S.call(e),e.show&&e.closeOnEsc&&uc(y)&&!d.value&&f(!1)}Ze(ja,{getMousePosition:()=>{if(c){const{clickedRef:y,clickPositionRef:S}=c;if(y.value&&S.value)return S.value}return a.value?l.value:null},mergedClsPrefixRef:n,mergedThemeRef:i,isMountedRef:s,appearRef:ke(e,"internalAppear"),transformOriginRef:ke(e,"transformOrigin")});const $=R(()=>{const{common:{cubicBezierEaseOut:y},self:{boxShadow:S,color:P,textColor:j}}=i.value;return{"--n-bezier-ease-out":y,"--n-box-shadow":S,"--n-color":P,"--n-text-color":j}}),k=o?at("theme-class",void 0,$,e):void 0;return{mergedClsPrefix:n,namespace:r,isMounted:s,containerRef:t,presetProps:R(()=>Sn(e,hh)),handleEsc:x,handleAfterLeave:m,handleClickoutside:b,handleBeforeLeave:g,doUpdateShow:f,handleNegativeClick:p,handlePositiveClick:h,handleCloseClick:u,cssVars:o?void 0:$,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender}},render(){const{mergedClsPrefix:e}=this;return v(Ya,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:n}=this;return Ot(v("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},v(ph,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:n?void 0:this.handleClickoutside,renderMask:n?()=>{var r;return v(on,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?v("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[yo,{zIndex:this.zIndex,enabled:this.show}]])}})}}),bh={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},wh=()=>bh,yh={name:"Space",self:wh},xh=yh;let Or;const Ch=()=>{if(!Ma)return!0;if(Or===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const t=e.scrollHeight===1;return document.body.removeChild(e),Or=t}return Or},_h=Object.assign(Object.assign({},Me.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Yi=be({name:"Space",props:_h,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=Ke(e),r=Me("Space","-space",void 0,xh,e,t),o=Wt("Space",n,t);return{useGap:Ch(),rtlEnabled:o,mergedClsPrefix:t,margin:R(()=>{const{size:i}=e;if(Array.isArray(i))return{horizontal:i[0],vertical:i[1]};if(typeof i=="number")return{horizontal:i,vertical:i};const{self:{[ce("gap",i)]:a}}=r.value,{row:l,col:s}=tc(a);return{horizontal:yn(s),vertical:yn(l)}})}},render(){const{vertical:e,reverse:t,align:n,inline:r,justify:o,itemClass:i,itemStyle:a,margin:l,wrap:s,mergedClsPrefix:c,rtlEnabled:d,useGap:f,wrapItem:u,internalUseGap:h}=this,p=ka(nc(this),!1);if(!p.length)return null;const g=`${l.horizontal}px`,m=`${l.horizontal/2}px`,b=`${l.vertical}px`,x=`${l.vertical/2}px`,$=p.length-1,k=o.startsWith("space-");return v("div",{role:"none",class:[`${c}-space`,d&&`${c}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:(()=>e&&!t?"column":e&&t?"column-reverse":!e&&t?"row-reverse":"row")(),justifyContent:["start","end"].includes(o)?"flex-"+o:o,flexWrap:!s||e?"nowrap":"wrap",marginTop:f||e?"":`-${x}`,marginBottom:f||e?"":`-${x}`,alignItems:n,gap:f?`${l.vertical}px ${l.horizontal}px`:""}},!u&&(f||h)?p:p.map((y,S)=>y.type===$a?y:v("div",{role:"none",class:i,style:[a,{maxWidth:"100%"},f?"":e?{marginBottom:S!==$?b:""}:d?{marginLeft:k?o==="space-between"&&S===$?"":m:S!==$?g:"",marginRight:k?o==="space-between"&&S===0?"":m:"",paddingTop:x,paddingBottom:x}:{marginRight:k?o==="space-between"&&S===$?"":m:S!==$?g:"",marginLeft:k?o==="space-between"&&S===0?"":m:"",paddingTop:x,paddingBottom:x}]},y)))}}),kh=e=>{const{opacityDisabled:t,heightTiny:n,heightSmall:r,heightMedium:o,heightLarge:i,heightHuge:a,primaryColor:l,fontSize:s}=e;return{fontSize:s,textColor:l,sizeTiny:n,sizeSmall:r,sizeMedium:o,sizeLarge:i,sizeHuge:a,color:l,opacitySpinning:t}},Sh={name:"Spin",common:it,self:kh},$h=Sh,Mh=te([te("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),W("spin-container",`
 position: relative;
 `,[W("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Ra()])]),W("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),W("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[ne("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),W("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),W("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[ne("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),zh={small:20,medium:18,large:16},Ph=Object.assign(Object.assign({},Me.props),{contentClass:String,contentStyle:[Object,String],description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0},delay:Number}),Th=be({name:"Spin",props:Ph,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Ke(e),r=Me("Spin","-spin",Mh,$h,e,t),o=R(()=>{const{size:s}=e,{common:{cubicBezierEaseInOut:c},self:d}=r.value,{opacitySpinning:f,color:u,textColor:h}=d,p=typeof s=="number"?hn(s):d[ce("size",s)];return{"--n-bezier":c,"--n-opacity-spinning":f,"--n-size":p,"--n-color":u,"--n-text-color":h}}),i=n?at("spin",R(()=>{const{size:s}=e;return typeof s=="number"?String(s):s[0]}),o,e):void 0,a=go(e,["spinning","show"]),l=A(!1);return Lt(s=>{let c;if(a.value){const{delay:d}=e;if(d){c=window.setTimeout(()=>{l.value=!0},d),s(()=>{clearTimeout(c)});return}}l.value=a.value}),{mergedClsPrefix:t,active:l,mergedStrokeWidth:R(()=>{const{strokeWidth:s}=e;if(s!==void 0)return s;const{size:c}=e;return zh[typeof c=="number"?"medium":c]}),cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e,t;const{$slots:n,mergedClsPrefix:r,description:o}=this,i=n.icon&&this.rotate,a=(o||n.description)&&v("div",{class:`${r}-spin-description`},o||((e=n.description)===null||e===void 0?void 0:e.call(n))),l=n.icon?v("div",{class:[`${r}-spin-body`,this.themeClass]},v("div",{class:[`${r}-spin`,i&&`${r}-spin--rotate`],style:n.default?"":this.cssVars},n.icon()),a):v("div",{class:[`${r}-spin-body`,this.themeClass]},v(Fa,{clsPrefix:r,style:n.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${r}-spin`}),a);return(t=this.onRender)===null||t===void 0||t.call(this),n.default?v("div",{class:[`${r}-spin-container`,this.themeClass],style:this.cssVars},v("div",{class:[`${r}-spin-content`,this.active&&`${r}-spin-content--spinning`,this.contentClass],style:this.contentStyle},n),v(on,{name:"fade-in-transition"},{default:()=>this.active?l:null})):l}});class Zi extends Map{constructor(t,n=Bh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(Ji(this,t))}has(t){return super.has(Ji(this,t))}set(t,n){return super.set(Fh(this,t),n)}delete(t){return super.delete(Oh(this,t))}}function Ji({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Fh({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Oh({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Bh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ah(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Ih(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}var Eh={value:()=>{}};function _l(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vn(n)}function Vn(e){this._=e}function Rh(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vn.prototype=_l.prototype={constructor:Vn,on:function(e,t){var n=this._,r=Rh(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=Nh(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=Qi(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Qi(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Nh(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Qi(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Eh,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ur="http://www.w3.org/1999/xhtml";const ea={svg:"http://www.w3.org/2000/svg",xhtml:Ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ea.hasOwnProperty(t)?{space:ea[t],local:e}:e}function Lh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ur&&t.documentElement.namespaceURI===Ur?t.createElement(e):t.createElementNS(n,e)}}function Dh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kl(e){var t=pr(e);return(t.local?Dh:Lh)(t)}function Hh(){}function Eo(e){return e==null?Hh:function(){return this.querySelector(e)}}function Gh(e){typeof e!="function"&&(e=Eo(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,l=r[o]=new Array(a),s,c,d=0;d<a;++d)(s=i[d])&&(c=e.call(s,s.__data__,d,i))&&("__data__"in s&&(c.__data__=s.__data__),l[d]=c);return new We(r,this._parents)}function Sl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Wh(){return[]}function $l(e){return e==null?Wh:function(){return this.querySelectorAll(e)}}function jh(e){return function(){return Sl(e.apply(this,arguments))}}function Vh(e){typeof e=="function"?e=jh(e):e=$l(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],l=a.length,s,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),o.push(s));return new We(r,o)}function Ml(e){return function(){return this.matches(e)}}function zl(e){return function(t){return t.matches(e)}}var Kh=Array.prototype.find;function Uh(e){return function(){return Kh.call(this.children,e)}}function Xh(){return this.firstElementChild}function qh(e){return this.select(e==null?Xh:Uh(typeof e=="function"?e:zl(e)))}var Yh=Array.prototype.filter;function Zh(){return Array.from(this.children)}function Jh(e){return function(){return Yh.call(this.children,e)}}function Qh(e){return this.selectAll(e==null?Zh:Jh(typeof e=="function"?e:zl(e)))}function ep(e){typeof e!="function"&&(e=Ml(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,l=r[o]=[],s,c=0;c<a;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&l.push(s);return new We(r,this._parents)}function Pl(e){return new Array(e.length)}function tp(){return new We(this._enter||this._groups.map(Pl),this._parents)}function tr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tr.prototype={constructor:tr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function np(e){return function(){return e}}function rp(e,t,n,r,o,i){for(var a=0,l,s=t.length,c=i.length;a<c;++a)(l=t[a])?(l.__data__=i[a],r[a]=l):n[a]=new tr(e,i[a]);for(;a<s;++a)(l=t[a])&&(o[a]=l)}function op(e,t,n,r,o,i,a){var l,s,c=new Map,d=t.length,f=i.length,u=new Array(d),h;for(l=0;l<d;++l)(s=t[l])&&(u[l]=h=a.call(s,s.__data__,l,t)+"",c.has(h)?o[l]=s:c.set(h,s));for(l=0;l<f;++l)h=a.call(e,i[l],l,i)+"",(s=c.get(h))?(r[l]=s,s.__data__=i[l],c.delete(h)):n[l]=new tr(e,i[l]);for(l=0;l<d;++l)(s=t[l])&&c.get(u[l])===s&&(o[l]=s)}function ip(e){return e.__data__}function ap(e,t){if(!arguments.length)return Array.from(this,ip);var n=t?op:rp,r=this._parents,o=this._groups;typeof e!="function"&&(e=np(e));for(var i=o.length,a=new Array(i),l=new Array(i),s=new Array(i),c=0;c<i;++c){var d=r[c],f=o[c],u=f.length,h=lp(e.call(d,d&&d.__data__,c,r)),p=h.length,g=l[c]=new Array(p),m=a[c]=new Array(p),b=s[c]=new Array(u);n(d,f,g,m,b,h,t);for(var x=0,$=0,k,y;x<p;++x)if(k=g[x]){for(x>=$&&($=x+1);!(y=m[$])&&++$<p;);k._next=y||null}}return a=new We(a,r),a._enter=l,a._exit=s,a}function lp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sp(){return new We(this._exit||this._groups.map(Pl),this._parents)}function cp(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function dp(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),l=new Array(o),s=0;s<a;++s)for(var c=n[s],d=r[s],f=c.length,u=l[s]=new Array(f),h,p=0;p<f;++p)(h=c[p]||d[p])&&(u[p]=h);for(;s<o;++s)l[s]=n[s];return new We(l,this._parents)}function up(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function fp(e){e||(e=hp);function t(f,u){return f&&u?e(f.__data__,u.__data__):!f-!u}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],l=a.length,s=o[i]=new Array(l),c,d=0;d<l;++d)(c=a[d])&&(s[d]=c);s.sort(t)}return new We(o,this._parents).order()}function hp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pp(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gp(){return Array.from(this)}function vp(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function mp(){let e=0;for(const t of this)++e;return e}function bp(){return!this.node()}function wp(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,l;i<a;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function yp(e){return function(){this.removeAttribute(e)}}function xp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cp(e,t){return function(){this.setAttribute(e,t)}}function _p(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $p(e,t){var n=pr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?xp:yp:typeof t=="function"?n.local?Sp:kp:n.local?_p:Cp)(n,t))}function Tl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mp(e){return function(){this.style.removeProperty(e)}}function zp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Pp(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Tp(e,t,n){return arguments.length>1?this.each((t==null?Mp:typeof t=="function"?Pp:zp)(e,t,n??"")):en(this.node(),e)}function en(e,t){return e.style.getPropertyValue(t)||Tl(e).getComputedStyle(e,null).getPropertyValue(t)}function Fp(e){return function(){delete this[e]}}function Op(e,t){return function(){this[e]=t}}function Bp(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ap(e,t){return arguments.length>1?this.each((t==null?Fp:typeof t=="function"?Bp:Op)(e,t)):this.node()[e]}function Fl(e){return e.trim().split(/^|\s+/)}function Ro(e){return e.classList||new Ol(e)}function Ol(e){this._node=e,this._names=Fl(e.getAttribute("class")||"")}Ol.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bl(e,t){for(var n=Ro(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Al(e,t){for(var n=Ro(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Ip(e){return function(){Bl(this,e)}}function Ep(e){return function(){Al(this,e)}}function Rp(e,t){return function(){(t.apply(this,arguments)?Bl:Al)(this,e)}}function Np(e,t){var n=Fl(e+"");if(arguments.length<2){for(var r=Ro(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Rp:t?Ip:Ep)(n,t))}function Lp(){this.textContent=""}function Dp(e){return function(){this.textContent=e}}function Hp(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Gp(e){return arguments.length?this.each(e==null?Lp:(typeof e=="function"?Hp:Dp)(e)):this.node().textContent}function Wp(){this.innerHTML=""}function jp(e){return function(){this.innerHTML=e}}function Vp(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Kp(e){return arguments.length?this.each(e==null?Wp:(typeof e=="function"?Vp:jp)(e)):this.node().innerHTML}function Up(){this.nextSibling&&this.parentNode.appendChild(this)}function Xp(){return this.each(Up)}function qp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yp(){return this.each(qp)}function Zp(e){var t=typeof e=="function"?e:kl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Jp(){return null}function Qp(e,t){var n=typeof e=="function"?e:kl(e),r=t==null?Jp:typeof t=="function"?t:Eo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function eg(){var e=this.parentNode;e&&e.removeChild(this)}function tg(){return this.each(eg)}function ng(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function og(e){return this.select(e?rg:ng)}function ig(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ag(e){return function(t){e.call(this,t,this.__data__)}}function lg(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function sg(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function cg(e,t,n){return function(){var r=this.__on,o,i=ag(t);if(r){for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function dg(e,t,n){var r=lg(e+""),o,i=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,d;s<c;++s)for(o=0,d=l[s];o<i;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(l=t?cg:sg,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Il(e,t,n){var r=Tl(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ug(e,t){return function(){return Il(this,e,t)}}function fg(e,t){return function(){return Il(this,e,t.apply(this,arguments))}}function hg(e,t){return this.each((typeof t=="function"?fg:ug)(e,t))}function*pg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var No=[null];function We(e,t){this._groups=e,this._parents=t}function On(){return new We([[document.documentElement]],No)}function gg(){return this}We.prototype=On.prototype={constructor:We,select:Gh,selectAll:Vh,selectChild:qh,selectChildren:Qh,filter:ep,data:ap,enter:tp,exit:sp,join:cp,merge:dp,selection:gg,order:up,sort:fp,call:pp,nodes:gp,node:vp,size:mp,empty:bp,each:wp,attr:$p,style:Tp,property:Ap,classed:Np,text:Gp,html:Kp,raise:Xp,lower:Yp,append:Zp,insert:Qp,remove:tg,clone:og,datum:ig,on:dg,dispatch:hg,[Symbol.iterator]:pg};function se(e){return typeof e=="string"?new We([[document.querySelector(e)]],[document.documentElement]):new We([[e]],No)}function me(e){return typeof e=="string"?new We([document.querySelectorAll(e)],[document.documentElement]):new We([Sl(e)],No)}function Lo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function El(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bn(){}var Mn=.7,nr=1/Mn,Yt="\\s*([+-]?\\d+)\\s*",zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vg=/^#([0-9a-f]{3,8})$/,mg=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),bg=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),wg=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${zn}\\)$`),yg=new RegExp(`^rgba\\(${ht},${ht},${ht},${zn}\\)$`),xg=new RegExp(`^hsl\\(${zn},${ht},${ht}\\)$`),Cg=new RegExp(`^hsla\\(${zn},${ht},${ht},${zn}\\)$`),ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lo(Bn,Pn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:na,formatHex:na,formatHex8:_g,formatHsl:kg,formatRgb:ra,toString:ra});function na(){return this.rgb().formatHex()}function _g(){return this.rgb().formatHex8()}function kg(){return Rl(this).formatHsl()}function ra(){return this.rgb().formatRgb()}function Pn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oa(t):n===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mg.exec(e))?new Ve(t[1],t[2],t[3],1):(t=bg.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wg.exec(e))?Hn(t[1],t[2],t[3],t[4]):(t=yg.exec(e))?Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xg.exec(e))?la(t[1],t[2]/100,t[3]/100,1):(t=Cg.exec(e))?la(t[1],t[2]/100,t[3]/100,t[4]):ta.hasOwnProperty(e)?oa(ta[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function oa(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Hn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function Sg(e){return e instanceof Bn||(e=Pn(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function Xr(e,t,n,r){return arguments.length===1?Sg(e):new Ve(e,t,n,r??1)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lo(Ve,Xr,El(Bn,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(Dt(this.r),Dt(this.g),Dt(this.b),rr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ia,formatHex:ia,formatHex8:$g,formatRgb:aa,toString:aa}));function ia(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function $g(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function aa(){const e=rr(this.opacity);return`${e===1?"rgb(":"rgba("}${Dt(this.r)}, ${Dt(this.g)}, ${Dt(this.b)}${e===1?")":`, ${e})`}`}function rr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Dt(e),(e<16?"0":"")+e.toString(16)}function la(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ct(e,t,n,r)}function Rl(e){if(e instanceof ct)return new ct(e.h,e.s,e.l,e.opacity);if(e instanceof Bn||(e=Pn(e)),!e)return new ct;if(e instanceof ct)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(t===i?a=(n-r)/l+(n<r)*6:n===i?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new ct(a,l,s,e.opacity)}function Mg(e,t,n,r){return arguments.length===1?Rl(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lo(ct,Mg,El(Bn,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ve(Br(e>=240?e-240:e+120,o,r),Br(e,o,r),Br(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ct(sa(this.h),Gn(this.s),Gn(this.l),rr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rr(this.opacity);return`${e===1?"hsl(":"hsla("}${sa(this.h)}, ${Gn(this.s)*100}%, ${Gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sa(e){return e=(e||0)%360,e<0?e+360:e}function Gn(e){return Math.max(0,Math.min(1,e||0))}function Br(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Nl=e=>()=>e;function zg(e,t){return function(n){return e+n*t}}function Pg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tg(e){return(e=+e)==1?Ll:function(t,n){return n-t?Pg(t,n,e):Nl(isNaN(t)?n:t)}}function Ll(e,t){var n=t-e;return n?zg(e,n):Nl(isNaN(e)?t:e)}const ca=function e(t){var n=Tg(t);function r(o,i){var a=n((o=Xr(o)).r,(i=Xr(i)).r),l=n(o.g,i.g),s=n(o.b,i.b),c=Ll(o.opacity,i.opacity);return function(d){return o.r=a(d),o.g=l(d),o.b=s(d),o.opacity=c(d),o+""}}return r.gamma=e,r}(1);function zt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(qr.source,"g");function Fg(e){return function(){return e}}function Og(e){return function(t){return e(t)+""}}function Bg(e,t){var n=qr.lastIndex=Ar.lastIndex=0,r,o,i,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=qr.exec(e))&&(o=Ar.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,s.push({i:a,x:zt(r,o)})),n=Ar.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?Og(s[0].x):Fg(t):(t=s.length,function(c){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(c);return l.join("")})}var da=180/Math.PI,Yr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dl(e,t,n,r,o,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*da,skewX:Math.atan(s)*da,scaleX:a,scaleY:l}}var Wn;function Ag(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yr:Dl(t.a,t.b,t.c,t.d,t.e,t.f)}function Ig(e){return e==null||(Wn||(Wn=document.createElementNS("http://www.w3.org/2000/svg","g")),Wn.setAttribute("transform",e),!(e=Wn.transform.baseVal.consolidate()))?Yr:(e=e.matrix,Dl(e.a,e.b,e.c,e.d,e.e,e.f))}function Hl(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,d,f,u,h,p){if(c!==f||d!==u){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:zt(c,f)},{i:g-2,x:zt(d,u)})}else(f||u)&&h.push("translate("+f+t+u+n)}function a(c,d,f,u){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),u.push({i:f.push(o(f)+"rotate(",null,r)-2,x:zt(c,d)})):d&&f.push(o(f)+"rotate("+d+r)}function l(c,d,f,u){c!==d?u.push({i:f.push(o(f)+"skewX(",null,r)-2,x:zt(c,d)}):d&&f.push(o(f)+"skewX("+d+r)}function s(c,d,f,u,h,p){if(c!==f||d!==u){var g=h.push(o(h)+"scale(",null,",",null,")");p.push({i:g-4,x:zt(c,f)},{i:g-2,x:zt(d,u)})}else(f!==1||u!==1)&&h.push(o(h)+"scale("+f+","+u+")")}return function(c,d){var f=[],u=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,u),a(c.rotate,d.rotate,f,u),l(c.skewX,d.skewX,f,u),s(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,u),c=d=null,function(h){for(var p=-1,g=u.length,m;++p<g;)f[(m=u[p]).i]=m.x(h);return f.join("")}}}var Eg=Hl(Ag,"px, ","px)","deg)"),Rg=Hl(Ig,", ",")",")"),tn=0,gn=0,sn=0,Gl=1e3,or,vn,ir=0,Ht=0,gr=0,Tn=typeof performance=="object"&&performance.now?performance:Date,Wl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Do(){return Ht||(Wl(Ng),Ht=Tn.now()+gr)}function Ng(){Ht=0}function ar(){this._call=this._time=this._next=null}ar.prototype=jl.prototype={constructor:ar,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Do():+n)+(t==null?0:+t),!this._next&&vn!==this&&(vn?vn._next=this:or=this,vn=this),this._call=e,this._time=n,Zr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zr())}};function jl(e,t,n){var r=new ar;return r.restart(e,t,n),r}function Lg(){Do(),++tn;for(var e=or,t;e;)(t=Ht-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tn}function ua(){Ht=(ir=Tn.now())+gr,tn=gn=0;try{Lg()}finally{tn=0,Hg(),Ht=0}}function Dg(){var e=Tn.now(),t=e-ir;t>Gl&&(gr-=t,ir=e)}function Hg(){for(var e,t=or,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:or=n);vn=e,Zr(r)}function Zr(e){if(!tn){gn&&(gn=clearTimeout(gn));var t=e-Ht;t>24?(e<1/0&&(gn=setTimeout(ua,e-Tn.now()-gr)),sn&&(sn=clearInterval(sn))):(sn||(ir=Tn.now(),sn=setInterval(Dg,Gl)),tn=1,Wl(ua))}}function fa(e,t,n){var r=new ar;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Gg=_l("start","end","cancel","interrupt"),Wg=[],Vl=0,ha=1,Jr=2,Kn=3,pa=4,Qr=5,Un=6;function vr(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;jg(e,n,{name:t,index:r,group:o,on:Gg,tween:Wg,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vl})}function Ho(e,t){var n=ut(e,t);if(n.state>Vl)throw new Error("too late; already scheduled");return n}function gt(e,t){var n=ut(e,t);if(n.state>Kn)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jg(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=jl(i,0,n.time);function i(c){n.state=ha,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,u,h;if(n.state!==ha)return s();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Kn)return fa(a);h.state===pa?(h.state=Un,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=Un,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(fa(function(){n.state===Kn&&(n.state=pa,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Jr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Jr){for(n.state=Kn,o=new Array(u=n.tween.length),d=0,f=-1;d<u;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=Qr,1),f=-1,u=o.length;++f<u;)o[f].call(e,d);n.state===Qr&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Un,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Vg(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>Jr&&r.state<Qr,r.state=Un,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function Kg(e){return this.each(function(){Vg(this,e)})}function Ug(e,t){var n,r;return function(){var o=gt(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function Xg(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=gt(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:n},s=0,c=o.length;s<c;++s)if(o[s].name===t){o[s]=l;break}s===c&&o.push(l)}i.tween=o}}function qg(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?Ug:Xg)(n,e,t))}function Go(e,t,n){var r=e._id;return e.each(function(){var o=gt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ut(o,r).value[t]}}function Kl(e,t){var n;return(typeof t=="number"?zt:t instanceof Pn?ca:(n=Pn(t))?(t=n,ca):Bg)(e,t)}function Yg(e){return function(){this.removeAttribute(e)}}function Zg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jg(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Qg(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function ev(e,t,n){var r,o,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===o?i:(o=s,i=t(r=a,l)))}}function tv(e,t,n){var r,o,i;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===o?i:(o=s,i=t(r=a,l)))}}function nv(e,t){var n=pr(e),r=n==="transform"?Rg:Kl;return this.attrTween(e,typeof t=="function"?(n.local?tv:ev)(n,r,Go(this,"attr."+e,t)):t==null?(n.local?Zg:Yg)(n):(n.local?Qg:Jg)(n,r,t))}function rv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ov(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function iv(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ov(e,i)),n}return o._value=t,o}function av(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&rv(e,i)),n}return o._value=t,o}function lv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=pr(e);return this.tween(n,(r.local?iv:av)(r,t))}function sv(e,t){return function(){Ho(this,e).delay=+t.apply(this,arguments)}}function cv(e,t){return t=+t,function(){Ho(this,e).delay=t}}function dv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sv:cv)(t,e)):ut(this.node(),t).delay}function uv(e,t){return function(){gt(this,e).duration=+t.apply(this,arguments)}}function fv(e,t){return t=+t,function(){gt(this,e).duration=t}}function hv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uv:fv)(t,e)):ut(this.node(),t).duration}function pv(e,t){if(typeof t!="function")throw new Error;return function(){gt(this,e).ease=t}}function gv(e){var t=this._id;return arguments.length?this.each(pv(t,e)):ut(this.node(),t).ease}function vv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;gt(this,e).ease=n}}function mv(e){if(typeof e!="function")throw new Error;return this.each(vv(this._id,e))}function bv(e){typeof e!="function"&&(e=Ml(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,l=r[o]=[],s,c=0;c<a;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&l.push(s);return new _t(r,this._parents,this._name,this._id)}function wv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var s=t[l],c=n[l],d=s.length,f=a[l]=new Array(d),u,h=0;h<d;++h)(u=s[h]||c[h])&&(f[h]=u);for(;l<r;++l)a[l]=t[l];return new _t(a,this._parents,this._name,this._id)}function yv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xv(e,t,n){var r,o,i=yv(t)?Ho:gt;return function(){var a=i(this,e),l=a.on;l!==r&&(o=(r=l).copy()).on(t,n),a.on=o}}function Cv(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(xv(n,e,t))}function _v(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function kv(){return this.on("end.remove",_v(this._id))}function Sv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Eo(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var l=r[a],s=l.length,c=i[a]=new Array(s),d,f,u=0;u<s;++u)(d=l[u])&&(f=e.call(d,d.__data__,u,l))&&("__data__"in d&&(f.__data__=d.__data__),c[u]=f,vr(c[u],t,n,u,c,ut(d,n)));return new _t(i,this._parents,t,n)}function $v(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$l(e));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var s=r[l],c=s.length,d,f=0;f<c;++f)if(d=s[f]){for(var u=e.call(d,d.__data__,f,s),h,p=ut(d,n),g=0,m=u.length;g<m;++g)(h=u[g])&&vr(h,t,n,g,u,p);i.push(u),a.push(d)}return new _t(i,a,t,n)}var Mv=On.prototype.constructor;function zv(){return new Mv(this._groups,this._parents)}function Pv(e,t){var n,r,o;return function(){var i=en(this,e),a=(this.style.removeProperty(e),en(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function Ul(e){return function(){this.style.removeProperty(e)}}function Tv(e,t,n){var r,o=n+"",i;return function(){var a=en(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function Fv(e,t,n){var r,o,i;return function(){var a=en(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),en(this,e))),a===s?null:a===r&&s===o?i:(o=s,i=t(r=a,l))}}function Ov(e,t){var n,r,o,i="style."+t,a="end."+i,l;return function(){var s=gt(this,e),c=s.on,d=s.value[i]==null?l||(l=Ul(t)):void 0;(c!==n||o!==d)&&(r=(n=c).copy()).on(a,o=d),s.on=r}}function Bv(e,t,n){var r=(e+="")=="transform"?Eg:Kl;return t==null?this.styleTween(e,Pv(e,r)).on("end.style."+e,Ul(e)):typeof t=="function"?this.styleTween(e,Fv(e,r,Go(this,"style."+e,t))).each(Ov(this._id,e)):this.styleTween(e,Tv(e,r,t),n).on("end.style."+e,null)}function Av(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Iv(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&Av(e,a,n)),r}return i._value=t,i}function Ev(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Iv(e,t,n??""))}function Rv(e){return function(){this.textContent=e}}function Nv(e){return function(){var t=e(this);this.textContent=t??""}}function Lv(e){return this.tween("text",typeof e=="function"?Nv(Go(this,"text",e)):Rv(e==null?"":e+""))}function Dv(e){return function(t){this.textContent=e.call(this,t)}}function Hv(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Dv(o)),t}return r._value=e,r}function Gv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Hv(e))}function Wv(){for(var e=this._name,t=this._id,n=Xl(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],l=a.length,s,c=0;c<l;++c)if(s=a[c]){var d=ut(s,t);vr(s,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new _t(r,this._parents,e,n)}function jv(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){--o===0&&i()}};n.each(function(){var c=gt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),c.on=t}),o===0&&i()})}var Vv=0;function _t(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Xl(){return++Vv}var bt=On.prototype;_t.prototype={constructor:_t,select:Sv,selectAll:$v,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:bv,merge:wv,selection:zv,transition:Wv,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:Cv,attr:nv,attrTween:lv,style:Bv,styleTween:Ev,text:Lv,textTween:Gv,remove:kv,tween:qg,delay:dv,duration:hv,ease:gv,easeVarying:mv,end:jv,[Symbol.iterator]:bt[Symbol.iterator]};function Kv(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function lr(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var nn=2*Math.PI,Wo=1,jo=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=nn);function o(i){return t*lr(- --i)*Math.sin((r-i)/n)}return o.amplitude=function(i){return e(i,n*nn)},o.period=function(i){return e(t,i)},o})(Wo,jo);var ql=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=nn);function o(i){return 1-t*lr(i=+i)*Math.sin((i+r)/n)}return o.amplitude=function(i){return e(i,n*nn)},o.period=function(i){return e(t,i)},o}(Wo,jo);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=nn);function o(i){return((i=i*2-1)<0?t*lr(-i)*Math.sin((r-i)/n):2-t*lr(i)*Math.sin((r+i)/n))/2}return o.amplitude=function(i){return e(i,n*nn)},o.period=function(i){return e(t,i)},o})(Wo,jo);var Uv={time:null,delay:0,duration:250,ease:Kv};function Xv(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qv(e){var t,n;e instanceof _t?(t=e._id,e=e._name):(t=Xl(),(n=Uv).time=Do(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],l=a.length,s,c=0;c<l;++c)(s=a[c])&&vr(s,e,t,c,a,n||Xv(s,t));return new _t(r,this._parents,e,t)}On.prototype.interrupt=Kg;On.prototype.transition=qv;const eo=Math.PI,to=2*eo,Rt=1e-6,Yv=to-Rt;function Yl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zv(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Yl;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class Jv{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Yl:Zv(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,s=r-t,c=o-n,d=a-t,f=l-n,u=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(u>Rt)if(!(Math.abs(f*s-c*d)>Rt)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=o-l,g=s*s+c*c,m=h*h+p*p,b=Math.sqrt(g),x=Math.sqrt(u),$=i*Math.tan((eo-Math.acos((g+u-m)/(2*b*x)))/2),k=$/x,y=$/b;Math.abs(k-1)>Rt&&this._append`L${t+k*d},${n+k*f}`,this._append`A${i},${i},0,0,${+(f*h>d*p)},${this._x1=t+y*s},${this._y1=n+y*c}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),s=r*Math.sin(o),c=t+l,d=n+s,f=1^a,u=a?o-i:i-o;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Rt||Math.abs(this._y1-d)>Rt)&&this._append`L${c},${d}`,r&&(u<0&&(u=u%to+to),u>Yv?this._append`A${r},${r},0,1,${f},${t-l},${n-s}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:u>Rt&&this._append`A${r},${r},0,${+(u>=eo)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function Zl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const ga=Symbol("implicit");function Jl(){var e=new Zi,t=[],n=[],r=ga;function o(i){let a=e.get(i);if(a===void 0){if(r!==ga)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Zi;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return Jl(t,n).unknown(r)},Zl.apply(o,arguments),o}function no(){var e=Jl().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,a,l=!1,s=0,c=0,d=.5;delete e.unknown;function f(){var u=t().length,h=o<r,p=h?o:r,g=h?r:o;i=(g-p)/Math.max(1,u-s+c*2),l&&(i=Math.floor(i)),p+=(g-p-i*(u-s))*d,a=i*(1-s),l&&(p=Math.round(p),a=Math.round(a));var m=Ih(u).map(function(b){return p+i*b});return n(h?m.reverse():m)}return e.domain=function(u){return arguments.length?(t(u),f()):t()},e.range=function(u){return arguments.length?([r,o]=u,r=+r,o=+o,f()):[r,o]},e.rangeRound=function(u){return[r,o]=u,r=+r,o=+o,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(u){return arguments.length?(l=!!u,f()):l},e.padding=function(u){return arguments.length?(s=Math.min(1,c=+u),f()):s},e.paddingInner=function(u){return arguments.length?(s=Math.min(1,u),f()):s},e.paddingOuter=function(u){return arguments.length?(c=+u,f()):c},e.align=function(u){return arguments.length?(d=Math.max(0,Math.min(1,u)),f()):d},e.copy=function(){return no(t(),[r,o]).round(l).paddingInner(s).paddingOuter(c).align(d)},Zl.apply(f(),arguments)}function Xt(e){return function(){return e}}const va=1e-12;function Qv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Jv(t)}function em(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ql(e){this._context=e}Ql.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tm(e){return new Ql(e)}function nm(e){return e[0]}function rm(e){return e[1]}function es(e,t){var n=Xt(!0),r=null,o=tm,i=null,a=Qv(l);e=typeof e=="function"?e:e===void 0?nm:Xt(e),t=typeof t=="function"?t:t===void 0?rm:Xt(t);function l(s){var c,d=(s=em(s)).length,f,u=!1,h;for(r==null&&(i=o(h=a())),c=0;c<=d;++c)!(c<d&&n(f=s[c],c,s))===u&&((u=!u)?i.lineStart():i.lineEnd()),u&&i.point(+e(f,c,s),+t(f,c,s));if(h)return i=null,h+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Xt(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Xt(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Xt(!!s),l):n},l.curve=function(s){return arguments.length?(o=s,r!=null&&(i=o(r)),l):o},l.context=function(s){return arguments.length?(s==null?r=i=null:i=o(r=s),l):r},l}function ma(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Vo(e,t){this._context=e,this._k=(1-t)/6}Vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ma(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ma(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new Vo(r,t)}return n.tension=function(r){return e(+r)},n})(0);function om(e,t,n){var r=e._x1,o=e._y1,i=e._x2,a=e._y2;if(e._l01_a>va){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,o=(o*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>va){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/d,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,o,i,a,e._x2,e._y2)}function ts(e,t){this._context=e,this._alpha=t}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:om(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ns=function e(t){function n(r){return t?new ts(r,t):new Vo(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function mn(e,t,n){this.k=e,this.x=t,this.y=n}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};mn.prototype;function rs(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}const im={__name:"ThePaginator",setup(e){const t=Na();function n(r){t.setPage(r,t.searchAndMapContent)}return(r,o)=>(ft(),Fn(Ft,null,[Jt(He(Yi),{justify:"center"},{default:Yn(()=>[He(t).isLoading?(ft(),_n(He(Th),{key:0,size:"5"})):kn("",!0)]),_:1}),Jt(He(Yi),{justify:"center"},{default:Yn(()=>[He(t).searchResults?(ft(),_n(He(th),{key:0,page:He(t).paginatorPage,"onUpdate:page":[o[0]||(o[0]=i=>He(t).paginatorPage=i),n],"page-count":He(t).resultsCount,size:"small"},null,8,["page","page-count"])):kn("",!0)]),_:1})],64))}};async function ro(e){console.log("from UTILS",e);const t=ur();function n(u){let h=[];s==="works"?h=r(c.links):s==="sdgs"?h=o(c.id):h=i(c.name),d.value=h,u()}function r(u){const h=u.filter(p=>s==="sdgs"?p.id!==c.id.toString():p.id!==c.name).map(p=>p.type==="sdg"?{type:"sdg",data:t.homeMapGraph.sdgs.find(m=>m.id.toString()===p.id)}:{type:"concept",data:t.homeMapGraph.concepts.find(m=>m.name===p.id)});return JSON.stringify(h)}function o(u){const h=t.sdgWorkNodes[u].works.filter(p=>p!==c.id).map(p=>t.homeMapGraph.works[p]);return JSON.stringify(h)}function i(u){const h=t.conceptWorkNodes[u].works.filter(p=>p!==c.id).map(p=>t.homeMapGraph.works[p]);return JSON.stringify(h)}function a(){const u=JSON.parse(d.value);s==="works"?u.forEach(h=>{h.type==="sdg"?h.data.children=JSON.parse(o(h.data.id)):h.data.children=JSON.parse(i(h.data.name))}):u.forEach(h=>{h.children=JSON.parse(r(h.links))}),d.value=u}function l(){return{type:s,data:c,children:d.value}}const s=e.type,c=e.root,d=A(null);return n(a),l()}const am={id:"details-map"},ba=0,Pe="#333447",wa="#514efd",cn="lightgrey",dn="1.5px",wt=1e3,lm={__name:"DetailsMap",props:["sizes"],setup(e){const t=e,n=fo(),r=ur();Je(()=>{o(),l(),s(),console.log("Sizes",t.sizes),console.log("detailsMapGraph",r.detailsMapGraph)});function o(){const z=se("#details-map");u.value=z.style("width").replace("px","")}const i=rs(()=>{a()},500);Te(()=>n.width,()=>{i()});function a(){o(),l(),s()}function l(){se("#svg-details-chart").remove(),h(),p()}function s(){H(),U()}const c=A(null),d=A(null),f=R(()=>{const z=r.detailsMapGraph.children.length;let w=Ah(r.detailsMapGraph.children.map(J=>r.detailsMapGraph.type==="works"?J.data.children.length:J.children.length));console.log("maxSecondChildren",w),w=w||2;const M=r.detailsMapGraph.type==="works"?$:k,ee=r.detailsMapGraph.type==="works"?k:$;let ae=null;return r.detailsMapGraph.type==="works"?ae=z>=w?x+z*M:x+w*ee:ae=z>w?x+z*M:x+w*ee,n.isMobile?x+M*r.detailsMapGraph.children.length+w*ee:ae}),u=A(null);function h(){c.value=se("#details-map").append("svg").attr("id","svg-details-chart").attr("viewBox",`0 0 ${u.value} ${f.value}`),d.value=c.value.append("g").attr("id","details-chart-container").attr("transform",`translate(${ba}, ${ba})`)}function p(){q(),N(),E()}const g=A(null),m=A(null),b=A(null),x=t.sizes.worksBandwidth*5,$=t.sizes.worksBandwidth*3,k=t.sizes.worksBandwidth*1.5,y=t.sizes.worksBandwidth*.5,S=t.sizes.worksBandwidth*.5*2,P=ql.amplitude(1).period(.4);function j(){if(n.isMobile){let z=r.detailsMapGraph.children.length;const w=r.detailsMapGraph.type==="works"?$:k,M=r.detailsMapGraph.type==="works"?z*w:z*w+k*1.5;return`translate(0, ${x+M})`}else return`translate(${u.value*.5}, ${x})`}function q(){g.value=d.value.append("g").attr("class","details-title-group").attr("transform","translate(0, 0)")}function N(){m.value=d.value.append("g").attr("class","details-first-group").attr("transform",`translate(0, ${x})`)}function E(){b.value=d.value.append("g").attr("class","details-second-group").attr("transform",j())}function H(){r.detailsMapGraph.type==="works"?G():r.detailsMapGraph.type==="sdgs"?re():I()}function G(){const z=g.value.append("g").attr("class","title-group").attr("transform",`translate(0,-${t.sizes.worksBandwidth*2})`);z.append("rect").attr("class","title-rect"),z.append("text").attr("class","title").text(r.detailsMapGraph.data.title),z.append("a").attr("xlink:href",r.detailsMapGraph.data.openAlexId).attr("target","_blank").append("rect").attr("class","title-rect-overlay").append("title").text(r.detailsMapGraph.data.title),z.selectAll(".title-rect,.title-rect-overlay").attr("width",u.value).attr("height",t.sizes.worksBandwidth),z.selectAll(".title-rect").attr("stroke",Pe).attr("fill",Pe),z.selectAll(".title-rect-overlay").attr("fill-opacity",0).attr("cursor","pointer"),z.selectAll(".title").attr("x",5).attr("y",t.sizes.worksBandwidth*.85).style("font-size",t.sizes.workTitle).attr("fill","white"),g.value.select(".title-group").transition().duration(wt).ease(P).attr("transform","translate(0,0)")}function re(){const M=g.value.append("g").attr("class","title-group").attr("transform",`translate(0,-${t.sizes.worksBandwidth*4})`).append("a").attr("xlink:href",r.detailsMapGraph.data.url).attr("target","_blank").append("g").attr("transform",`translate(${t.sizes.worksBandwidth}, ${t.sizes.worksBandwidth})`);M.append("circle").attr("class","sdg-title-circle").attr("r",y).attr("stroke",Pe).attr("fill",Pe),M.append("text").attr("class","sdg-title-id").text(`SDG ${r.detailsMapGraph.data.id}`).attr("x",S).attr("y",0).style("font-size",`${t.sizes.sdgId}px`).attr("dominant-baseline","text-after-edge").attr("text-anchor","start"),M.append("rect").attr("x",S).attr("y",0).attr("fill",r.detailsMapGraph.data.color).attr("opacity",.4).attr("width",r.detailsMapGraph.data.labelBbox.width).attr("height",r.detailsMapGraph.data.labelBbox.height),M.append("text").text(r.detailsMapGraph.data.name).attr("x",S).attr("y",0).attr("dominant-baseline","text-before-edge").style("font-size",t.sizes.sdgLabel).attr("text-anchor","start"),g.value.select(".title-group").transition().duration(wt).ease(P).attr("transform","translate(0,0)")}function I(){const w=g.value.append("g").attr("class","title-group").attr("transform",`translate(0,-${t.sizes.worksBandwidth*4})`).append("g").attr("transform",`translate(${t.sizes.worksBandwidth}, ${t.sizes.worksBandwidth})`);w.append("circle").attr("class","concept-title-circle").attr("r",y).attr("stroke",Pe).attr("fill",Pe),w.append("text").attr("class","concept-title-name").text(r.detailsMapGraph.data.name).attr("x",S).attr("y",0).style("font-size",`${t.sizes.concept}px`).attr("dominant-baseline","middle").attr("text-anchor","start"),g.value.select(".title-group").transition().duration(wt).ease(P).attr("transform","translate(0,0)")}function U(){r.detailsMapGraph.type==="works"?Z(r.detailsMapGraph.children,oe,B):Ie(r.detailsMapGraph.children,Re,Be)}function Z(z,w,M){m.value.selectAll(".first-group-line").data(z).join(ee=>ee.append("line").attr("class",(ae,J)=>["first-group-line",`element-${J}`].join(" ")).attr("stroke",ae=>ae.data.children.length?cn:null).attr("stroke-width",dn).attr("x1",S*1.5).attr("y1",(ae,J)=>J*$).attr("x2",()=>n.isMobile?u.value*.9:u.value*.4).attr("y2",(ae,J)=>J*$)),w(z,L,Se),M(ze,Oe)}function oe(z,w,M){m.value.selectAll(".first-group-element").data(z).join(ee=>ee.append("g").attr("class",(ae,J)=>["first-group-element",`element-${J}`].join(" ")).attr("transform",`translate(0, -${$*2})`).each(function(ae,J){if(ae.type==="sdg"){const fe=r.homeMapGraph.sdgs.find(Ee=>Ee.id===ae.data.id),pe=se(this).append("g").attr("class",["group-element",`element-${J}`].join(" ")).attr("data-index",J).attr("cursor","pointer");pe.append("circle").attr("class","group-element-circle").attr("data-id",Ee=>Ee.id).attr("cx",y*1.1).attr("cy",0).attr("r",y).attr("stroke",Pe).attr("fill",Pe),pe.append("text").attr("class","sdg-group-id").attr("x",S*1.5).attr("y",0).text(Ee=>`SDG ${Ee.data.id}`).style("font-size",`${t.sizes.sdgId}px`).attr("dominant-baseline","text-after-edge").attr("text-anchor","start"),pe.append("rect").attr("x",S*1.5).attr("y",0).attr("fill",Ee=>Ee.data.color).attr("opacity",.4).attr("width",fe.labelBbox.width).attr("height",fe.labelBbox.height),pe.append("text").text(Ee=>Ee.data.name).attr("x",S*1.5).attr("y",0).attr("dominant-baseline","text-before-edge").style("font-size",t.sizes.sdgLabel).attr("text-anchor","start")}else{const fe=se(this).append("g").attr("class",["group-element",`element-${J}`].join(" ")).attr("data-index",J).attr("cursor","pointer");fe.append("circle").attr("class","group-element-circle").attr("data-id",pe=>pe.id).attr("cx",y*1.1).attr("cy",0).attr("r",y).attr("stroke",Pe).attr("fill",Pe),fe.append("text").attr("class","concept-group-name").attr("x",S*1.5).attr("y",0).text(pe=>pe.data.name).style("font-size",`${t.sizes.concept}px`).attr("dominant-baseline",()=>ae.data.children.length?"text-after-edge":"middle").attr("text-anchor","start")}const ue=se(this).append("g").attr("class",["group-element",`element-${J}`].join(" ")).attr("data-index",J).attr("transform",`translate(${n.isMobile?u.value*.9:u.value*.4},0)`).attr("cursor","pointer");ae.data.children.length&&(ue.append("circle").attr("r",y*1.4).attr("stroke",Pe).attr("fill",Pe),ue.append("text").text(fe=>fe.data.children.length).attr("fill","white").style("font-size",`${t.sizes.concept}px`).attr("dominant-baseline","middle").attr("text-anchor","middle"))})),m.value.selectAll(".first-group-element").transition().duration(wt).ease(P).attr("transform",(ee,ae)=>`translate(0, ${ae*$})`),w(),M()}function Y(z){return z==="mouseover"?wa:Pe}function D(z){return z==="mouseover"?wa:cn}function he(z){return z==="mouseover"?"2.5px":dn}function T(z){return z==="mouseover"?"bold":"regular"}function L(){m.value.selectAll(".group-element").on("mouseover mouseout",function(z){const w=se(this).attr("data-index");r.detailsMapGraph.children[w].data.children.length&&me(`line.element-${w}`).attr("stroke",D(z.type)).attr("stroke-width",he(z.type)),me(`.connection-line-${w}`).attr("stroke",D(z.type)).attr("stroke-width",he(z.type)),w===Q.value&&me(".shown-work-rect").attr("stroke",Y(z.type)).attr("fill",Y(z.type)),me(`.element-${w} circle`).attr("stroke",Y(z.type)).attr("fill",Y(z.type)),me(`.element-${w} .sdg-group-id`).attr("fill",Y(z.type)).attr("font-weight",T(z.type)),me(`.element-${w} .concept-group-name`).attr("fill",Y(z.type)).attr("font-weight",T(z.type))})}const Q=A(null),de=A([]),ye=A([]);Te(()=>Q.value,()=>{r.detailsMapGraph.type==="works"?B(ze,Oe):Be(Le,Xe)});function Se(){m.value.selectAll(".group-element").on("click",function(){const z=se(this).attr("data-index");if(r.detailsMapGraph.children[z].data.children.length?Q.value=z:Q.value=null,r.detailsMapGraph.children[z].data.children.length){const w=r.detailsMapGraph.children[z].data.children;de.value=w}else de.value=[];console.log(de.value)})}function we(){m.value.selectAll(".group-element").on("click",function(){const z=se(this).attr("data-index");if(r.detailsMapGraph.children[z].children.length?Q.value=z:Q.value=null,r.detailsMapGraph.children[z].children.length){const w=r.detailsMapGraph.children[z].children;ye.value=w}else ye.value=[];console.log(ye.value)})}function B(z,w){const M=b.value.selectAll(".shown-work").data(de.value,function(ue){return ue}),ee=M.enter().append("g").attr("class","shown-work").attr("transform",`translate(0, -${k*2})`);ee.append("rect").attr("class","shown-work-rect").attr("data-id",(ue,fe)=>fe),ee.append("text").attr("class","shown-work-title").text(ue=>ue.title),ee.append("rect").attr("class","shown-work-overlay").data(de.value,function(ue,fe){return fe}).each(function(){se(this).append("title").text(ue=>ue.title)});const ae=ee.merge(M);ae.select(".shown-work-title").text(ue=>ue.title),ae.select(".shown-work-overlay title").text(ue=>ue.title),M.exit().remove(),b.value.selectAll(".shown-work-rect,.shown-work-overlay").attr("width",()=>n.isMobile?u.value*.9:u.value*.5).attr("height",t.sizes.worksBandwidth),b.value.selectAll(".shown-work-rect").attr("stroke",Pe).attr("fill",Pe),b.value.selectAll(".shown-work-overlay").attr("class","shown-work-overlay").attr("data-id",(ue,fe)=>fe).attr("fill-opacity",0).attr("cursor","pointer"),b.value.selectAll(".shown-work-title").attr("x",5).attr("y",t.sizes.worksBandwidth*.85).style("font-size",t.sizes.workTitle).attr("fill","white"),b.value.selectAll(".shown-work").transition().duration(wt).ease(P).attr("transform",(ue,fe)=>`translate(0, ${k*fe})`),z(),w(Ue)}function ie(z){const w=n.isMobile?u.value*.9+y*1.5:u.value*.4+y*1.5,M=z*$,ee=n.isMobile?u.value*.96:u.value*.4+y*4,ae=n.isMobile?u.value*.96:u.value*.4+y*8,J=n.isMobile?r.detailsMapGraph.children.length*$+(de.value.length-1)*.5*k+t.sizes.worksBandwidth*.5:t.sizes.worksBandwidth*.5,ue=n.isMobile?u.value*.92:u.value*.495,fe=n.isMobile?r.detailsMapGraph.children.length*$+(de.value.length-1)*.5*k+t.sizes.worksBandwidth*.5:(de.value.length-1)*.5*k+t.sizes.worksBandwidth*.5;return[[{x:w,y:M},{x:ee,y:M},{x:ae,y:J},{x:ue,y:fe}]]}function xe(z){return es().x(M=>M.x).y(M=>M.y).curve(ns.alpha(.5))(z)}function ze(){const z=Q.value?ie(Q.value):[];me(".connection-line").remove(),m.value.selectAll(".connection-line").data(z).join(w=>w.append("path").attr("class",["connection-line",`connection-line-${Q.value}`].join(" ")).attr("d",M=>xe(M)).attr("stroke","white").attr("fill","none").attr("stroke-width",dn),w=>w,w=>w),m.value.selectAll(".connection-line").transition().duration(wt*.3).attr("stroke",cn)}function Oe(z){b.value.selectAll(".shown-work-overlay").on("mouseover mouseout",function(w){const M=Q.value,ee=se(this).attr("data-id");se(`.shown-work-rect[data-id='${ee}']`).attr("stroke",Y(w.type)).attr("fill",Y(w.type)),me(`line.element-${M}`).attr("stroke",D(w.type)).attr("stroke-width",he(w.type)),me(`.connection-line-${M}`).attr("stroke",D(w.type)).attr("stroke-width",he(w.type)),me(`.element-${M} circle`).attr("stroke",Y(w.type)).attr("fill",Y(w.type)),me(`.element-${M} .sdg-group-id`).attr("fill",Y(w.type)).attr("font-weight",T(w.type)),me(`.element-${M} .concept-group-name`).attr("fill",Y(w.type)).attr("font-weight",T(w.type))}),z()}function Ue(){b.value.selectAll(".shown-work-overlay").on("click",async function(){const z=se(this).attr("data-id"),w={type:"works",root:de.value[z],sizes:t.sizes},M=await ro(w);r.setDetailsMapGraph(M),de.value=[],Q.value=null,l(),s()})}function Ie(z,w,M){w(z,Fe,we),m.value.selectAll(".first-group-line").data(z).join(ee=>ee.append("line").attr("class",(ae,J)=>["first-group-line",`element-${J}`].join(" ")).attr("stroke",ae=>ae.children.length?cn:null).attr("stroke-width",dn).attr("x1",n.isMobile?u.value*.75:u.value*.45).attr("y1",(ae,J)=>J*k+t.sizes.worksBandwidth*.5).attr("x2",n.isMobile?u.value*.9-y*1.5*2:u.value*.5-y*1.5).attr("y2",(ae,J)=>J*k+t.sizes.worksBandwidth*.5)),M(Le,Xe)}function Re(z,w,M){m.value.selectAll(".first-group-element").data(z).join(ee=>ee.append("g").attr("class",(ae,J)=>["first-group-element",`element-${J}`].join(" ")).attr("transform",`translate(0, -${k*2})`).each(function(ae,J){const ue=se(this).append("g").attr("class",["group-element",`element-${J}`].join(" ")).attr("data-index",J);ue.append("rect").attr("class","first-group-work-rect").attr("data-id",J),ue.append("text").attr("class","first-group-work-title").attr("data-id",pe=>pe.id).text(pe=>pe.title),ue.append("rect").attr("class","first-group-work-overlay").each(function(){se(this).append("title").text(pe=>pe.title)});const fe=se(this).append("g").attr("class",["group-element",`element-${J}`].join(" ")).attr("data-index",J).attr("transform",`translate(${n.isMobile?u.value*.9-y*1.5:u.value*.5},${t.sizes.worksBandwidth*.5})`).attr("cursor","pointer");ae.children.length&&(fe.append("circle").attr("class","first-group-work-circle").attr("r",y*1.4).attr("stroke",Pe).attr("fill",Pe),fe.append("text").text(pe=>pe.children.length).attr("fill","white").style("font-size",`${t.sizes.concept}px`).attr("dominant-baseline","middle").attr("text-anchor","middle"))})),m.value.selectAll(".first-group-work-rect,.first-group-work-overlay").attr("width",()=>n.isMobile?u.value*.75:u.value*.45).attr("height",t.sizes.worksBandwidth),m.value.selectAll(".first-group-work-rect").attr("stroke",Pe).attr("fill",Pe),m.value.selectAll(".first-group-work-overlay").attr("fill-opacity",0).attr("cursor","pointer"),m.value.selectAll(".first-group-work-title").attr("x",5).attr("y",t.sizes.worksBandwidth*.85).style("font-size",t.sizes.workTitle).attr("fill","white"),m.value.selectAll(".first-group-element").transition().duration(wt).ease(P).attr("transform",(ee,ae)=>`translate(0, ${k*ae})`),w(),M()}function Fe(){m.value.selectAll(".group-element").on("mouseover mouseout",function(z){const w=se(this).attr("data-index");r.detailsMapGraph.children[w].children.length&&me(`line.element-${w}`).attr("stroke",D(z.type)).attr("stroke-width",he(z.type)),me(`.connection-line-${w}`).attr("stroke",D(z.type)).attr("stroke-width",he(z.type)),w===Q.value&&(me(".shown-element-circle").attr("stroke",Y(z.type)).attr("fill",Y(z.type)),me(".shown-sdg-group-id, .shown-concept-group-name").attr("fill",Y(z.type)).attr("font-weight",T(z.type))),me(`.element-${w} .first-group-work-circle`).attr("stroke",Y(z.type)).attr("fill",Y(z.type)),me(`.element-${w} .first-group-work-rect`).attr("stroke",Y(z.type)).attr("fill",Y(z.type))})}function Be(z,w){me(".shown-element").remove(),b.value.selectAll(".shown-element").data(ye.value,function(ae){return ae}).enter().append("g").attr("class","shown-element").attr("data-id",(ae,J)=>J).attr("transform",`translate(${n.isMobile?u.value*.85:u.value*.15}, -${$*2})`).each(function(ae,J){if(ae.type==="sdg"){const ue=r.homeMapGraph.sdgs.find(pe=>pe.id===ae.data.id),fe=se(this).append("g").attr("class",["group-element","shown-sdg-element",`element-${J}`].join(" ")).attr("data-index",J).attr("cursor","pointer");fe.append("circle").attr("class","shown-element-circle").attr("data-id",pe=>pe.id).attr("r",y).attr("stroke",Pe).attr("fill",Pe),fe.append("text").attr("class","shown-sdg-group-id").text(pe=>`SDG ${pe.data.id}`).attr("x",()=>n.isMobile?-S:S).attr("y",0).style("font-size",`${t.sizes.sdgId}px`).attr("dominant-baseline","text-after-edge").attr("text-anchor",()=>n.isMobile?"end":"start"),fe.append("rect").attr("class","shown-sdg-group-color").attr("x",n.isMobile?-(ue.labelBbox.width+S):S).attr("y",0).attr("fill",pe=>pe.data.color).attr("opacity",.4).attr("width",ue.labelBbox.width).attr("height",ue.labelBbox.height),fe.append("text").attr("class","shown-sdg-group-label").text(pe=>pe.data.name).attr("x",()=>n.isMobile?-S:S).attr("y",0).attr("dominant-baseline","text-before-edge").style("font-size",t.sizes.sdgLabel).attr("text-anchor",()=>n.isMobile?"end":"start")}else{const ue=se(this).append("g").attr("class",["group-element","shown-concept-element",`element-${J}`].join(" ")).attr("data-index",J).attr("cursor","pointer");ue.append("circle").attr("class","shown-element-circle").attr("data-id",fe=>fe.id).attr("r",y).attr("stroke",Pe).attr("fill",Pe),ue.append("text").attr("class","shown-concept-group-name").text(fe=>fe.data.name).attr("x",()=>n.isMobile?-S:S).attr("y",0).style("font-size",`${t.sizes.concept}px`).attr("dominant-baseline","middle").attr("text-anchor",()=>n.isMobile?"end":"start")}}),b.value.selectAll(".shown-element").transition().duration(wt).ease(P).attr("transform",(ae,J)=>`translate(${n.isMobile?u.value*.9-y*1.5:u.value*.15}, ${$*J})`),z(),w(qe)}function Qe(z){const w=n.isMobile?u.value*.9:y*1.5,M=z*k+t.sizes.worksBandwidth*.5,ee=n.isMobile?u.value*.95:u.value*.1,ae=n.isMobile?u.value*.95:u.value*.1,J=n.isMobile?r.detailsMapGraph.children.length*k+ye.value.length*.5*$+$*.25:(ye.value.length-1)*.5*$,ue=n.isMobile?u.value*.9:u.value*.14,fe=n.isMobile?r.detailsMapGraph.children.length*k+ye.value.length*.5*$+$*.25:(ye.value.length-1)*.5*$;return[[{x:w,y:M},{x:ee,y:M},{x:ae,y:J},{x:ue,y:fe}]]}function Le(){const z=Q.value?Qe(Q.value):[],w=n.isMobile?m.value:b.value;me(".connection-line").remove(),w.selectAll(".connection-line").data(z).join(M=>M.append("path").attr("class",["connection-line",`connection-line-${Q.value}`].join(" ")).attr("d",ee=>xe(ee)).attr("stroke","white").attr("fill","none").attr("stroke-width",dn),M=>M,M=>M),w.selectAll(".connection-line").transition().duration(wt*.3).attr("stroke",cn)}function Xe(z){b.value.selectAll(".shown-element").on("mouseover mouseout",function(w){const M=Q.value;se(this).select(".shown-element-circle").attr("stroke",Y(w.type)).attr("fill",Y(w.type)),se(this).select(".shown-sdg-group-id, .shown-concept-group-name").attr("fill",Y(w.type)).attr("font-weight",T(w.type)),me(`line.element-${M}`).attr("stroke",D(w.type)).attr("stroke-width",he(w.type)),me(`.connection-line-${M}`).attr("stroke",D(w.type)).attr("stroke-width",he(w.type)),me(`.element-${M} .first-group-work-circle`).attr("stroke",Y(w.type)).attr("fill",Y(w.type)),me(`.element-${M} .first-group-work-rect`).attr("stroke",Y(w.type)).attr("fill",Y(w.type))}),z()}function qe(){b.value.selectAll(".shown-element").on("click",async function(){const z=se(this).attr("data-id");let w=ye.value[z].data;if(ye.value[z].type==="sdg"){const ae=r.homeMapGraph.sdgs.find(J=>J.id===w.id);w.labelBbox=ae.labelBbox}const M={type:`${ye.value[z].type}s`,root:w,sizes:t.sizes},ee=await ro(M);r.setDetailsMapGraph(ee),ye.value=[],Q.value=null,l(),s()})}return(z,w)=>(ft(),Fn("div",am))}},sm={__name:"DetailsMapContainer",props:["inputObj"],setup(e){const t=e,n=ur();return Je(async()=>{const r=await ro(t.inputObj);n.setDetailsMapGraph(r)}),(r,o)=>(ft(),Fn("div",null,[He(n).detailsMapGraph?(ft(),_n(lm,{key:0,sizes:t.inputObj.sizes},null,8,["sizes"])):kn("",!0)]))}},cm=ho("div",{id:"home-map"},null,-1),ya=.85,xa=.8,Mt="#333447",Ca="#514efd",_a="lightgrey",Ir="1.5px",un=1e3,fn=50,dm={__name:"HomeMap",setup(e){const t=fo(),n=ur(),r=Na();Je(()=>{i(),n.numberOfGraphs===0||a()}),Te(()=>n.numberOfGraphs,()=>{n.homeMapGraph?l():se("#svg-chart").remove()});const o=rs(()=>{l()},500);Te(()=>t.width,()=>{o()});function i(){f(),h(),E()}function a(){x(Y),qe(J),pe(St),ge()}function l(){se("#svg-chart").remove(),i(),a()}const s=A(null),c=A(null),d=R(()=>t.height*ya-t.ctrMarginV*2);function f(){s.value=se("#home-map").append("svg").attr("id","svg-chart").attr("viewBox",`0 0 ${t.width} ${t.height*ya}`),c.value=s.value.append("g").attr("id","chart-container").attr("transform",`translate(${t.ctrMarginH}, ${t.ctrMarginV})`)}const u=A(null);function h(){u.value=no().domain(["sdgs","works","concepts"]).align(.5).range([0,t.width-t.ctrMarginH*2])}const p=A(null);function g(C,F){const O=Array.from({length:F},(De,lt)=>lt+C.length);if(t.isMobile)return[...C,...O];const K=Math.ceil(F/2),ve=O.slice(0,K),$e=O.slice(K);return[...ve,...C,...$e]}function m(){let C=n.homeMapGraph.works.map(O=>O.id);const F=r.pageSize-C.length;return F>0&&(C=g(C,F)),C}function b(){return t.isMobile?[d.value*.5,d.value]:[0,d.value]}function x(C){n.homeMapGraph.works&&(p.value=no().domain(m()).paddingInner(.25).align(.5).range(b()),C(n.homeMapGraph.works,Q))}function $(C){const F=p.value.bandwidth()*.95;if(C==="work-title")return`${F}px`;if(C==="sdg-id")return t.isMobile?`${F*.75}px`:`${F}px`;if(C==="sdg-label")return t.isMobile?`${F*.5}px`:`${F*.75}px`;if(C==="concept")return t.isMobile?`${F*.75}px`:`${F}px`}const k=R(()=>({workTitle:$("work-title").replace("px",""),sdgId:$("sdg-id").replace("px",""),sdgLabel:$("sdg-label").replace("px",""),concept:$("concept").replace("px",""),worksBandwidth:p.value.bandwidth(),worksRange:b()})),y=ql.amplitude(1).period(.4),S=A(null),P=A(null),j=A(null),q=A(null),N=A(null);function E(){H(u.value,I),G(u.value),re(u.value,U)}function H(C,F){S.value=c.value.append("g").attr("class","sdgs-group").attr("transform",`translate(${C("sdgs")}, 0)`),F()}function G(C){P.value=c.value.append("g").attr("class","works-group").attr("transform",`translate(${C("works")}, 0)`)}function re(C,F){j.value=c.value.append("g").attr("class","concepts-group").attr("transform",`translate(${C("concepts")}, 0)`),F()}function I(){q.value=S.value.append("g").attr("class","sdg-paths-group")}function U(){N.value=j.value.append("g").attr("class","concept-paths-group")}const Z=R(()=>t.isMobile?`-${u.value.bandwidth()*xa}`:0);function oe(C){return C.map(F=>F.type==="sdg"?`sdg-${F.id}`:`concept-${et(F.id)}`)}function Y(C,F){P.value.selectAll(".work").data(C).join(O=>O.append("g").attr("class","work").attr("transform",`translate(${Z.value}, ${d.value*.5})`).each(function(){se(this).append("rect").attr("class",K=>["work-rect",...oe(K.links)].join(" ")).attr("data-id",K=>K.id),se(this).append("text").attr("class","work-title").attr("data-id",K=>K.id).text(K=>K.title),se(this).append("rect").attr("class","work-overlay").each(function(){se(this).append("title").text(K=>K.title)})}),O=>O,O=>O),P.value.selectAll(".work-rect,.work-overlay").attr("width",()=>t.isMobile?u.value.bandwidth()+2*u.value.bandwidth()*xa:u.value.bandwidth()).attr("height",p.value.bandwidth()),P.value.selectAll(".work-rect").attr("stroke",Mt).attr("fill",Mt),P.value.selectAll(".work-overlay").attr("class",O=>["work-overlay",...oe(O.links)].join(" ")).attr("data-id",O=>O.id).attr("data-type","works").attr("data-index",(O,K)=>K).attr("fill-opacity",0).attr("cursor","pointer"),P.value.selectAll(".work-title").attr("x",u.value.bandwidth()*.01).attr("y",p.value.bandwidth()*.85).style("font-size",$("work-title")).attr("fill","white"),P.value.selectAll(".work").transition().duration(un).ease(y).attr("transform",O=>`translate(${Z.value}, ${p.value(O.id)})`),F()}function D(C){return C==="mouseover"?Ca:Mt}function he(C){return C==="mouseover"?Ca:_a}function T(C){return C==="mouseover"?"2.5px":Ir}function L(C){return C==="mouseover"?"bold":"regular"}function Q(){P.value.selectAll(".work-overlay").on("mouseover mouseout",function(C){const F=se(this).attr("data-id");se(`.work-rect[data-id='${F}']`).attr("stroke",D(C.type)).attr("fill",D(C.type)),me(`.work-line-${F}`).attr("stroke",he(C.type)).attr("stroke-width",T(C.type)),me(`.work-element-${F} circle`).attr("stroke",D(C.type)).attr("fill",D(C.type)),me(`.sdg.work-element-${F} .sdg-id`).attr("fill",D(C.type)).attr("font-weight",L(C.type)),me(`.concept.work-element-${F} .concept-name`).attr("fill",D(C.type)).attr("font-weight",L(C.type))})}const de=R(()=>t.isMobile?t.width*fn:t.width*1.5),ye=R(()=>t.isMobile?d.value*.225:d.value*.45),Se=R(()=>Math.sqrt(Math.pow(de.value,2)+Math.pow(ye.value,2))),we=R(()=>Math.tan(ye.value/de.value)*(180/Math.PI)),B=R(()=>n.homeMapGraph.sdgs.length>1?180-we.value:180),ie=R(()=>{let C=null;return n.homeMapGraph.sdgs&&(C=n.homeMapGraph.sdgs.length>1?we.value*2/(n.homeMapGraph.sdgs.length-1):1),C}),xe=R(()=>n.homeMapGraph.concepts.length>1?we.value:0),ze=R(()=>{let C=null;return n.homeMapGraph.concepts&&(C=n.homeMapGraph.concepts.length>1?we.value*2/(n.homeMapGraph.concepts.length-1):1),C}),Oe=R(()=>t.isMobile?.8:.25),Ue=R(()=>p.value.bandwidth()*.5),Ie=R(()=>Ue.value*2);function Re(C){return C*(Math.PI/180)}function Fe(C,F,O,K,ve){const $e=O*Math.cos(Re(F)+Re(K*ve)),De=C==="sdg"?de.value:-de.value,lt=C==="sdg"?u.value.bandwidth()*(1-Oe.value):u.value.bandwidth()*Oe.value;return De+$e+lt}function Be(C,F,O,K){const ve=-(F*Math.sin(Re(C)+Re(O*K)));return t.isMobile?d.value*.25+ve:d.value*.5+ve}function Qe(C){return es().x(O=>O.x).y(O=>O.y).curve(ns.alpha(.6))(C)}const Le=R(()=>t.isMobile?Se.value+u.value.bandwidth()*(1-Oe.value)*.5:Se.value*.995);function Xe(){const C=[];return n.homeMapGraph.sdgs.forEach((F,O)=>{const K=Fe("sdg",B.value,Se.value,ie.value,O),ve=Be(B.value,Se.value,ie.value,O),$e=Fe("sdg",B.value,Le.value,ie.value,O),De=Be(B.value,Le.value,ie.value,O),lt=t.isMobile?u.value.bandwidth()*(1-Oe.value)*.75:u.value.bandwidth(),At=t.isMobile?u.value.bandwidth()*(1-Oe.value):u.value.bandwidth();n.sdgWorkNodes[F.id].works.forEach(st=>{const It={id:F.id,work:st,coordinates:[{x:K,y:ve},{x:$e,y:De},{x:lt,y:p.value(st)+p.value.bandwidth()*.5},{x:At,y:p.value(st)+p.value.bandwidth()*.5}]};C.push(It)})}),C}function qe(C){if(n.homeMapGraph.sdgs){const F=Xe();q.value.selectAll(".sdg-line").data(F).join(O=>O.append("path").attr("class",K=>["sdg-line",`sdg-${K.id}`,`work-line-${K.work}`].join(" ")).attr("d",K=>Qe(K.coordinates)).attr("stroke","white").attr("fill","none").attr("stroke-width",Ir),O=>O,O=>O),S.value.selectAll(".sdg-line").transition().duration(un*1.5).attr("stroke",_a),C(n.homeMapGraph.sdgs,ee,ae,ue)}}function z(C){return`SDG ${C.id}`}function w(C){return n.sdgWorkNodes[C].works.map(F=>`work-element-${F}`)}function M(C,F){C.append("text").attr("class",F).text(O=>O.name).attr("x",()=>t.isMobile?Ie.value:-Ie.value).attr("y",0).attr("dominant-baseline","text-before-edge").style("font-size",()=>$("sdg-label")).attr("text-anchor",()=>t.isMobile?"start":"end")}function ee(C){S.value.selectAll(".sdg-dummy-label").join(C).each(function(F){F.labelBbox=this.getBBox()})}function ae(C){me(".sdg-dummy-label").remove();const F=S.value.selectAll(".sdg").data(C).join("g");F.append("rect").attr("x",O=>t.isMobile?Ie.value:-(O.labelBbox.width+Ie.value)).attr("y",0).attr("fill",O=>O.color).attr("opacity","0.4").attr("width",O=>O.labelBbox.width).attr("height",O=>O.labelBbox.height),M(F,"sdg-label")}function J(C,F,O,K){S.value.selectAll(".sdg").data(C).join(ve=>ve.append("g").attr("class",$e=>["sdg",`sdg-${$e.id}`,...w($e.id)].join(" ")).attr("data-id",$e=>$e.id).attr("data-type","sdgs").attr("data-index",($e,De)=>De).attr("transform",($e,De)=>`translate(${Fe("sdg",180,t.isMobile?t.width*fn:t.width*1.25,0,De)}, ${Be(180,t.isMobile?t.width*fn:t.width*1.25,0,De)})`).attr("cursor","pointer").each(function(){se(this).append("circle").attr("class","sdg-circle").attr("data-id",$e=>$e.id).attr("r",Ue.value).attr("stroke",Mt).attr("fill",Mt),se(this).append("text").attr("class","sdg-id").attr("data-id",$e=>$e.id).text($e=>z($e)).attr("x",()=>t.isMobile?Ie.value:-Ie.value).attr("y",0).style("font-size",$("sdg-id")).attr("dominant-baseline","text-after-edge").attr("text-anchor",()=>t.isMobile?"start":"end"),M(se(this),"sdg-dummy-label")}),ve=>ve,ve=>ve),S.value.selectAll(".sdg").transition().duration(un).ease(y).attr("transform",(ve,$e)=>`translate(${Fe("sdg",B.value,Se.value,ie.value,$e)}, ${Be(B.value,Se.value,ie.value,$e)})`),F(C),O(n.homeMapGraph.sdgs),K()}function ue(){S.value.selectAll(".sdg").on("mouseover mouseout",function(C){const F=se(this).attr("data-id");se(this).select(".sdg-circle").attr("stroke",D(C.type)).attr("fill",D(C.type)),se(this).select(".sdg-id").attr("fill",D(C.type)).attr("font-weight",L(C.type)),me(`.sdg-line.sdg-${F}`).attr("stroke",he(C.type)).attr("stroke-width",T(C.type)),me(`.work-rect.sdg-${F}`).attr("stroke",D(C.type)).attr("fill",D(C.type))})}function fe(){const C=[];return n.homeMapGraph.concepts.forEach((F,O)=>{const K=Fe("concept",xe.value,Se.value,-ze.value,O),ve=Be(xe.value,Se.value,-ze.value,O),$e=Fe("concept",xe.value,Le.value,-ze.value,O),De=Be(xe.value,Le.value,-ze.value,O),lt=t.isMobile?u.value.bandwidth()*.85:0,At=t.isMobile?u.value.bandwidth()*Oe.value:0;n.conceptWorkNodes[F.name].works.forEach(st=>{const It={id:F.name,work:st,coordinates:[{x:K,y:ve},{x:$e,y:De},{x:lt,y:p.value(st)+p.value.bandwidth()*.5},{x:At,y:p.value(st)+p.value.bandwidth()*.5}]};C.push(It)})}),C}function pe(C){if(n.homeMapGraph.concepts){const F=fe();N.value.selectAll(".concept-line").data(F).join(O=>O.append("path").attr("class",K=>["concept-line",`concept-${et(K.id)}`,`work-line-${K.work}`].join(" ")).attr("d",K=>Qe(K.coordinates)).attr("stroke","white").attr("fill","none").attr("stroke-width",Ir),O=>O,O=>O),j.value.selectAll(".concept-line").transition().duration(un*1.5).attr("stroke","lightgrey"),C(n.homeMapGraph.concepts,tt)}}function Ee(C){return n.conceptWorkNodes[C].works.map(F=>`work-element-${F}`)}function et(C){return C.replace(/[()"\s]/g,"")}function St(C,F){j.value.selectAll(".concept").data(C).join(O=>O.append("g").attr("class",K=>["concept",`concept-${et(K.name)}`,...Ee(K.name)].join(" ")).attr("data-name",K=>et(K.name)).attr("data-type","concepts").attr("data-index",(K,ve)=>ve).attr("transform",(K,ve)=>`translate(${Fe("concept",0,t.isMobile?t.width*fn:t.width*1.25,0,ve)}, ${Be(0,t.isMobile?t.width*fn:t.width*1.25,0,ve)})`).attr("cursor","pointer").each(function(){se(this).append("circle").attr("class","concept-circle").attr("data-name",K=>et(K.name)).attr("r",Ue.value).attr("stroke",Mt).attr("fill",Mt),se(this).append("text").attr("class","concept-name").attr("data-name",K=>et(K.name)).text(K=>K.name).attr("x",()=>t.isMobile?-Ie.value:Ie.value).attr("y",0).style("font-size",$("concept")).attr("fill",Mt).attr("dominant-baseline","middle").attr("text-anchor",()=>t.isMobile?"end":"start")}),O=>O,O=>O),j.value.selectAll("g.concept").transition().duration(un).ease(y).attr("transform",(O,K)=>`translate(${Fe("concept",xe.value,Se.value,-ze.value,K)}, ${Be(xe.value,Se.value,-ze.value,K)})`),F()}function tt(){j.value.selectAll(".concept").on("mouseover mouseout",function(C){const F=se(this).attr("data-name");se(this).select(".concept-circle").attr("stroke",D(C.type)).attr("fill",D(C.type)),se(this).select(".concept-name").attr("fill",D(C.type)).attr("font-weight",L(C.type)),me(`.concept-line.concept-${F}`).attr("stroke",he(C.type)).attr("stroke-width",T(C.type)),me(`.work-rect.concept-${F}`).attr("stroke",D(C.type)).attr("fill",D(C.type))})}const _=A(!1),V=A(null);function le(C){V.value=C,_.value=!0}function ge(){c.value.selectAll(".work-overlay,.sdg,.concept").on("click",function(){const C=se(this).attr("data-type"),F=se(this).attr("data-index"),O=n.homeMapGraph[C][F];le({type:C,root:O,sizes:k})})}return(C,F)=>(ft(),Fn(Ft,null,[Jt(He(mh),{id:"details-modal",style:rc({width:He(t).modalWidth}),show:_.value,"onUpdate:show":F[0]||(F[0]=O=>_.value=O),"mask-closable":!0,preset:"card","destroy-on-close":"","on-after-leave":He(n).resetDetailsMapGraph},{default:Yn(()=>[_.value?(ft(),_n(sm,{key:0,"input-obj":V.value},null,8,["input-obj"])):kn("",!0)]),_:1},8,["style","show","on-after-leave"]),cm,ho("div",null,[Jt(im)])],64))}};const um={key:0,class:"map-search"},fm={class:"map-area"},pm={__name:"MapView",setup(e){const t=fo();return(n,r)=>(ft(),_n(He(ic),{vertical:"",class:"map-view"},{default:Yn(()=>[He(t).isMobile?(ft(),Fn("div",um,[Jt(oc)])):kn("",!0),ho("div",fm,[Jt(dm)])]),_:1}))}};export{pm as default};
