import{i as hr,d as mt,e as A,f as Ft,h as pr,g as Zt,j as St,k as Lt,l as gr,m as Ue,n as Ri,p as R,q as zi,s as Jt,t as D,u as vr,v as O,x as S,y as mr,z as Ti,A as At,B as en,C as Ae,D as _r,E as z,F as tn,G as $,H as Q,I as qe,J as dt,K as xr,N as yr,L as wr,M as Pi,O as ke,P as Ii,Q as bn,R as kn,S as Cn,T as Bi,W as Oi,U as Fi,V as Li,X as Di,Y as Dt,Z as br,$ as kr,a0 as ht,a1 as Hi,a2 as Gi,a3 as Wi,a4 as Vi,a5 as Ht,a6 as $n,a7 as qi,a8 as Xi,a9 as Cr,aa as ji,ab as Gt,ac as Mn,ad as Yi,ae as Ui,af as Ki,ag as Qi,ah as Zi,ai as Ji,aj as eo,ak as to,_ as no,al as $r,am as ro,an as io,o as _t,ao as Mr,ap as xt,w as Sr,c as Ar,aq as ce,ar as Er,as as oo,a as Me,at as ao,au as Sn,av as so,aw as lo,ax as An,ay as co,az as uo}from"./index-052bb65a.js";function nn(e){return Object.keys(e)}const Nr=new WeakSet;function Nc(e){Nr.add(e)}function fo(e){return!Nr.has(e)}const Xe=A(null);function En(e){if(e.clientX>0||e.clientY>0)Xe.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:n,top:r,width:i,height:o}=t.getBoundingClientRect();n>0||r>0?Xe.value={x:n+i/2,y:r+o/2}:Xe.value={x:0,y:0}}else Xe.value=null}}let st=0,Nn=!0;function ho(){if(!hr)return mt(A(null));st===0&&Ft("click",document,En,!0);const e=()=>{st+=1};return Nn&&(Nn=pr())?(Zt(e),St(()=>{st-=1,st===0&&Lt("click",document,En,!0)})):e(),mt(Xe)}const po=A(void 0);let lt=0;function Rn(){po.value=Date.now()}let zn=!0;function go(e){if(!hr)return mt(A(!1));const t=A(!1);let n=null;function r(){n!==null&&window.clearTimeout(n)}function i(){r(),t.value=!0,n=window.setTimeout(()=>{t.value=!1},e)}lt===0&&Ft("click",window,Rn,!0);const o=()=>{lt+=1,Ft("click",window,i,!0)};return zn&&(zn=pr())?(Zt(o),St(()=>{lt-=1,lt===0&&Lt("click",window,Rn,!0),Lt("click",window,i,!0),r()})):o(),mt(t)}let Ce=0,Tn="",Pn="",In="",Bn="";const On=A("0px");function vo(e){if(typeof document>"u")return;const t=document.documentElement;let n,r=!1;const i=()=>{t.style.marginRight=Tn,t.style.overflow=Pn,t.style.overflowX=In,t.style.overflowY=Bn,On.value="0px"};gr(()=>{n=Ue(e,o=>{if(o){if(!Ce){const a=window.innerWidth-t.offsetWidth;a>0&&(Tn=t.style.marginRight,t.style.marginRight=`${a}px`,On.value=`${a}px`),Pn=t.style.overflow,In=t.style.overflowX,Bn=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}r=!0,Ce++}else Ce--,Ce||i(),r=!1},{immediate:!0})}),St(()=>{n==null||n(),r&&(Ce--,Ce||i(),r=!1)})}const rn=A(!1),Fn=()=>{rn.value=!0},Ln=()=>{rn.value=!1};let He=0;const mo=()=>(Ri&&(Zt(()=>{He||(window.addEventListener("compositionstart",Fn),window.addEventListener("compositionend",Ln)),He++}),St(()=>{He<=1?(window.removeEventListener("compositionstart",Fn),window.removeEventListener("compositionend",Ln),He=0):He--})),rn),{cubicBezierEaseIn:Dn,cubicBezierEaseOut:Hn}=zi;function _o({transformOrigin:e="inherit",duration:t=".2s",enterScale:n=".9",originalTransform:r="",originalTransition:i=""}={}){return[R("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${Dn}, transform ${t} ${Dn} ${i&&","+i}`}),R("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${Hn}, transform ${t} ${Hn} ${i&&","+i}`}),R("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${n})`}),R("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const xo={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},yo=e=>{const{primaryColor:t,borderRadius:n,lineHeight:r,fontSize:i,cardColor:o,textColor2:a,textColor1:l,dividerColor:s,fontWeightStrong:c,closeIconColor:u,closeIconColorHover:h,closeIconColorPressed:d,closeColorHover:p,closeColorPressed:v,modalColor:w,boxShadow1:_,popoverColor:M,actionColor:b}=e;return Object.assign(Object.assign({},xo),{lineHeight:r,color:o,colorModal:w,colorPopover:M,colorTarget:t,colorEmbedded:b,colorEmbeddedModal:b,colorEmbeddedPopover:b,textColor:a,titleTextColor:l,borderColor:s,actionColor:b,titleFontWeight:c,closeColorHover:p,closeColorPressed:v,closeBorderRadius:n,closeIconColor:u,closeIconColorHover:h,closeIconColorPressed:d,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:_,borderRadius:n})},wo={name:"Card",common:Jt,self:yo},Rr=wo,bo=R([D("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[vr({background:"var(--n-color-modal)"}),O("hoverable",[R("&:hover","box-shadow: var(--n-box-shadow);")]),O("content-segmented",[R(">",[S("content",{paddingTop:"var(--n-padding-bottom)"})])]),O("content-soft-segmented",[R(">",[S("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),O("footer-segmented",[R(">",[S("footer",{paddingTop:"var(--n-padding-bottom)"})])]),O("footer-soft-segmented",[R(">",[S("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),R(">",[D("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[S("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),S("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),S("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),S("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),S("content","flex: 1; min-width: 0;"),S("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[R("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),S("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),D("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[R("img",`
 display: block;
 width: 100%;
 `)]),O("bordered",`
 border: 1px solid var(--n-border-color);
 `,[R("&:target","border-color: var(--n-color-target);")]),O("action-segmented",[R(">",[S("action",[R("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),O("content-segmented, content-soft-segmented",[R(">",[S("content",{transition:"border-color 0.3s var(--n-bezier)"},[R("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),O("footer-segmented, footer-soft-segmented",[R(">",[S("footer",{transition:"border-color 0.3s var(--n-bezier)"},[R("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),O("embedded",`
 background-color: var(--n-color-embedded);
 `)]),mr(D("card",`
 background: var(--n-color-modal);
 `,[O("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),Ti(D("card",`
 background: var(--n-color-popover);
 `,[O("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),on={title:String,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"}},ko=nn(on),Co=Object.assign(Object.assign({},Ae.props),on),$o=At({name:"Card",props:Co,setup(e){const t=()=>{const{onClose:c}=e;c&&qe(c)},{inlineThemeDisabled:n,mergedClsPrefixRef:r,mergedRtlRef:i}=en(e),o=Ae("Card","-card",bo,Rr,e,r),a=_r("Card",i,r),l=z(()=>{const{size:c}=e,{self:{color:u,colorModal:h,colorTarget:d,textColor:p,titleTextColor:v,titleFontWeight:w,borderColor:_,actionColor:M,borderRadius:b,lineHeight:T,closeIconColor:E,closeIconColorHover:x,closeIconColorPressed:k,closeColorHover:F,closeColorPressed:B,closeBorderRadius:G,closeIconSize:X,closeSize:he,boxShadow:pe,colorPopover:Te,colorEmbedded:Pe,colorEmbeddedModal:Ie,colorEmbeddedPopover:Be,[dt("padding",c)]:Oe,[dt("fontSize",c)]:Fe,[dt("titleFontSize",c)]:ge},common:{cubicBezierEaseInOut:ve}}=o.value,{top:Le,left:I,bottom:oe}=xr(Oe);return{"--n-bezier":ve,"--n-border-radius":b,"--n-color":u,"--n-color-modal":h,"--n-color-popover":Te,"--n-color-embedded":Pe,"--n-color-embedded-modal":Ie,"--n-color-embedded-popover":Be,"--n-color-target":d,"--n-text-color":p,"--n-line-height":T,"--n-action-color":M,"--n-title-text-color":v,"--n-title-font-weight":w,"--n-close-icon-color":E,"--n-close-icon-color-hover":x,"--n-close-icon-color-pressed":k,"--n-close-color-hover":F,"--n-close-color-pressed":B,"--n-border-color":_,"--n-box-shadow":pe,"--n-padding-top":Le,"--n-padding-bottom":oe,"--n-padding-left":I,"--n-font-size":Fe,"--n-title-font-size":ge,"--n-close-size":he,"--n-close-icon-size":X,"--n-close-border-radius":G}}),s=n?tn("card",z(()=>e.size[0]),l,e):void 0;return{rtlEnabled:a,mergedClsPrefix:r,mergedTheme:o,handleCloseClick:t,cssVars:n?void 0:l,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{segmented:e,bordered:t,hoverable:n,mergedClsPrefix:r,rtlEnabled:i,onRender:o,embedded:a,tag:l,$slots:s}=this;return o==null||o(),$(l,{class:[`${r}-card`,this.themeClass,a&&`${r}-card--embedded`,{[`${r}-card--rtl`]:i,[`${r}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${r}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${r}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${r}-card--bordered`]:t,[`${r}-card--hoverable`]:n}],style:this.cssVars,role:this.role},Q(s.cover,c=>c&&$("div",{class:`${r}-card-cover`,role:"none"},c)),Q(s.header,c=>c||this.title||this.closable?$("div",{class:[`${r}-card-header`,this.headerClass],style:this.headerStyle},$("div",{class:`${r}-card-header__main`,role:"heading"},c||this.title),Q(s["header-extra"],u=>u&&$("div",{class:[`${r}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},u)),this.closable?$(yr,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),Q(s.default,c=>c&&$("div",{class:[`${r}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},c)),Q(s.footer,c=>c&&[$("div",{class:[`${r}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},c)]),Q(s.action,c=>c&&$("div",{class:`${r}-card__action`,role:"none"},c)))}}),Mo={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},So=e=>{const{textColor1:t,textColor2:n,modalColor:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeColorHover:l,closeColorPressed:s,infoColor:c,successColor:u,warningColor:h,errorColor:d,primaryColor:p,dividerColor:v,borderRadius:w,fontWeightStrong:_,lineHeight:M,fontSize:b}=e;return Object.assign(Object.assign({},Mo),{fontSize:b,lineHeight:M,border:`1px solid ${v}`,titleTextColor:t,textColor:n,color:r,closeColorHover:l,closeColorPressed:s,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:a,closeBorderRadius:w,iconColor:p,iconColorInfo:c,iconColorSuccess:u,iconColorWarning:h,iconColorError:d,borderRadius:w,titleFontWeight:_})},Ao=wr({name:"Dialog",common:Jt,peers:{Button:Pi},self:So}),zr=Ao,an={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},Eo=nn(an),No=R([D("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[S("icon",{color:"var(--n-icon-color)"}),O("bordered",{border:"var(--n-border)"}),O("icon-top",[S("close",{margin:"var(--n-close-margin)"}),S("icon",{margin:"var(--n-icon-margin)"}),S("content",{textAlign:"center"}),S("title",{justifyContent:"center"}),S("action",{justifyContent:"center"})]),O("icon-left",[S("icon",{margin:"var(--n-icon-margin)"}),O("closable",[S("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),S("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),S("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[O("last","margin-bottom: 0;")]),S("action",`
 display: flex;
 justify-content: flex-end;
 `,[R("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),S("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),S("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),D("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),mr(D("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),D("dialog",[vr(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),Ro={default:()=>$(Cn,null),info:()=>$(Cn,null),success:()=>$(Bi,null),warning:()=>$(Oi,null),error:()=>$(Fi,null)},zo=At({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},Ae.props),an),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:i}=en(e),o=_r("Dialog",i,n),a=z(()=>{var p,v;const{iconPlacement:w}=e;return w||((v=(p=t==null?void 0:t.value)===null||p===void 0?void 0:p.Dialog)===null||v===void 0?void 0:v.iconPlacement)||"left"});function l(p){const{onPositiveClick:v}=e;v&&v(p)}function s(p){const{onNegativeClick:v}=e;v&&v(p)}function c(){const{onClose:p}=e;p&&p()}const u=Ae("Dialog","-dialog",No,zr,e,n),h=z(()=>{const{type:p}=e,v=a.value,{common:{cubicBezierEaseInOut:w},self:{fontSize:_,lineHeight:M,border:b,titleTextColor:T,textColor:E,color:x,closeBorderRadius:k,closeColorHover:F,closeColorPressed:B,closeIconColor:G,closeIconColorHover:X,closeIconColorPressed:he,closeIconSize:pe,borderRadius:Te,titleFontWeight:Pe,titleFontSize:Ie,padding:Be,iconSize:Oe,actionSpace:Fe,contentMargin:ge,closeSize:ve,[v==="top"?"iconMarginIconTop":"iconMargin"]:Le,[v==="top"?"closeMarginIconTop":"closeMargin"]:I,[dt("iconColor",p)]:oe}}=u.value,J=xr(Le);return{"--n-font-size":_,"--n-icon-color":oe,"--n-bezier":w,"--n-close-margin":I,"--n-icon-margin-top":J.top,"--n-icon-margin-right":J.right,"--n-icon-margin-bottom":J.bottom,"--n-icon-margin-left":J.left,"--n-icon-size":Oe,"--n-close-size":ve,"--n-close-icon-size":pe,"--n-close-border-radius":k,"--n-close-color-hover":F,"--n-close-color-pressed":B,"--n-close-icon-color":G,"--n-close-icon-color-hover":X,"--n-close-icon-color-pressed":he,"--n-color":x,"--n-text-color":E,"--n-border-radius":Te,"--n-padding":Be,"--n-line-height":M,"--n-border":b,"--n-content-margin":ge,"--n-title-font-size":Ie,"--n-title-font-weight":Pe,"--n-title-text-color":T,"--n-action-space":Fe}}),d=r?tn("dialog",z(()=>`${e.type[0]}${a.value[0]}`),h,e):void 0;return{mergedClsPrefix:n,rtlEnabled:o,mergedIconPlacement:a,mergedTheme:u,handlePositiveClick:l,handleNegativeClick:s,handleCloseClick:c,cssVars:r?void 0:h,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:n,cssVars:r,closable:i,showIcon:o,title:a,content:l,action:s,negativeText:c,positiveText:u,positiveButtonProps:h,negativeButtonProps:d,handlePositiveClick:p,handleNegativeClick:v,mergedTheme:w,loading:_,type:M,mergedClsPrefix:b}=this;(e=this.onRender)===null||e===void 0||e.call(this);const T=o?$(Ii,{clsPrefix:b,class:`${b}-dialog__icon`},{default:()=>Q(this.$slots.icon,x=>x||(this.icon?ke(this.icon):Ro[this.type]()))}):null,E=Q(this.$slots.action,x=>x||u||c||s?$("div",{class:`${b}-dialog__action`},x||(s?[ke(s)]:[this.negativeText&&$(bn,Object.assign({theme:w.peers.Button,themeOverrides:w.peerOverrides.Button,ghost:!0,size:"small",onClick:v},d),{default:()=>ke(this.negativeText)}),this.positiveText&&$(bn,Object.assign({theme:w.peers.Button,themeOverrides:w.peerOverrides.Button,size:"small",type:M==="default"?"primary":M,disabled:_,loading:_,onClick:p},h),{default:()=>ke(this.positiveText)})])):null);return $("div",{class:[`${b}-dialog`,this.themeClass,this.closable&&`${b}-dialog--closable`,`${b}-dialog--icon-${n}`,t&&`${b}-dialog--bordered`,this.rtlEnabled&&`${b}-dialog--rtl`],style:r,role:"dialog"},i?Q(this.$slots.close,x=>{const k=[`${b}-dialog__close`,this.rtlEnabled&&`${b}-dialog--rtl`];return x?$("div",{class:k},x):$(yr,{clsPrefix:b,class:k,onClick:this.handleCloseClick})}):null,o&&n==="top"?$("div",{class:`${b}-dialog-icon-container`},T):null,$("div",{class:`${b}-dialog__title`},o&&n==="left"?T:null,kn(this.$slots.header,()=>[ke(a)])),$("div",{class:[`${b}-dialog__content`,E?"":`${b}-dialog__content--last`]},kn(this.$slots.default,()=>[ke(l)])),E)}}),To=Li("n-dialog-provider"),Po=e=>{const{modalColor:t,textColor2:n,boxShadow3:r}=e;return{color:t,textColor:n,boxShadow:r}},Io=wr({name:"Modal",common:Jt,peers:{Scrollbar:Di,Dialog:zr,Card:Rr},self:Po}),Bo=Io,sn=Object.assign(Object.assign({},on),an),Oo=nn(sn),Fo=At({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},sn),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=A(null),n=A(null),r=A(e.show),i=A(null),o=A(null);Ue(Dt(e,"show"),_=>{_&&(r.value=!0)}),vo(z(()=>e.blockScroll&&r.value));const a=br(kr);function l(){if(a.transformOriginRef.value==="center")return"";const{value:_}=i,{value:M}=o;if(_===null||M===null)return"";if(n.value){const b=n.value.containerScrollTop;return`${_}px ${M+b}px`}return""}function s(_){if(a.transformOriginRef.value==="center")return;const M=a.getMousePosition();if(!M||!n.value)return;const b=n.value.containerScrollTop,{offsetLeft:T,offsetTop:E}=_;if(M){const x=M.y,k=M.x;i.value=-(T-k),o.value=-(E-x-b)}_.style.transformOrigin=l()}function c(_){Mn(()=>{s(_)})}function u(_){_.style.transformOrigin=l(),e.onBeforeLeave()}function h(){r.value=!1,i.value=null,o.value=null,e.onAfterLeave()}function d(){const{onClose:_}=e;_&&_()}function p(){e.onNegativeClick()}function v(){e.onPositiveClick()}const w=A(null);return Ue(w,_=>{_&&Mn(()=>{const M=_.el;M&&t.value!==M&&(t.value=M)})}),ht(Yi,t),ht(Ui,null),ht(Ki,null),{mergedTheme:a.mergedThemeRef,appear:a.appearRef,isMounted:a.isMountedRef,mergedClsPrefix:a.mergedClsPrefixRef,bodyRef:t,scrollbarRef:n,displayed:r,childNodeRef:w,handlePositiveClick:v,handleNegativeClick:p,handleCloseClick:d,handleAfterLeave:h,handleBeforeLeave:u,handleEnter:c}},render(){const{$slots:e,$attrs:t,handleEnter:n,handleAfterLeave:r,handleBeforeLeave:i,preset:o,mergedClsPrefix:a}=this;let l=null;if(!o){if(l=Hi(e),!l){Gi("modal","default slot is empty");return}l=Wi(l),l.props=Vi({class:`${a}-modal`},t,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Ht($("div",{role:"none",class:`${a}-modal-body-wrapper`},$(qi,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${a}-modal-scroll-content`},{default:()=>{var s;return[(s=this.renderMask)===null||s===void 0?void 0:s.call(this),$(Xi,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var c;return $(Cr,{name:"fade-in-scale-up-transition",appear:(c=this.appear)!==null&&c!==void 0?c:this.isMounted,onEnter:n,onAfterEnter:this.onAfterEnter,onAfterLeave:r,onBeforeLeave:i},{default:()=>{const u=[[$n,this.show]],{onClickoutside:h}=this;return h&&u.push([ji,this.onClickoutside,void 0,{capture:!0}]),Ht(this.preset==="confirm"||this.preset==="dialog"?$(zo,Object.assign({},this.$attrs,{class:[`${a}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Gt(this.$props,Eo),{"aria-modal":"true"}),e):this.preset==="card"?$($o,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${a}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Gt(this.$props,ko),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=l,u)}})}})]}})),[[$n,this.displayDirective==="if"||this.displayed||this.show]]):null}}),Lo=R([D("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),D("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[Qi({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),D("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[D("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),D("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[_o({duration:".25s",enterScale:".5"})])]),Do=Object.assign(Object.assign(Object.assign(Object.assign({},Ae.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),sn),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),Ho=At({name:"Modal",inheritAttrs:!1,props:Do,setup(e){const t=A(null),{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:i}=en(e),o=Ae("Modal","-modal",Lo,Bo,e,n),a=go(64),l=ho(),s=Zi(),c=e.internalDialog?br(To,null):null,u=mo();function h(x){const{onUpdateShow:k,"onUpdate:show":F,onHide:B}=e;k&&qe(k,x),F&&qe(F,x),B&&!x&&B(x)}function d(){const{onClose:x}=e;x?Promise.resolve(x()).then(k=>{k!==!1&&h(!1)}):h(!1)}function p(){const{onPositiveClick:x}=e;x?Promise.resolve(x()).then(k=>{k!==!1&&h(!1)}):h(!1)}function v(){const{onNegativeClick:x}=e;x?Promise.resolve(x()).then(k=>{k!==!1&&h(!1)}):h(!1)}function w(){const{onBeforeLeave:x,onBeforeHide:k}=e;x&&qe(x),k&&k()}function _(){const{onAfterLeave:x,onAfterHide:k}=e;x&&qe(x),k&&k()}function M(x){var k;const{onMaskClick:F}=e;F&&F(x),e.maskClosable&&!((k=t.value)===null||k===void 0)&&k.contains(to(x))&&h(!1)}function b(x){var k;(k=e.onEsc)===null||k===void 0||k.call(e),e.show&&e.closeOnEsc&&fo(x)&&!u.value&&h(!1)}ht(kr,{getMousePosition:()=>{if(c){const{clickedRef:x,clickPositionRef:k}=c;if(x.value&&k.value)return k.value}return a.value?l.value:null},mergedClsPrefixRef:n,mergedThemeRef:o,isMountedRef:s,appearRef:Dt(e,"internalAppear"),transformOriginRef:Dt(e,"transformOrigin")});const T=z(()=>{const{common:{cubicBezierEaseOut:x},self:{boxShadow:k,color:F,textColor:B}}=o.value;return{"--n-bezier-ease-out":x,"--n-box-shadow":k,"--n-color":F,"--n-text-color":B}}),E=i?tn("theme-class",void 0,T,e):void 0;return{mergedClsPrefix:n,namespace:r,isMounted:s,containerRef:t,presetProps:z(()=>Gt(e,Oo)),handleEsc:b,handleAfterLeave:_,handleClickoutside:M,handleBeforeLeave:w,doUpdateShow:h,handleNegativeClick:v,handlePositiveClick:p,handleCloseClick:d,cssVars:i?void 0:T,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){const{mergedClsPrefix:e}=this;return $(eo,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:n}=this;return Ht($("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},$(Fo,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:n?void 0:this.handleClickoutside,renderMask:n?()=>{var r;return $(Cr,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?$("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[Ji,{zIndex:this.zIndex,enabled:this.show}]])}})}});var Wt="http://www.w3.org/1999/xhtml";const Gn={svg:"http://www.w3.org/2000/svg",xhtml:Wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Et(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gn.hasOwnProperty(t)?{space:Gn[t],local:e}:e}function Go(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Wt&&t.documentElement.namespaceURI===Wt?t.createElement(e):t.createElementNS(n,e)}}function Wo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tr(e){var t=Et(e);return(t.local?Wo:Go)(t)}function Vo(){}function ln(e){return e==null?Vo:function(){return this.querySelector(e)}}function qo(e){typeof e!="function"&&(e=ln(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=new Array(a),s,c,u=0;u<a;++u)(s=o[u])&&(c=e.call(s,s.__data__,u,o))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new L(r,this._parents)}function Pr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xo(){return[]}function Ir(e){return e==null?Xo:function(){return this.querySelectorAll(e)}}function jo(e){return function(){return Pr(e.apply(this,arguments))}}function Yo(e){typeof e=="function"?e=jo(e):e=Ir(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],l=a.length,s,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new L(r,i)}function Br(e){return function(){return this.matches(e)}}function Or(e){return function(t){return t.matches(e)}}var Uo=Array.prototype.find;function Ko(e){return function(){return Uo.call(this.children,e)}}function Qo(){return this.firstElementChild}function Zo(e){return this.select(e==null?Qo:Ko(typeof e=="function"?e:Or(e)))}var Jo=Array.prototype.filter;function ea(){return Array.from(this.children)}function ta(e){return function(){return Jo.call(this.children,e)}}function na(e){return this.selectAll(e==null?ea:ta(typeof e=="function"?e:Or(e)))}function ra(e){typeof e!="function"&&(e=Br(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new L(r,this._parents)}function Fr(e){return new Array(e.length)}function ia(){return new L(this._enter||this._groups.map(Fr),this._parents)}function yt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yt.prototype={constructor:yt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function oa(e){return function(){return e}}function aa(e,t,n,r,i,o){for(var a=0,l,s=t.length,c=o.length;a<c;++a)(l=t[a])?(l.__data__=o[a],r[a]=l):n[a]=new yt(e,o[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function sa(e,t,n,r,i,o,a){var l,s,c=new Map,u=t.length,h=o.length,d=new Array(u),p;for(l=0;l<u;++l)(s=t[l])&&(d[l]=p=a.call(s,s.__data__,l,t)+"",c.has(p)?i[l]=s:c.set(p,s));for(l=0;l<h;++l)p=a.call(e,o[l],l,o)+"",(s=c.get(p))?(r[l]=s,s.__data__=o[l],c.delete(p)):n[l]=new yt(e,o[l]);for(l=0;l<u;++l)(s=t[l])&&c.get(d[l])===s&&(i[l]=s)}function la(e){return e.__data__}function ca(e,t){if(!arguments.length)return Array.from(this,la);var n=t?sa:aa,r=this._parents,i=this._groups;typeof e!="function"&&(e=oa(e));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,p=ua(e.call(u,u&&u.__data__,c,r)),v=p.length,w=l[c]=new Array(v),_=a[c]=new Array(v),M=s[c]=new Array(d);n(u,h,w,_,M,p,t);for(var b=0,T=0,E,x;b<v;++b)if(E=w[b]){for(b>=T&&(T=b+1);!(x=_[T])&&++T<v;);E._next=x||null}}return a=new L(a,r),a._enter=l,a._exit=s,a}function ua(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fa(){return new L(this._exit||this._groups.map(Fr),this._parents)}function da(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ha(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var c=n[s],u=r[s],h=c.length,d=l[s]=new Array(h),p,v=0;v<h;++v)(p=c[v]||u[v])&&(d[v]=p);for(;s<i;++s)l[s]=n[s];return new L(l,this._parents)}function pa(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ga(e){e||(e=va);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),c,u=0;u<l;++u)(c=a[u])&&(s[u]=c);s.sort(t)}return new L(i,this._parents).order()}function va(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ma(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _a(){return Array.from(this)}function xa(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ya(){let e=0;for(const t of this)++e;return e}function wa(){return!this.node()}function ba(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function ka(e){return function(){this.removeAttribute(e)}}function Ca(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $a(e,t){return function(){this.setAttribute(e,t)}}function Ma(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Aa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ea(e,t){var n=Et(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ca:ka:typeof t=="function"?n.local?Aa:Sa:n.local?Ma:$a)(n,t))}function Lr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Na(e){return function(){this.style.removeProperty(e)}}function Ra(e,t,n){return function(){this.style.setProperty(e,t,n)}}function za(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ta(e,t,n){return arguments.length>1?this.each((t==null?Na:typeof t=="function"?za:Ra)(e,t,n??"")):Ee(this.node(),e)}function Ee(e,t){return e.style.getPropertyValue(t)||Lr(e).getComputedStyle(e,null).getPropertyValue(t)}function Pa(e){return function(){delete this[e]}}function Ia(e,t){return function(){this[e]=t}}function Ba(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Oa(e,t){return arguments.length>1?this.each((t==null?Pa:typeof t=="function"?Ba:Ia)(e,t)):this.node()[e]}function Dr(e){return e.trim().split(/^|\s+/)}function cn(e){return e.classList||new Hr(e)}function Hr(e){this._node=e,this._names=Dr(e.getAttribute("class")||"")}Hr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Gr(e,t){for(var n=cn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Wr(e,t){for(var n=cn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fa(e){return function(){Gr(this,e)}}function La(e){return function(){Wr(this,e)}}function Da(e,t){return function(){(t.apply(this,arguments)?Gr:Wr)(this,e)}}function Ha(e,t){var n=Dr(e+"");if(arguments.length<2){for(var r=cn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Da:t?Fa:La)(n,t))}function Ga(){this.textContent=""}function Wa(e){return function(){this.textContent=e}}function Va(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qa(e){return arguments.length?this.each(e==null?Ga:(typeof e=="function"?Va:Wa)(e)):this.node().textContent}function Xa(){this.innerHTML=""}function ja(e){return function(){this.innerHTML=e}}function Ya(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ua(e){return arguments.length?this.each(e==null?Xa:(typeof e=="function"?Ya:ja)(e)):this.node().innerHTML}function Ka(){this.nextSibling&&this.parentNode.appendChild(this)}function Qa(){return this.each(Ka)}function Za(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ja(){return this.each(Za)}function es(e){var t=typeof e=="function"?e:Tr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ts(){return null}function ns(e,t){var n=typeof e=="function"?e:Tr(e),r=t==null?ts:typeof t=="function"?t:ln(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rs(){var e=this.parentNode;e&&e.removeChild(this)}function is(){return this.each(rs)}function os(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function as(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ss(e){return this.select(e?as:os)}function ls(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cs(e){return function(t){e.call(this,t,this.__data__)}}function us(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fs(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function ds(e,t,n){return function(){var r=this.__on,i,o=cs(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function hs(e,t,n){var r=us(e+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(l=t?ds:fs,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function Vr(e,t,n){var r=Lr(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ps(e,t){return function(){return Vr(this,e,t)}}function gs(e,t){return function(){return Vr(this,e,t.apply(this,arguments))}}function vs(e,t){return this.each((typeof t=="function"?gs:ps)(e,t))}function*ms(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var un=[null];function L(e,t){this._groups=e,this._parents=t}function ze(){return new L([[document.documentElement]],un)}function _s(){return this}L.prototype=ze.prototype={constructor:L,select:qo,selectAll:Yo,selectChild:Zo,selectChildren:na,filter:ra,data:ca,enter:ia,exit:fa,join:da,merge:ha,selection:_s,order:pa,sort:ga,call:ma,nodes:_a,node:xa,size:ya,empty:wa,each:ba,attr:Ea,style:Ta,property:Oa,classed:Ha,text:qa,html:Ua,raise:Qa,lower:Ja,append:es,insert:ns,remove:is,clone:ss,datum:ls,on:hs,dispatch:vs,[Symbol.iterator]:ms};function xs(e){return typeof e=="string"?new L([[document.querySelector(e)]],[document.documentElement]):new L([[e]],un)}function ys(e){return typeof e=="string"?new L([document.querySelectorAll(e)],[document.documentElement]):new L([Pr(e)],un)}class Wn extends Map{constructor(t,n=ks){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Vn(this,t))}has(t){return super.has(Vn(this,t))}set(t,n){return super.set(ws(this,t),n)}delete(t){return super.delete(bs(this,t))}}function Vn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ws({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bs({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ks(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cs(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $s(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const qn=Symbol("implicit");function Xr(){var e=new Wn,t=[],n=[],r=qn;function i(o){let a=e.get(o);if(a===void 0){if(r!==qn)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Wn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Xr(t,n).unknown(r)},qr.apply(i,arguments),i}function jr(){var e=Xr().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,l=!1,s=0,c=0,u=.5;delete e.unknown;function h(){var d=t().length,p=i<r,v=p?i:r,w=p?r:i;o=(w-v)/Math.max(1,d-s+c*2),l&&(o=Math.floor(o)),v+=(w-v-o*(d-s))*u,a=o*(1-s),l&&(v=Math.round(v),a=Math.round(a));var _=$s(d).map(function(M){return v+o*M});return n(p?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(l=!!d,h()):l},e.padding=function(d){return arguments.length?(s=Math.min(1,c=+d),h()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),h()):s},e.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},e.copy=function(){return jr(t(),[r,i]).round(l).paddingInner(s).paddingOuter(c).align(u)},qr.apply(h(),arguments)}function fn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function et(){}var Ke=.7,wt=1/Ke,Se="\\s*([+-]?\\d+)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ms=/^#([0-9a-f]{3,8})$/,Ss=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),As=new RegExp(`^rgb\\(${Y},${Y},${Y}\\)$`),Es=new RegExp(`^rgba\\(${Se},${Se},${Se},${Qe}\\)$`),Ns=new RegExp(`^rgba\\(${Y},${Y},${Y},${Qe}\\)$`),Rs=new RegExp(`^hsl\\(${Qe},${Y},${Y}\\)$`),zs=new RegExp(`^hsla\\(${Qe},${Y},${Y},${Qe}\\)$`),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fn(et,Ze,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jn,formatHex:jn,formatHex8:Ts,formatHsl:Ps,formatRgb:Yn,toString:Yn});function jn(){return this.rgb().formatHex()}function Ts(){return this.rgb().formatHex8()}function Ps(){return Ur(this).formatHsl()}function Yn(){return this.rgb().formatRgb()}function Ze(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ms.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Un(t):n===3?new H(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ct(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ss.exec(e))?new H(t[1],t[2],t[3],1):(t=As.exec(e))?new H(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Es.exec(e))?ct(t[1],t[2],t[3],t[4]):(t=Ns.exec(e))?ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rs.exec(e))?Zn(t[1],t[2]/100,t[3]/100,1):(t=zs.exec(e))?Zn(t[1],t[2]/100,t[3]/100,t[4]):Xn.hasOwnProperty(e)?Un(Xn[e]):e==="transparent"?new H(NaN,NaN,NaN,0):null}function Un(e){return new H(e>>16&255,e>>8&255,e&255,1)}function ct(e,t,n,r){return r<=0&&(e=t=n=NaN),new H(e,t,n,r)}function Is(e){return e instanceof et||(e=Ze(e)),e?(e=e.rgb(),new H(e.r,e.g,e.b,e.opacity)):new H}function Vt(e,t,n,r){return arguments.length===1?Is(e):new H(e,t,n,r??1)}function H(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fn(H,Vt,Yr(et,{brighter(e){return e=e==null?wt:Math.pow(wt,e),new H(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ke:Math.pow(Ke,e),new H(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new H(fe(this.r),fe(this.g),fe(this.b),bt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kn,formatHex:Kn,formatHex8:Bs,formatRgb:Qn,toString:Qn}));function Kn(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function Bs(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qn(){const e=bt(this.opacity);return`${e===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${e===1?")":`, ${e})`}`}function bt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ue(e){return e=fe(e),(e<16?"0":"")+e.toString(16)}function Zn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new V(e,t,n,r)}function Ur(e){if(e instanceof V)return new V(e.h,e.s,e.l,e.opacity);if(e instanceof et||(e=Ze(e)),!e)return new V;if(e instanceof V)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new V(a,l,s,e.opacity)}function Os(e,t,n,r){return arguments.length===1?Ur(e):new V(e,t,n,r??1)}function V(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fn(V,Os,Yr(et,{brighter(e){return e=e==null?wt:Math.pow(wt,e),new V(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ke:Math.pow(Ke,e),new V(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new H(It(e>=240?e-240:e+120,i,r),It(e,i,r),It(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new V(Jn(this.h),ut(this.s),ut(this.l),bt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bt(this.opacity);return`${e===1?"hsl(":"hsla("}${Jn(this.h)}, ${ut(this.s)*100}%, ${ut(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jn(e){return e=(e||0)%360,e<0?e+360:e}function ut(e){return Math.max(0,Math.min(1,e||0))}function It(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kr=e=>()=>e;function Fs(e,t){return function(n){return e+n*t}}function Ls(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ds(e){return(e=+e)==1?Qr:function(t,n){return n-t?Ls(t,n,e):Kr(isNaN(t)?n:t)}}function Qr(e,t){var n=t-e;return n?Fs(e,n):Kr(isNaN(e)?t:e)}const er=function e(t){var n=Ds(t);function r(i,o){var a=n((i=Vt(i)).r,(o=Vt(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),c=Qr(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bt=new RegExp(qt.source,"g");function Hs(e){return function(){return e}}function Gs(e){return function(t){return e(t)+""}}function Ws(e,t){var n=qt.lastIndex=Bt.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=qt.exec(e))&&(i=Bt.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:ie(r,i)})),n=Bt.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?Gs(s[0].x):Hs(t):(t=s.length,function(c){for(var u=0,h;u<t;++u)l[(h=s[u]).i]=h.x(c);return l.join("")})}var tr=180/Math.PI,Xt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zr(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*tr,skewX:Math.atan(s)*tr,scaleX:a,scaleY:l}}var ft;function Vs(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xt:Zr(t.a,t.b,t.c,t.d,t.e,t.f)}function qs(e){return e==null||(ft||(ft=document.createElementNS("http://www.w3.org/2000/svg","g")),ft.setAttribute("transform",e),!(e=ft.transform.baseVal.consolidate()))?Xt:(e=e.matrix,Zr(e.a,e.b,e.c,e.d,e.e,e.f))}function Jr(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,h,d,p,v){if(c!==h||u!==d){var w=p.push("translate(",null,t,null,n);v.push({i:w-4,x:ie(c,h)},{i:w-2,x:ie(u,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function a(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ie(c,u)})):u&&h.push(i(h)+"rotate("+u+r)}function l(c,u,h,d){c!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ie(c,u)}):u&&h.push(i(h)+"skewX("+u+r)}function s(c,u,h,d,p,v){if(c!==h||u!==d){var w=p.push(i(p)+"scale(",null,",",null,")");v.push({i:w-4,x:ie(c,h)},{i:w-2,x:ie(u,d)})}else(h!==1||d!==1)&&p.push(i(p)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,h,d),a(c.rotate,u.rotate,h,d),l(c.skewX,u.skewX,h,d),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(p){for(var v=-1,w=d.length,_;++v<w;)h[(_=d[v]).i]=_.x(p);return h.join("")}}}var Xs=Jr(Vs,"px, ","px)","deg)"),js=Jr(qs,", ",")",")"),Ys={value:()=>{}};function ei(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pt(n)}function pt(e){this._=e}function Us(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pt.prototype=ei.prototype={constructor:pt,on:function(e,t){var n=this._,r=Us(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=Ks(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=nr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=nr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ks(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function nr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ys,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ne=0,je=0,Ge=0,ti=1e3,kt,Ye,Ct=0,de=0,Nt=0,Je=typeof performance=="object"&&performance.now?performance:Date,ni=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dn(){return de||(ni(Qs),de=Je.now()+Nt)}function Qs(){de=0}function $t(){this._call=this._time=this._next=null}$t.prototype=ri.prototype={constructor:$t,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?dn():+n)+(t==null?0:+t),!this._next&&Ye!==this&&(Ye?Ye._next=this:kt=this,Ye=this),this._call=e,this._time=n,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};function ri(e,t,n){var r=new $t;return r.restart(e,t,n),r}function Zs(){dn(),++Ne;for(var e=kt,t;e;)(t=de-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ne}function rr(){de=(Ct=Je.now())+Nt,Ne=je=0;try{Zs()}finally{Ne=0,el(),de=0}}function Js(){var e=Je.now(),t=e-Ct;t>ti&&(Nt-=t,Ct=e)}function el(){for(var e,t=kt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kt=n);Ye=e,jt(r)}function jt(e){if(!Ne){je&&(je=clearTimeout(je));var t=e-de;t>24?(e<1/0&&(je=setTimeout(rr,e-Je.now()-Nt)),Ge&&(Ge=clearInterval(Ge))):(Ge||(Ct=Je.now(),Ge=setInterval(Js,ti)),Ne=1,ni(rr))}}function ir(e,t,n){var r=new $t;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var tl=ei("start","end","cancel","interrupt"),nl=[],ii=0,or=1,Yt=2,gt=3,ar=4,Ut=5,vt=6;function Rt(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;rl(e,n,{name:t,index:r,group:i,on:tl,tween:nl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ii})}function hn(e,t){var n=q(e,t);if(n.state>ii)throw new Error("too late; already scheduled");return n}function U(e,t){var n=q(e,t);if(n.state>gt)throw new Error("too late; already running");return n}function q(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rl(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ri(o,0,n.time);function o(c){n.state=or,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,h,d,p;if(n.state!==or)return s();for(u in r)if(p=r[u],p.name===n.name){if(p.state===gt)return ir(a);p.state===ar?(p.state=vt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=vt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(ir(function(){n.state===gt&&(n.state=ar,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Yt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yt){for(n.state=gt,i=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=Ut,1),h=-1,d=i.length;++h<d;)i[h].call(e,u);n.state===Ut&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=vt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function il(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Yt&&r.state<Ut,r.state=vt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function ol(e){return this.each(function(){il(this,e)})}function al(e,t){var n,r;return function(){var i=U(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function sl(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=U(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=l;break}s===c&&i.push(l)}o.tween=i}}function ll(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=q(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?al:sl)(n,e,t))}function pn(e,t,n){var r=e._id;return e.each(function(){var i=U(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return q(i,r).value[t]}}function oi(e,t){var n;return(typeof t=="number"?ie:t instanceof Ze?er:(n=Ze(t))?(t=n,er):Ws)(e,t)}function cl(e){return function(){this.removeAttribute(e)}}function ul(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fl(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function dl(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function hl(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function pl(e,t,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l)))}}function gl(e,t){var n=Et(e),r=n==="transform"?js:oi;return this.attrTween(e,typeof t=="function"?(n.local?pl:hl)(n,r,pn(this,"attr."+e,t)):t==null?(n.local?ul:cl)(n):(n.local?dl:fl)(n,r,t))}function vl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ml(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _l(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ml(e,o)),n}return i._value=t,i}function xl(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vl(e,o)),n}return i._value=t,i}function yl(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Et(e);return this.tween(n,(r.local?_l:xl)(r,t))}function wl(e,t){return function(){hn(this,e).delay=+t.apply(this,arguments)}}function bl(e,t){return t=+t,function(){hn(this,e).delay=t}}function kl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wl:bl)(t,e)):q(this.node(),t).delay}function Cl(e,t){return function(){U(this,e).duration=+t.apply(this,arguments)}}function $l(e,t){return t=+t,function(){U(this,e).duration=t}}function Ml(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cl:$l)(t,e)):q(this.node(),t).duration}function Sl(e,t){if(typeof t!="function")throw new Error;return function(){U(this,e).ease=t}}function Al(e){var t=this._id;return arguments.length?this.each(Sl(t,e)):q(this.node(),t).ease}function El(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;U(this,e).ease=n}}function Nl(e){if(typeof e!="function")throw new Error;return this.each(El(this._id,e))}function Rl(e){typeof e!="function"&&(e=Br(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,l=r[i]=[],s,c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new Z(r,this._parents,this._name,this._id)}function zl(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=t[l],c=n[l],u=s.length,h=a[l]=new Array(u),d,p=0;p<u;++p)(d=s[p]||c[p])&&(h[p]=d);for(;l<r;++l)a[l]=t[l];return new Z(a,this._parents,this._name,this._id)}function Tl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Pl(e,t,n){var r,i,o=Tl(t)?hn:U;return function(){var a=o(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function Il(e,t){var n=this._id;return arguments.length<2?q(this.node(),n).on.on(e):this.each(Pl(n,e,t))}function Bl(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ol(){return this.on("end.remove",Bl(this._id))}function Fl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ln(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,c=o[a]=new Array(s),u,h,d=0;d<s;++d)(u=l[d])&&(h=e.call(u,u.__data__,d,l))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,Rt(c[d],t,n,d,c,q(u,n)));return new Z(o,this._parents,t,n)}function Ll(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ir(e));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],c=s.length,u,h=0;h<c;++h)if(u=s[h]){for(var d=e.call(u,u.__data__,h,s),p,v=q(u,n),w=0,_=d.length;w<_;++w)(p=d[w])&&Rt(p,t,n,w,d,v);o.push(d),a.push(u)}return new Z(o,a,t,n)}var Dl=ze.prototype.constructor;function Hl(){return new Dl(this._groups,this._parents)}function Gl(e,t){var n,r,i;return function(){var o=Ee(this,e),a=(this.style.removeProperty(e),Ee(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function ai(e){return function(){this.style.removeProperty(e)}}function Wl(e,t,n){var r,i=n+"",o;return function(){var a=Ee(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function Vl(e,t,n){var r,i,o;return function(){var a=Ee(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Ee(this,e))),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}function ql(e,t){var n,r,i,o="style."+t,a="end."+o,l;return function(){var s=U(this,e),c=s.on,u=s.value[o]==null?l||(l=ai(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),s.on=r}}function Xl(e,t,n){var r=(e+="")=="transform"?Xs:oi;return t==null?this.styleTween(e,Gl(e,r)).on("end.style."+e,ai(e)):typeof t=="function"?this.styleTween(e,Vl(e,r,pn(this,"style."+e,t))).each(ql(this._id,e)):this.styleTween(e,Wl(e,r,t),n).on("end.style."+e,null)}function jl(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Yl(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&jl(e,a,n)),r}return o._value=t,o}function Ul(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Yl(e,t,n??""))}function Kl(e){return function(){this.textContent=e}}function Ql(e){return function(){var t=e(this);this.textContent=t??""}}function Zl(e){return this.tween("text",typeof e=="function"?Ql(pn(this,"text",e)):Kl(e==null?"":e+""))}function Jl(e){return function(t){this.textContent=e.call(this,t)}}function ec(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Jl(i)),t}return r._value=e,r}function tc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ec(e))}function nc(){for(var e=this._name,t=this._id,n=li(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,c=0;c<l;++c)if(s=a[c]){var u=q(s,t);Rt(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Z(r,this._parents,e,n)}function rc(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var c=U(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),c.on=t}),i===0&&o()})}var ic=0;function Z(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function si(e){return ze().transition(e)}function li(){return++ic}var K=ze.prototype;Z.prototype=si.prototype={constructor:Z,select:Fl,selectAll:Ll,selectChild:K.selectChild,selectChildren:K.selectChildren,filter:Rl,merge:zl,selection:Hl,transition:nc,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:Il,attr:gl,attrTween:yl,style:Xl,styleTween:Ul,text:Zl,textTween:tc,remove:Ol,tween:ll,delay:kl,duration:Ml,ease:Al,easeVarying:Nl,end:rc,[Symbol.iterator]:K[Symbol.iterator]};function oc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function Mt(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var Re=2*Math.PI,gn=1,vn=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Re);function i(o){return t*Mt(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return e(o,n*Re)},i.period=function(o){return e(t,o)},i})(gn,vn);var ac=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Re);function i(o){return 1-t*Mt(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return e(o,n*Re)},i.period=function(o){return e(t,o)},i}(gn,vn);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Re);function i(o){return((o=o*2-1)<0?t*Mt(-o)*Math.sin((r-o)/n):2-t*Mt(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return e(o,n*Re)},i.period=function(o){return e(t,o)},i})(gn,vn);var sc={time:null,delay:0,duration:250,ease:oc};function lc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cc(e){var t,n;e instanceof Z?(t=e._id,e=e._name):(t=li(),(n=sc).time=dn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,c=0;c<l;++c)(s=a[c])&&Rt(s,e,t,c,a,n||lc(s,t));return new Z(r,this._parents,e,t)}ze.prototype.interrupt=ol;ze.prototype.transition=cc;function $e(e){return function(){return e}}const sr=1e-12,Kt=Math.PI,Qt=2*Kt,le=1e-6,uc=Qt-le;function ci(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fc(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ci;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ci:fc(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,s=r-t,c=i-n,u=a-t,h=l-n,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>le)if(!(Math.abs(h*s-c*u)>le)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,v=i-l,w=s*s+c*c,_=p*p+v*v,M=Math.sqrt(w),b=Math.sqrt(d),T=o*Math.tan((Kt-Math.acos((w+d-_)/(2*M*b)))/2),E=T/b,x=T/M;Math.abs(E-1)>le&&this._append`L${t+E*u},${n+E*h}`,this._append`A${o},${o},0,0,${+(h*p>u*v)},${this._x1=t+x*s},${this._y1=n+x*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),c=t+l,u=n+s,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>le||Math.abs(this._y1-u)>le)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%Qt+Qt),d>uc?this._append`A${r},${r},0,1,${h},${t-l},${n-s}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:d>le&&this._append`A${r},${r},0,${+(d>=Kt)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hc(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new dc(t)}function pc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ui(e){this._context=e}ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gc(e){return new ui(e)}function vc(e){return e[0]}function mc(e){return e[1]}function _c(e,t){var n=$e(!0),r=null,i=gc,o=null,a=hc(l);e=typeof e=="function"?e:e===void 0?vc:$e(e),t=typeof t=="function"?t:t===void 0?mc:$e(t);function l(s){var c,u=(s=pc(s)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&n(h=s[c],c,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(h,c,s),+t(h,c,s));if(p)return o=null,p+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:$e(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:$e(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:$e(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),l):r},l}function lr(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function mn(e,t){this._context=e,this._k=(1-t)/6}mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:lr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new mn(r,t)}return n.tension=function(r){return e(+r)},n})(0);function xc(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>sr){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>sr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function fi(e,t){this._context=e,this._alpha=t}fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:xc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yc=function e(t){function n(r){return t?new fi(r,t):new mn(r,0)}return n.alpha=function(r){return e(+r)},n}(.5),C={select:xs,selectAll:ys,scaleBand:jr,max:Cs,transition:si,easeElasticOut:ac,line:_c,curveCatmullRom:yc};function wc(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}const di=e=>(so("data-v-1e3d8320"),e=e(),lo(),e),bc=di(()=>Me("div",{id:"tooltip"},[Me("div",{class:"tooltip-title"}),Me("div",{class:"tooltip-citation"})],-1)),kc=di(()=>Me("div",{id:"home-map"},null,-1)),cr=.85,ur=.8,re="#333447",fr="#514efd",dr="lightgrey",Ot="1.5px",We=1e3,Ve=50,Cc={__name:"HomeMap",setup(e){const t=Sn(()=>An(()=>import("./ThePaginator-96ce3001.js"),["assets/ThePaginator-96ce3001.js","assets/index-052bb65a.js","assets/index-ede224c2.css"])),n=Sn(()=>An(()=>import("./DetailsMapContainer-a32921d7.js").then(f=>f.D),["assets/DetailsMapContainer-a32921d7.js","assets/index-052bb65a.js","assets/index-ede224c2.css"])),r=$r(),i=ro(),o=io();gr(()=>{l(),i.numberOfGraphs===0||s(),De.value=C.select("#tooltip")}),Ue(()=>i.numberOfGraphs,()=>{i.homeMapGraph?c():C.select("#svg-chart").remove()});const a=wc(()=>{c()},500);Ue(()=>r.width,()=>{a()});function l(){p(),w(),Te()}function s(){E(Le),mi(bi),$i(Si),Ni()}function c(){C.select("#svg-chart").remove(),l(),s()}const u=A(null),h=A(null),d=z(()=>r.height*cr-r.ctrMarginV*2);function p(){u.value=C.select("#home-map").append("svg").attr("id","svg-chart").attr("viewBox",`0 0 ${r.width} ${r.height*cr}`),h.value=u.value.append("g").attr("id","chart-container").attr("transform",`translate(${r.ctrMarginH}, ${r.ctrMarginV})`)}const v=A(null);function w(){v.value=C.scaleBand().domain(["sdgs","works","fields"]).align(.5).range([0,r.width-r.ctrMarginH*2])}const _=A(null);function M(f,m){const g=Array.from({length:m},(W,ae)=>ae+f.length);if(r.isMobile)return[...f,...g];const y=Math.ceil(m/2),P=g.slice(0,y),N=g.slice(y);return[...P,...f,...N]}function b(){let f=i.homeMapGraph.works.map(g=>g.id);const m=o.pageSize-f.length;return m>0&&(f=M(f,m)),f}function T(){return r.isMobile?[d.value*.5,d.value]:[0,d.value]}function E(f){i.homeMapGraph.works&&(_.value=C.scaleBand().domain(b()).paddingInner(.25).align(.5).range(T()),f(i.homeMapGraph.works,gi))}function x(f){const m=_.value.bandwidth()*.95;if(f==="work-title")return`${m}px`;if(f==="sdg-id")return r.isMobile?`${m*.75}px`:`${m}px`;if(f==="sdg-label")return r.isMobile?`${m*.65}px`:`${m*.8}px`;if(f==="field")return r.isMobile?`${m*.75}px`:`${m}px`}const k=z(()=>({workTitle:x("work-title").replace("px",""),sdgId:x("sdg-id").replace("px",""),sdgLabel:x("sdg-label").replace("px",""),field:x("field").replace("px",""),worksBandwidth:_.value.bandwidth(),worksRange:T()})),F=C.easeElasticOut.amplitude(1).period(.4),B=A(null),G=A(null),X=A(null),he=A(null),pe=A(null);function Te(){Pe(v.value,Oe),Ie(v.value),Be(v.value,Fe)}function Pe(f,m){B.value=h.value.append("g").attr("class","sdgs-group").attr("transform",`translate(${f("sdgs")}, 0)`),m()}function Ie(f){G.value=h.value.append("g").attr("class","works-group").attr("transform",`translate(${f("works")}, 0)`)}function Be(f,m){X.value=h.value.append("g").attr("class","fields-group").attr("transform",`translate(${f("fields")}, 0)`),m()}function Oe(){he.value=B.value.append("g").attr("class","sdg-paths-group")}function Fe(){pe.value=X.value.append("g").attr("class","field-paths-group")}const ge=z(()=>r.isMobile?`-${v.value.bandwidth()*ur}`:0);function ve(f){return f.map(m=>m.type==="sdg"?`sdg-${m.id}`:`field-${be(m.id)}`)}function Le(f,m){G.value.selectAll(".work").data(f).join(g=>g.append("g").attr("class","work").attr("transform",`translate(${ge.value}, ${d.value*.5})`).each(function(){C.select(this).append("rect").attr("class",y=>["work-rect",...ve(y.links)].join(" ")).attr("data-id",y=>y.id),C.select(this).append("text").attr("class","work-title").attr("data-id",y=>y.id).text(y=>y.title),C.select(this).append("rect").attr("class","work-overlay")}),g=>g,g=>g),G.value.selectAll(".work-rect,.work-overlay").attr("width",()=>r.isMobile?v.value.bandwidth()+2*v.value.bandwidth()*ur:v.value.bandwidth()).attr("height",_.value.bandwidth()),G.value.selectAll(".work-rect").attr("stroke",re).attr("fill",re),G.value.selectAll(".work-overlay").attr("class",g=>["work-overlay",...ve(g.links)].join(" ")).attr("data-id",g=>g.id).attr("data-type","works").attr("data-index",(g,y)=>y).attr("fill-opacity",0).attr("cursor","pointer"),G.value.selectAll(".work-title").attr("x",v.value.bandwidth()*.01).attr("y",_.value.bandwidth()*.85).style("font-size",x("work-title")).attr("fill","white"),G.value.selectAll(".work").transition().duration(We).ease(F).attr("transform",g=>`translate(${ge.value}, ${_.value(g.id)})`),m()}function I(f){return f==="mouseover"?fr:re}function oe(f){return f==="mouseover"?fr:dr}function J(f){return f==="mouseover"?"2.5px":Ot}function tt(f){return f==="mouseover"?"bold":"regular"}const De=A();function hi(f){De.value.select(".tooltip-title").text(f.title),De.value.select(".tooltip-citation").text(`${f.year}${f.source.name?`: ${f.source.name}`:""}`)}function pi(f,m){De.value.style("visibility",f==="mouseover"?"visible":"hidden"),De.value.style("width",`${r.width}px`).style("left",`${m.left+m.width/2-r.width/2}px`).style("top",`${m.top-85}px`)}function gi(){G.value.selectAll(".work-overlay").on("mouseover mouseout",function(f,m){const g=C.select(this).attr("data-id");C.select(`.work-rect[data-id='${g}']`).attr("stroke",I(f.type)).attr("fill",I(f.type)),C.selectAll(`.work-line-${g}`).attr("stroke",oe(f.type)).attr("stroke-width",J(f.type)),C.selectAll(`.work-element-${g} circle`).attr("stroke",I(f.type)).attr("fill",I(f.type)),C.selectAll(`.sdg.work-element-${g} .sdg-id`).attr("fill",I(f.type)).attr("font-weight",tt(f.type)),C.selectAll(`.field.work-element-${g} .field-name`).attr("fill",I(f.type)).attr("font-weight",tt(f.type)),hi(m),pi(f.type,this.getBoundingClientRect())})}const nt=z(()=>r.isMobile?r.width*Ve:r.width*1.5),_n=z(()=>r.isMobile?d.value*.225:d.value*.45),j=z(()=>Math.sqrt(Math.pow(nt.value,2)+Math.pow(_n.value,2))),rt=z(()=>Math.tan(_n.value/nt.value)*(180/Math.PI)),me=z(()=>i.homeMapGraph.sdgs.length>1?180-rt.value:180),_e=z(()=>{let f=null;return i.homeMapGraph.sdgs&&(f=i.homeMapGraph.sdgs.length>1?rt.value*2/(i.homeMapGraph.sdgs.length-1):1),f}),xe=z(()=>i.homeMapGraph.fields.length>1?rt.value:0),ye=z(()=>{let f=null;return i.homeMapGraph.fields&&(f=i.homeMapGraph.fields.length>1?rt.value*2/(i.homeMapGraph.fields.length-1):1),f}),we=z(()=>r.isMobile?.8:.25),zt=z(()=>_.value.bandwidth()*.5),ee=z(()=>zt.value*2);function it(f){return f*(Math.PI/180)}function te(f,m,g,y,P){const N=g*Math.cos(it(m)+it(y*P)),W=f==="sdg"?nt.value:-nt.value,ae=f==="sdg"?v.value.bandwidth()*(1-we.value):v.value.bandwidth()*we.value;return W+N+ae}function ne(f,m,g,y){const P=-(m*Math.sin(it(f)+it(g*y)));return r.isMobile?d.value*.25+P:d.value*.5+P}function xn(f){return C.line().x(g=>g.x).y(g=>g.y).curve(C.curveCatmullRom.alpha(.6))(f)}const ot=z(()=>r.isMobile?j.value+v.value.bandwidth()*(1-we.value)*.5:j.value*.995);function vi(){const f=[];return i.homeMapGraph.sdgs.forEach((m,g)=>{const y=te("sdg",me.value,j.value,_e.value,g),P=ne(me.value,j.value,_e.value,g),N=te("sdg",me.value,ot.value,_e.value,g),W=ne(me.value,ot.value,_e.value,g),ae=r.isMobile?v.value.bandwidth()*(1-we.value)*.75:v.value.bandwidth(),Tt=r.isMobile?v.value.bandwidth()*(1-we.value):v.value.bandwidth();i.sdgWorkNodes[m.id].works.forEach(se=>{const Pt={id:m.id,work:se,coordinates:[{x:y,y:P},{x:N,y:W},{x:ae,y:_.value(se)+_.value.bandwidth()*.5},{x:Tt,y:_.value(se)+_.value.bandwidth()*.5}]};f.push(Pt)})}),f}function mi(f){if(i.homeMapGraph.sdgs){const m=vi();he.value.selectAll(".sdg-line").data(m).join(g=>g.append("path").attr("class",y=>["sdg-line",`sdg-${y.id}`,`work-line-${y.work}`].join(" ")).attr("d",y=>xn(y.coordinates)).attr("stroke","white").attr("fill","none").attr("stroke-width",Ot),g=>g,g=>g),B.value.selectAll(".sdg-line").transition().duration(We*1.5).attr("stroke",dr),f(i.homeMapGraph.sdgs,yi,wi,ki)}}function _i(f){return`SDG ${f.id}`}function xi(f){return i.sdgWorkNodes[f].works.map(m=>`work-element-${m}`)}function yn(f,m){f.append("text").attr("class",m).text(g=>g.name).attr("x",()=>r.isMobile?ee.value:-ee.value).attr("y",0).attr("dominant-baseline","text-before-edge").style("font-size",()=>x("sdg-label")).attr("text-anchor",()=>r.isMobile?"start":"end")}function yi(f){B.value.selectAll(".sdg-dummy-label").join(f).each(function(m){m.labelBbox=this.getBBox()})}function wi(f){C.selectAll(".sdg-dummy-label").remove();const m=B.value.selectAll(".sdg").data(f).join("g");m.append("rect").attr("x",g=>r.isMobile?ee.value:-(g.labelBbox.width+ee.value)).attr("y",0).attr("fill",g=>g.color).attr("opacity","0.4").attr("width",g=>g.labelBbox.width).attr("height",g=>g.labelBbox.height),yn(m,"sdg-label")}function bi(f,m,g,y){B.value.selectAll(".sdg").data(f).join(P=>P.append("g").attr("class",N=>["sdg",`sdg-${N.id}`,...xi(N.id)].join(" ")).attr("data-id",N=>N.id).attr("data-type","sdgs").attr("data-index",(N,W)=>W).attr("transform",(N,W)=>`translate(${te("sdg",180,r.isMobile?r.width*Ve:r.width*1.25,0,W)}, ${ne(180,r.isMobile?r.width*Ve:r.width*1.25,0,W)})`).attr("cursor","pointer").each(function(){C.select(this).append("circle").attr("class","sdg-circle").attr("data-id",N=>N.id).attr("r",zt.value).attr("stroke",re).attr("fill",re),C.select(this).append("text").attr("class","sdg-id").attr("data-id",N=>N.id).text(N=>_i(N)).attr("x",()=>r.isMobile?ee.value:-ee.value).attr("y",0).style("font-size",x("sdg-id")).attr("dominant-baseline","text-after-edge").attr("text-anchor",()=>r.isMobile?"start":"end"),yn(C.select(this),"sdg-dummy-label")}),P=>P,P=>P),B.value.selectAll(".sdg").transition().duration(We).ease(F).attr("transform",(P,N)=>`translate(${te("sdg",me.value,j.value,_e.value,N)}, ${ne(me.value,j.value,_e.value,N)})`),m(f),g(i.homeMapGraph.sdgs),y()}function ki(){B.value.selectAll(".sdg").on("mouseover mouseout",function(f){const m=C.select(this).attr("data-id");C.select(this).select(".sdg-circle").attr("stroke",I(f.type)).attr("fill",I(f.type)),C.select(this).select(".sdg-id").attr("fill",I(f.type)).attr("font-weight",tt(f.type)),C.selectAll(`.sdg-line.sdg-${m}`).attr("stroke",oe(f.type)).attr("stroke-width",J(f.type)),C.selectAll(`.work-rect.sdg-${m}`).attr("stroke",I(f.type)).attr("fill",I(f.type))})}function Ci(){const f=[];return i.homeMapGraph.fields.forEach((m,g)=>{const y=te("field",xe.value,j.value,-ye.value,g),P=ne(xe.value,j.value,-ye.value,g),N=te("field",xe.value,ot.value,-ye.value,g),W=ne(xe.value,ot.value,-ye.value,g),ae=r.isMobile?v.value.bandwidth()*.85:0,Tt=r.isMobile?v.value.bandwidth()*we.value:0;i.fieldWorkNodes[m.name].works.forEach(se=>{const Pt={id:m.name,work:se,coordinates:[{x:y,y:P},{x:N,y:W},{x:ae,y:_.value(se)+_.value.bandwidth()*.5},{x:Tt,y:_.value(se)+_.value.bandwidth()*.5}]};f.push(Pt)})}),f}function $i(f){if(i.homeMapGraph.fields){const m=Ci();pe.value.selectAll(".field-line").data(m).join(g=>g.append("path").attr("class",y=>["field-line",`field-${be(y.id)}`,`work-line-${y.work}`].join(" ")).attr("d",y=>xn(y.coordinates)).attr("stroke","white").attr("fill","none").attr("stroke-width",Ot),g=>g,g=>g),X.value.selectAll(".field-line").transition().duration(We*1.5).attr("stroke","lightgrey"),f(i.homeMapGraph.fields,Ai)}}function Mi(f){return i.fieldWorkNodes[f].works.map(m=>`work-element-${m}`)}function be(f){return f.replace(/[()"\s,]/g,"")}function Si(f,m){X.value.selectAll(".field").data(f).join(g=>g.append("g").attr("class",y=>["field",`field-${be(y.name)}`,...Mi(y.name)].join(" ")).attr("data-name",y=>be(y.name)).attr("data-type","fields").attr("data-index",(y,P)=>P).attr("transform",(y,P)=>`translate(${te("field",0,r.isMobile?r.width*Ve:r.width*1.25,0,P)}, ${ne(0,r.isMobile?r.width*Ve:r.width*1.25,0,P)})`).attr("cursor","pointer").each(function(){C.select(this).append("circle").attr("class","field-circle").attr("data-name",y=>be(y.name)).attr("r",zt.value).attr("stroke",re).attr("fill",re),C.select(this).append("text").attr("class","field-name").attr("data-name",y=>be(y.name)).text(y=>y.name).attr("x",()=>r.isMobile?-ee.value:ee.value).attr("y",0).style("font-size",x("field")).attr("fill",re).attr("dominant-baseline","middle").attr("text-anchor",()=>r.isMobile?"end":"start")}),g=>g,g=>g),X.value.selectAll("g.field").transition().duration(We).ease(F).attr("transform",(g,y)=>`translate(${te("field",xe.value,j.value,-ye.value,y)}, ${ne(xe.value,j.value,-ye.value,y)})`),m()}function Ai(){X.value.selectAll(".field").on("mouseover mouseout",function(f){const m=C.select(this).attr("data-name");C.select(this).select(".field-circle").attr("stroke",I(f.type)).attr("fill",I(f.type)),C.select(this).select(".field-name").attr("fill",I(f.type)).attr("font-weight",tt(f.type)),C.selectAll(`.field-line.field-${m}`).attr("stroke",oe(f.type)).attr("stroke-width",J(f.type)),C.selectAll(`.work-rect.field-${m}`).attr("stroke",I(f.type)).attr("fill",I(f.type))})}const at=A(!1),wn=A(null);function Ei(f){wn.value=f,at.value=!0}function Ni(){h.value.selectAll(".work-overlay,.sdg,.field").on("click",function(){const f=C.select(this).attr("data-type"),m=C.select(this).attr("data-index"),g=i.homeMapGraph[f][m];Ei({type:f,root:g,sizes:k})})}return(f,m)=>(_t(),Mr(ao,null,[xt(ce(Ho),{id:"details-modal",style:oo({width:ce(r).modalWidth}),show:at.value,"onUpdate:show":m[0]||(m[0]=g=>at.value=g),"mask-closable":!0,preset:"card","destroy-on-close":"","on-after-leave":ce(i).resetDetailsMapGraph},{default:Sr(()=>[at.value?(_t(),Ar(ce(n),{key:0,"input-obj":wn.value},null,8,["input-obj"])):Er("",!0)]),_:1},8,["style","show","on-after-leave"]),bc,kc,Me("div",null,[xt(ce(t))])],64))}},$c=no(Cc,[["__scopeId","data-v-1e3d8320"]]);const Mc={key:0,class:"map-search"},Sc={class:"map-area"},Ac={__name:"MapView",setup(e){const t=$r();return(n,r)=>(_t(),Ar(ce(uo),{vertical:"",class:"map-view"},{default:Sr(()=>[ce(t).isMobile?(_t(),Mr("div",Mc,[xt(co)])):Er("",!0),Me("div",Sc,[xt($c)])]),_:1}))}},Rc=Object.freeze(Object.defineProperty({__proto__:null,default:Ac},Symbol.toStringTag,{value:"Module"}));export{Rc as M,wc as a,C as d,_o as f,nn as k,Nc as m};
